import{l as e,o as t}from"./index-Cu0Sv9tC.js";import{N as n,Q as r,at as i,it as a,o,ot as s,q as c,s as l,st as u}from"./extends-lJ0sBh_I.js";function d(e,t,i,a){var o;return o=class extends r{constructor(n){for(let r in super({vertexShader:t,fragmentShader:i,...n}),e)this.uniforms[r]=new s(e[r]),Object.defineProperty(this,r,{get(){return this.uniforms[r].value},set(e){this.uniforms[r].value=e}});this.uniforms=u.clone(this.uniforms),a?.(this)}},o.key=n.generateUUID(),o}var f=e(t()),p=e=>e===Object(e)&&!Array.isArray(e)&&typeof e!=`function`;function m(e,t){let n=l(e=>e.gl),r=o(i,p(e)?Object.values(e):e);return(0,f.useLayoutEffect)(()=>{t?.(r)},[t]),(0,f.useEffect)(()=>{if(`initTexture`in n){let e=[];Array.isArray(r)?e=r:r instanceof a?e=[r]:p(r)&&(e=Object.values(r)),e.forEach(e=>{e instanceof a&&n.initTexture(e)})}},[n,r]),(0,f.useMemo)(()=>{if(p(e)){let t={},n=0;for(let i in e)t[i]=r[n++];return t}else return r},[e,r])}m.preload=e=>o.preload(i,e),m.clear=e=>o.clear(i,e);var h=(()=>parseInt(`181`.replace(/\D+/g,``)))();export{m as n,d as r,h as t};