import{a as e,i as t,n,r,s as i,t as a}from"./index-3rpWcrmD.js";import{$n as o,An as s,Ar as c,Bn as l,Cn as u,Cr as d,Dn as f,Dr as p,Dt as m,E as h,En as g,Er as _,Et as v,F as y,Fn as b,Fr as x,Ft as S,G as C,Gn as w,Gt as T,H as E,Hn as D,Ht as O,I as k,In as A,Ir as j,It as M,J as ee,Jt as te,Kn as ne,Kt as re,L as ie,Ln as ae,Lr as N,Mn as oe,Mr as P,Mt as se,N as F,Nn as ce,Nr as I,On as L,Or as R,Q as z,Qn as B,Rn as le,Sn as ue,Tn as V,Tt as H,U as de,Un as fe,Ut as pe,Vn as me,Vt as he,W as ge,Wn as _e,X as ve,Yn as ye,Yt as be,Z as xe,Zn as Se,_ as Ce,_n as we,_r as Te,a as Ee,an as De,ar as Oe,at as ke,b as Ae,bn as je,br as Me,c as Ne,cr as Pe,d as Fe,dr as Ie,er as Le,et as Re,f as ze,gn as Be,gr as U,gt as Ve,i as He,in as Ue,ir as We,it as Ge,j as Ke,jn as qe,jr as Je,kn as Ye,kr as Xe,l as Ze,ln as W,lr as Qe,m as $e,mn as et,mt as tt,n as nt,nr as rt,o as it,on as at,or as ot,p as st,pn as ct,q as lt,qn as ut,qt as dt,r as ft,s as pt,sr as mt,st as ht,t as gt,tn as _t,tr as vt,u as yt,un as bt,ur as xt,vn as St,vr as Ct,wr as wt,wt as Tt,xn as Et,xr as Dt,xt as Ot,yn as kt,yr as At,z as jt,zn as Mt,zt as Nt}from"./sc_outline-CrtSLWYB.js";var G=i(a(),1),Pt=i(r(),1),K=i(t());function Ft(e,t,n){return Math.max(t,Math.min(e,n))}var It={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function Lt(e,t,n){return t===0||Math.abs(t)===1/0?e**(n*5):e*t*n/(t+n*e)}function Rt(e,t,n,r=.15){return r===0?Ft(e,t,n):e<t?-Lt(t-e,n-t,r)+t:e>n?+Lt(e-n,n-t,r)+n:e}function zt(e,[t,n],[r,i]){let[[a,o],[s,c]]=e;return[Rt(t,a,o,r),Rt(n,s,c,i)]}function Bt(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function Vt(e){var t=Bt(e,`string`);return typeof t==`symbol`?t:String(t)}function Ht(e,t,n){return t=Vt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?Ut(Object(n),!0).forEach(function(t){Ht(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wt={pointer:{start:`down`,change:`move`,end:`up`},mouse:{start:`down`,change:`move`,end:`up`},touch:{start:`start`,change:`move`,end:`end`},gesture:{start:`start`,change:`change`,end:`end`}};function Gt(e){return e?e[0].toUpperCase()+e.slice(1):``}var Kt=[`enter`,`leave`];function qt(e=!1,t){return e&&!Kt.includes(t)}function Jt(e,t=``,n=!1){let r=Wt[e],i=r&&r[t]||t;return`on`+Gt(e)+Gt(i)+(qt(n,i)?`Capture`:``)}var Yt=[`gotpointercapture`,`lostpointercapture`];function Xt(e){let t=e.substring(2).toLowerCase(),n=!!~t.indexOf(`passive`);n&&(t=t.replace(`passive`,``));let r=Yt.includes(t)?`capturecapture`:`capture`,i=!!~t.indexOf(r);return i&&(t=t.replace(`capture`,``)),{device:t,capture:i,passive:n}}function Zt(e,t=``){let n=Wt[e],r=n&&n[t]||t;return e+r}function Qt(e){return`touches`in e}function $t(e){return Qt(e)?`touch`:`pointerType`in e?e.pointerType:`mouse`}function en(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)==null||(r=n.contains)==null?void 0:r.call(n,t.target))})}function tn(e){return e.type===`touchend`||e.type===`touchcancel`?e.changedTouches:e.targetTouches}function nn(e){return Qt(e)?tn(e)[0]:e}function rn(e){return en(e).map(e=>e.identifier)}function an(e){let t=nn(e);return Qt(e)?t.identifier:t.pointerId}function on(e){let t=nn(e);return[t.clientX,t.clientY]}function sn(e){let t={};if(`buttons`in e&&(t.buttons=e.buttons),`shiftKey`in e){let{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a})}return t}function cn(e,...t){return typeof e==`function`?e(...t):e}function ln(){}function un(...e){return e.length===0?ln:e.length===1?e[0]:function(){let t;for(let n of e)t=n.apply(this,arguments)||t;return t}}function dn(e,t){return Object.assign({},t,e||{})}var fn=32,pn=class{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:t,ingKey:n,args:r}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?cn(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){let t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:t,config:n,shared:r}=this;t.args=this.args;let i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,sn(e)),r.down=r.pressed=r.buttons%2==1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){let e=t._delta.map(Math.abs);It.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);let[a,o]=t._movement,[s,c]=n.threshold,{_step:l,values:u}=t;if(n.hasCustomTransform?(l[0]===!1&&(l[0]=Math.abs(a)>=s&&u[0]),l[1]===!1&&(l[1]=Math.abs(o)>=c&&u[1])):(l[0]===!1&&(l[0]=Math.abs(a)>=s&&Math.sign(a)*s),l[1]===!1&&(l[1]=Math.abs(o)>=c&&Math.sign(o)*c)),t.intentional=l[0]!==!1||l[1]!==!1,!t.intentional)return;let d=[0,0];if(n.hasCustomTransform){let[e,t]=u;d[0]=l[0]===!1?0:e-l[0],d[1]=l[1]===!1?0:t-l[1]}else d[0]=l[0]===!1?0:a-l[0],d[1]=l[1]===!1?0:o-l[1];this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);let f=t.offset,p=t._active&&!t._blocked||t.active;p&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&(`bounds`in n&&(t._bounds=cn(n.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));let[m,h]=t.offset,[[g,_],[v,y]]=t._bounds;t.overflow=[m<g?-1:m>_?1:0,h<v?-1:h>y?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;let b=t._active&&n.rubberband||[0,0];if(t.offset=zt(t._bounds,t.offset,b),t.delta=It.sub(t.offset,f),this.computeMovement(),p&&(!t.last||i>fn)){t.delta=It.sub(t.offset,f);let e=t.delta.map(Math.abs);It.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[e[0]/i,e[1]/i],t.timeDelta=i)}}emit(){let e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;let r=this.handler(q(q(q({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}};function mn([e,t],n){let r=Math.abs(e),i=Math.abs(t);if(r>i&&r>n)return`x`;if(i>r&&i>n)return`y`}var hn=class extends pn{constructor(...e){super(...e),Ht(this,`aliasKey`,`xy`)}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=It.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=It.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){let t=this.state,n=this.config;if(!t.axis&&e){let r=typeof n.axisThreshold==`object`?n.axisThreshold[$t(e)]:n.axisThreshold;t.axis=mn(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case`x`:e[1]=0;break;case`y`:e[0]=0;break}}},gn=e=>e,_n=.15,vn={enabled(e=!0){return e},eventOptions(e,t,n){return q(q({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[_n,_n];case!1:return[0,0];default:return It.toVector(e)}},from(e){if(typeof e==`function`)return e;if(e!=null)return It.toVector(e)},transform(e,t,n){let r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||gn},threshold(e){return It.toVector(e,0)}},yn=0,bn=q(q({},vn),{},{axis(e,t,{axis:n}){if(this.lockDirection=n===`lock`,!this.lockDirection)return n},axisThreshold(e=yn){return e},bounds(e={}){if(typeof e==`function`)return t=>bn.bounds(e(t));if(`current`in e)return()=>e.current;if(typeof HTMLElement==`function`&&e instanceof HTMLElement)return e;let{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),xn={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]},Sn=class extends hn{constructor(...e){super(...e),Ht(this,`ingKey`,`dragging`)}reset(){super.reset();let e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){let e=this.state;if(e._bounds instanceof HTMLElement){let t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=bn.bounds(r)}}cancel(){let e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){let t=this.config,n=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;let r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&n._pointerActive)&&(this.start(e),this.setupPointer(e),n._pointerId=an(e),n._pointerActive=!0,this.computeValues(on(e)),this.computeInitial(),t.preventScrollAxis&&$t(e)!==`mouse`?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){let t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){let t=this.state,n=this.config;if(!t._pointerActive)return;let r=an(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;let i=on(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=It.sub(i,t._values),this.computeValues(i)),It.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove(`dragDelay`),t.active=!1,this.startPointerDrag(e);return}if(n.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===n.preventScrollAxis||n.preventScrollAxis===`xy`){t._active=!1,this.clean();return}else{this.timeoutStore.remove(`startPointerDrag`),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}let t=this.state,n=this.config;if(!t._active||!t._pointerActive)return;let r=an(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);let[i,a]=t._distance;if(t.tap=i<=n.tapsThreshold&&a<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{let[e,r]=t._delta,[i,a]=t._movement,[o,s]=n.swipe.velocity,[c,l]=n.swipe.distance,u=n.swipe.duration;if(t.elapsedTime<u){let n=Math.abs(e/t.timeDelta),u=Math.abs(r/t.timeDelta);n>o&&Math.abs(i)>c&&(t.swipe[0]=Math.sign(e)),u>s&&Math.abs(a)>l&&(t.swipe[1]=Math.sign(r))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){let t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,`change`,this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,`end`,this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,`cancel`,this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Cn(e);let t=this.eventStore.add(this.sharedConfig.window,`touch`,`change`,this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,`touch`,`end`,t),this.eventStore.add(this.sharedConfig.window,`touch`,`cancel`,t),this.timeoutStore.add(`startPointerDrag`,this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add(`dragDelay`,()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){let t=xn[e.key];if(t){let n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,r),n._keyboardActive=!0,It.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in xn&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){let t=this.config.device;e(t,`start`,this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,`change`,this.pointerMove.bind(this)),e(t,`end`,this.pointerUp.bind(this)),e(t,`cancel`,this.pointerUp.bind(this)),e(`lostPointerCapture`,``,this.pointerUp.bind(this))),this.config.keys&&(e(`key`,`down`,this.keyDown.bind(this)),e(`key`,`up`,this.keyUp.bind(this))),this.config.filterTaps&&e(`click`,``,this.pointerClick.bind(this),{capture:!0,passive:!1})}};function Cn(e){`persist`in e&&typeof e.persist==`function`&&e.persist()}var wn=typeof window<`u`&&window.document&&window.document.createElement;function Tn(){return wn&&`ontouchstart`in window}function En(){return Tn()||wn&&window.navigator.maxTouchPoints>1}function Dn(){return wn&&`onpointerdown`in window}function On(){return wn&&`exitPointerLock`in window.document}function kn(){try{return`constructor`in GestureEvent}catch{return!1}}var An={isBrowser:wn,gesture:kn(),touch:Tn(),touchscreen:En(),pointer:Dn(),pointerLock:On()},jn=250,Mn=180,Nn=.5,Pn=50,Fn=250,In=10,Ln={mouse:0,touch:0,pen:8},Rn=q(q({},bn),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&An.pointerLock,An.touch&&n?`touch`:this.pointerLock?`mouse`:An.pointer&&!i?`pointer`:An.touch?`touch`:`mouse`},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n==`number`?n:n||n===void 0&&e?jn:void 0,!(!An.touchscreen||n===!1))return e||(n===void 0?void 0:`y`)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device===`pointer`&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){let a=It.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,a},swipe({velocity:e=Nn,distance:t=Pn,duration:n=Fn}={}){return{velocity:this.transform(It.toVector(e)),distance:this.transform(It.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return Mn;case!1:return 0;default:return e}},axisThreshold(e){return e?q(q({},Ln),e):Ln},keyboardDisplacement(e=In){return e}});q(q({},vn),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!An.touch&&An.gesture)return`gesture`;if(An.touch&&r)return`touch`;if(An.touchscreen){if(An.pointer)return`pointer`;if(An.touch)return`touch`}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){let i=e=>{let t=dn(cn(n,e),{min:-1/0,max:1/0});return[t.min,t.max]},a=e=>{let t=dn(cn(r,e),{min:-1/0,max:1/0});return[t.min,t.max]};return typeof n!=`function`&&typeof r!=`function`?[i(),a()]:e=>[i(e),a(e)]},threshold(e,t,n){return this.lockDirection=n.axis===`lock`,It.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?`ctrlKey`:e},pinchOnWheel(e=!0){return e}}),q(q({},bn),{},{mouseOnly:(e=!0)=>e}),q(q({},bn),{},{mouseOnly:(e=!0)=>e});var zn=new Map,Bn=new Map;function Vn(e){zn.set(e.key,e.engine),Bn.set(e.key,e.resolver)}var Hn={key:`drag`,engine:Sn,resolver:Rn};function Un(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Wn(e,t){if(e==null)return{};var n=Un(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Gn={target(e){if(e)return()=>`current`in e?e.current:e},enabled(e=!0){return e},window(e=An.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},Kn=[`target`,`eventOptions`,`window`,`enabled`,`transform`];function qn(e={},t){let n={};for(let[r,i]of Object.entries(t))switch(typeof i){case`function`:n[r]=i.call(n,e[r],r,e);break;case`object`:n[r]=qn(e[r],i);break;case`boolean`:i&&(n[r]=e[r]);break}return n}function Jn(e,t,n={}){let r=e,{target:i,eventOptions:a,window:o,enabled:s,transform:c}=r,l=Wn(r,Kn);if(n.shared=qn({target:i,eventOptions:a,window:o,enabled:s,transform:c},Gn),t){let e=Bn.get(t);n[t]=qn(q({shared:n.shared},l),e)}else for(let e in l){let t=Bn.get(e);t&&(n[e]=qn(q({shared:n.shared},l[e]),t))}return n}var Yn=class{constructor(e,t){Ht(this,`_listeners`,new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,r,i){let a=this._listeners,o=Zt(t,n),s=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=q(q({},s),i);e.addEventListener(o,r,c);let l=()=>{e.removeEventListener(o,r,c),a.delete(l)};return a.add(l),l}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}},Xn=class{constructor(){Ht(this,`_timeouts`,new Map)}add(e,t,n=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,n,...r))}remove(e){let t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}},Zn=class{constructor(e){Ht(this,`gestures`,new Set),Ht(this,`_targetEventStore`,new Yn(this)),Ht(this,`gestureEventStores`,{}),Ht(this,`gestureTimeoutStores`,{}),Ht(this,`handlers`,{}),Ht(this,`config`,{}),Ht(this,`pointerIds`,new Set),Ht(this,`touchIds`,new Set),Ht(this,`state`,{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),$n(this,e)}setEventIds(e){if(Qt(e))return this.touchIds=new Set(rn(e)),this.touchIds;if(`pointerId`in e)return e.type===`pointerup`||e.type===`pointercancel`?this.pointerIds.delete(e.pointerId):e.type===`pointerdown`&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=Jn(e,t,this.config)}clean(){this._targetEventStore.clean();for(let e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){let t=this.config.shared,n={},r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(let t of this.gestures){let i=this.config[t],a=er(n,i.eventOptions,!!r);i.enabled&&new(zn.get(t))(this,e,t).bind(a)}let i=er(n,t.eventOptions,!!r);for(let t in this.nativeHandlers)i(t,``,n=>this.nativeHandlers[t](q(q({},this.state.shared),{},{event:n,args:e})),void 0,!0)}for(let e in n)n[e]=un(...n[e]);if(!r)return n;for(let e in n){let{device:t,capture:i,passive:a}=Xt(e);this._targetEventStore.add(r,t,``,n[e],{capture:i,passive:a})}}}};function Qn(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Yn(e,t),e.gestureTimeoutStores[t]=new Xn}function $n(e,t){t.drag&&Qn(e,`drag`),t.wheel&&Qn(e,`wheel`),t.scroll&&Qn(e,`scroll`),t.move&&Qn(e,`move`),t.pinch&&Qn(e,`pinch`),t.hover&&Qn(e,`hover`)}var er=(e,t,n)=>(r,i,a,o={},s=!1)=>{let c=o.capture??t.capture,l=o.passive??t.passive,u=s?r:Jt(r,i,c);n&&l&&(u+=`Passive`),e[u]=e[u]||[],e[u].push(a)};function tr(e,t={},n,r){let i=K.useMemo(()=>new Zn(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),K.useEffect(i.effect.bind(i)),K.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function nr(e,t){return Vn(Hn),tr({drag:e},t||{},`drag`)}var rr=i(n()),ir=e=>(t,n,r)=>{let i=r.subscribe;return r.subscribe=((e,t,n)=>{let a=e;if(t){let i=n?.equalityFn||Object.is,o=e(r.getState());a=n=>{let r=e(n);if(!i(o,r)){let e=o;t(o=r,e)}},n?.fireImmediately&&t(o,o)}return i(a)}),e(t,n,r)},ar=(()=>parseInt(`181`.replace(/\D+/g,``)))(),or=ar>=125?`uv1`:`uv2`,sr=new _e,cr=new P,lr=class extends o{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type=`LineSegmentsGeometry`,this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute(`position`,new Se([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute(`uv`,new Se([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}applyMatrix4(e){let t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));let n=new Le(t,6,1);return this.setAttribute(`instanceStart`,new vt(n,3,0)),this.setAttribute(`instanceEnd`,new vt(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,t=3){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));let r=new Le(n,t*2,1);return this.setAttribute(`instanceColorStart`,new vt(r,t,0)),this.setAttribute(`instanceColorEnd`,new vt(r,t,t)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new x(e.geometry)),this}fromLineSegments(e){let t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _e);let e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),sr.setFromBufferAttribute(t),this.boundingBox.union(sr))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _),this.boundingBox===null&&this.computeBoundingBox();let e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){let n=this.boundingSphere.center;this.boundingBox.getCenter(n);let r=0;for(let i=0,a=e.count;i<a;i++)cr.fromBufferAttribute(e,i),r=Math.max(r,n.distanceToSquared(cr)),cr.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(cr));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error(`THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.`,this)}}toJSON(){}applyMatrix(e){return console.warn(`THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4().`),this.applyMatrix4(e)}},ur=class extends lr{constructor(){super(),this.isLineGeometry=!0,this.type=`LineGeometry`}setPositions(e){let t=e.length-3,n=new Float32Array(2*t);for(let r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return super.setPositions(n),this}setColors(e,t=3){let n=e.length-t,r=new Float32Array(2*n);if(t===3)for(let i=0;i<n;i+=t)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];else for(let i=0;i<n;i+=t)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5],r[2*i+6]=e[i+6],r[2*i+7]=e[i+7];return super.setColors(r,t),this}fromLine(e){let t=e.geometry;return this.setPositions(t.attributes.position.array),this}},dr=class extends d{constructor(e){super({type:`LineMaterial`,uniforms:c.clone(c.merge([l.common,l.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Je(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${ar>=154?`colorspace_fragment`:`encodings_fragment`}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA=`1`:delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},worldUnits:{enumerable:!0,get:function(){return`WORLD_UNITS`in this.defines},set:function(e){e===!0?this.defines.WORLD_UNITS=``:delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashed:{enumerable:!0,get:function(){return`USE_DASH`in this.defines},set(e){!!e!=`USE_DASH`in this.defines&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH=``:delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},alphaToCoverage:{enumerable:!0,get:function(){return`USE_ALPHA_TO_COVERAGE`in this.defines},set:function(e){!!e!=`USE_ALPHA_TO_COVERAGE`in this.defines&&(this.needsUpdate=!0),e===!0?(this.defines.USE_ALPHA_TO_COVERAGE=``,this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}},fr=new I,pr=new P,mr=new P,hr=new I,gr=new I,_r=new I,vr=new P,yr=new mt,br=new rt,xr=new P,Sr=new _e,Cr=new _,wr=new I,Tr,Er;function Dr(e,t,n){return wr.set(0,0,-t,1).applyMatrix4(e.projectionMatrix),wr.multiplyScalar(1/wr.w),wr.x=Er/n.width,wr.y=Er/n.height,wr.applyMatrix4(e.projectionMatrixInverse),wr.multiplyScalar(1/wr.w),Math.abs(Math.max(wr.x,wr.y))}function Or(e,t){let n=e.matrixWorld,r=e.geometry,i=r.attributes.instanceStart,a=r.attributes.instanceEnd,o=Math.min(r.instanceCount,i.count);for(let r=0,s=o;r<s;r++){br.start.fromBufferAttribute(i,r),br.end.fromBufferAttribute(a,r),br.applyMatrix4(n);let o=new P,s=new P;Tr.distanceSqToSegment(br.start,br.end,s,o),s.distanceTo(o)<Er*.5&&t.push({point:s,pointOnLine:o,distance:Tr.origin.distanceTo(s),object:e,face:null,faceIndex:r,uv:null,[or]:null})}}function kr(e,t,n){let r=t.projectionMatrix,i=e.material.resolution,a=e.matrixWorld,o=e.geometry,s=o.attributes.instanceStart,c=o.attributes.instanceEnd,l=Math.min(o.instanceCount,s.count),u=-t.near;Tr.at(1,_r),_r.w=1,_r.applyMatrix4(t.matrixWorldInverse),_r.applyMatrix4(r),_r.multiplyScalar(1/_r.w),_r.x*=i.x/2,_r.y*=i.y/2,_r.z=0,vr.copy(_r),yr.multiplyMatrices(t.matrixWorldInverse,a);for(let t=0,o=l;t<o;t++){if(hr.fromBufferAttribute(s,t),gr.fromBufferAttribute(c,t),hr.w=1,gr.w=1,hr.applyMatrix4(yr),gr.applyMatrix4(yr),hr.z>u&&gr.z>u)continue;if(hr.z>u){let e=hr.z-gr.z,t=(hr.z-u)/e;hr.lerp(gr,t)}else if(gr.z>u){let e=gr.z-hr.z,t=(gr.z-u)/e;gr.lerp(hr,t)}hr.applyMatrix4(r),gr.applyMatrix4(r),hr.multiplyScalar(1/hr.w),gr.multiplyScalar(1/gr.w),hr.x*=i.x/2,hr.y*=i.y/2,gr.x*=i.x/2,gr.y*=i.y/2,br.start.copy(hr),br.start.z=0,br.end.copy(gr),br.end.z=0;let o=br.closestPointToPointParameter(vr,!0);br.at(o,xr);let l=Oe.lerp(hr.z,gr.z,o),d=l>=-1&&l<=1,f=vr.distanceTo(xr)<Er*.5;if(d&&f){br.start.fromBufferAttribute(s,t),br.end.fromBufferAttribute(c,t),br.start.applyMatrix4(a),br.end.applyMatrix4(a);let r=new P,i=new P;Tr.distanceSqToSegment(br.start,br.end,i,r),n.push({point:i,pointOnLine:r,distance:Tr.origin.distanceTo(i),object:e,face:null,faceIndex:t,uv:null,[or]:null})}}}var Ar=class extends Pe{constructor(e=new lr,t=new dr({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type=`LineSegments2`}computeLineDistances(){let e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let e=0,i=0,a=t.count;e<a;e++,i+=2)pr.fromBufferAttribute(t,e),mr.fromBufferAttribute(n,e),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+pr.distanceTo(mr);let i=new Le(r,2,1);return e.setAttribute(`instanceDistanceStart`,new vt(i,1,0)),e.setAttribute(`instanceDistanceEnd`,new vt(i,1,1)),this}raycast(e,t){let n=this.material.worldUnits,r=e.camera;r===null&&!n&&console.error(`LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.`);let i=e.params.Line2===void 0?0:e.params.Line2.threshold||0;Tr=e.ray;let a=this.matrixWorld,o=this.geometry,s=this.material;Er=s.linewidth+i,o.boundingSphere===null&&o.computeBoundingSphere(),Cr.copy(o.boundingSphere).applyMatrix4(a);let c;if(n)c=Er*.5;else{let e=Math.max(r.near,Cr.distanceToPoint(Tr.origin));c=Dr(r,e,s.resolution)}if(Cr.radius+=c,Tr.intersectsSphere(Cr)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),Sr.copy(o.boundingBox).applyMatrix4(a);let l;if(n)l=Er*.5;else{let e=Math.max(r.near,Sr.distanceToPoint(Tr.origin));l=Dr(r,e,s.resolution)}Sr.expandByScalar(l),Tr.intersectsBox(Sr)!==!1&&(n?Or(this,t):kr(this,r,t))}onBeforeRender(e){let t=this.material.uniforms;t&&t.resolution&&(e.getViewport(fr),this.material.uniforms.resolution.value.set(fr.z,fr.w))}},jr=class extends Ar{constructor(e=new ur,t=new dr({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type=`Line2`}},Mr=K.forwardRef(function({children:e,follow:t=!0,lockX:n=!1,lockY:r=!1,lockZ:i=!1,...a},o){let s=K.useRef(null),c=K.useRef(null),l=new Ct;return A(({camera:e})=>{if(!t||!c.current)return;let a=s.current.rotation.clone();c.current.updateMatrix(),c.current.updateWorldMatrix(!1,!1),c.current.getWorldQuaternion(l),e.getWorldQuaternion(s.current.quaternion).premultiply(l.invert()),n&&(s.current.rotation.x=a.x),r&&(s.current.rotation.y=a.y),i&&(s.current.rotation.z=a.z)}),K.useImperativeHandle(o,()=>c.current,[]),K.createElement(`group`,j({ref:c},a),K.createElement(`group`,{ref:s},e))}),Nr=K.forwardRef(function({points:e,color:t=16777215,vertexColors:n,linewidth:r,lineWidth:i,segments:a,dashed:o,...s},c){var l;let u=ae(e=>e.size),d=K.useMemo(()=>a?new Ar:new jr,[a]),[f]=K.useState(()=>new dr),p=(n==null||(l=n[0])==null?void 0:l.length)===4?4:3,m=K.useMemo(()=>{let r=a?new lr:new ur,i=e.map(e=>{let t=Array.isArray(e);return e instanceof P||e instanceof I?[e.x,e.y,e.z]:e instanceof Je?[e.x,e.y,0]:t&&e.length===3?[e[0],e[1],e[2]]:t&&e.length===2?[e[0],e[1],0]:e});if(r.setPositions(i.flat()),n){t=16777215;let e=n.map(e=>e instanceof ut?e.toArray():e);r.setColors(e.flat(),p)}return r},[e,a,n,p]);return K.useLayoutEffect(()=>{d.computeLineDistances()},[e,d]),K.useLayoutEffect(()=>{o?f.defines.USE_DASH=``:delete f.defines.USE_DASH,f.needsUpdate=!0},[o,f]),K.useEffect(()=>()=>{m.dispose(),f.dispose()},[m]),K.createElement(`primitive`,j({object:d,ref:c},s),K.createElement(`primitive`,{object:m,attach:`geometry`}),K.createElement(`primitive`,j({object:f,attach:`material`,color:t,vertexColors:!!n,resolution:[u.width,u.height],linewidth:r??i??1,dashed:o,transparent:p===4},s)))});function Pr(){var e=Object.create(null);function t(n,i){var a=n.id,o=n.name,s=n.dependencies;s===void 0&&(s=[]);var c=n.init;c===void 0&&(c=function(){});var l=n.getTransferables;if(l===void 0&&(l=null),!e[a])try{s=s.map(function(n){return n&&n.isWorkerModule&&(t(n,function(e){if(e instanceof Error)throw e}),n=e[n.id].value),n}),c=r(`<`+o+`>.init`,c),l&&=r(`<`+o+`>.getTransferables`,l);var u=null;typeof c==`function`?u=c.apply(void 0,s):console.error(`worker module init function failed to rehydrate`),e[a]={id:a,value:u,getTransferables:l},i(u)}catch(e){e&&e.noLog||console.error(e),i(e)}}function n(t,n){var r,i=t.id,a=t.args;(!e[i]||typeof e[i].value!=`function`)&&n(Error(`Worker module `+i+`: not found or its 'init' did not return a function`));try{var o=(r=e[i]).value.apply(r,a);o&&typeof o.then==`function`?o.then(s,function(e){return n(e instanceof Error?e:Error(``+e))}):s(o)}catch(e){n(e)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);(!r||!Array.isArray(r)||!r.length)&&(r=void 0),n(t,r)}catch(e){console.error(e),n(e)}}}function r(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob([`/** `+e.replace(/\*/g,``)+` **/

troikaDefine(
`+t+`
)`],{type:`application/javascript`}));try{importScripts(r)}catch(e){console.error(e)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener(`message`,function(e){var r=e.data,i=r.messageId,a=r.action,o=r.data;try{a===`registerModule`&&t(o,function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:typeof e==`function`}})}),a===`callModule`&&n(o,function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)})}catch(e){postMessage({messageId:i,success:!1,error:e.stack})}})}function Fr(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then(function(t){if(typeof t==`function`)return t.apply(void 0,e);throw Error("Worker module function was called but `init` did not return a callable function")})};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map(function(e){return e&&(e=e.onMainThread||e,e._getInitResult&&(e=e._getInitResult())),e}):[];var i=Promise.all(n).then(function(e){return r.apply(null,e)});return t._getInitResult=function(){return i},i},t}var Ir=function(){var e=!1;if(typeof window<`u`&&window.document!==void 0)try{new Worker(URL.createObjectURL(new Blob([``],{type:`application/javascript`}))).terminate(),e=!0}catch(e){console.log(`Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: [`+e.message+`]`)}return Ir=function(){return e},e},Lr=0,Rr=0,zr=!1,Br=Object.create(null),Vr=Object.create(null),Hr=Object.create(null);function Ur(e){if((!e||typeof e.init!=`function`)&&!zr)throw Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,i=e.workerId,a=Fr(e);i??=`#default`;var o=`workerModule`+ ++Lr,s=e.name||o,c=null;t&&=t.map(function(e){return typeof e==`function`&&!e.workerModuleData&&(zr=!0,e=Ur({workerId:i,name:`<`+s+`> function dependency: `+e.name,init:`function(){return (
`+Gr(e)+`
)}`}),zr=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e});function l(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!Ir())return a.apply(void 0,e);if(!c){c=qr(i,`registerModule`,l.workerModuleData);var n=function(){c=null,Vr[i].delete(n)};(Vr[i]||(Vr[i]=new Set)).add(n)}return c.then(function(t){if(t.isCallable)return qr(i,`callModule`,{id:o,args:e});throw Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:o,name:s,dependencies:t,init:Gr(n),getTransferables:r&&Gr(r)},l.onMainThread=a,l}function Wr(e){Vr[e]&&Vr[e].forEach(function(e){e()}),Br[e]&&(Br[e].terminate(),delete Br[e])}function Gr(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t=`function `+t),t}function Kr(e){var t=Br[e];if(!t){var n=Gr(Pr);t=Br[e]=new Worker(URL.createObjectURL(new Blob([`/** Worker Module Bootstrap: `+e.replace(/\*/g,``)+` **/

;(`+n+`)()`],{type:`application/javascript`}))),t.onmessage=function(e){var t=e.data,n=t.messageId,r=Hr[n];if(!r)throw Error(`WorkerModule response with empty or unknown messageId`);delete Hr[n],r(t)}}return t}function qr(e,t,n){return new Promise(function(r,i){var a=++Rr;Hr[a]=function(e){e.success?r(e.result):i(Error(`Error in worker `+t+` call: `+e.error))},Kr(e).postMessage({messageId:a,action:t,data:n})})}function Jr(){return function(e){function t(e,t,n,r,i,a,o,s){var c=1-o;s.x=c*c*e+2*c*o*n+o*o*i,s.y=c*c*t+2*c*o*r+o*o*a}function n(e,t,n,r,i,a,o,s,c,l){var u=1-c;l.x=u*u*u*e+3*u*u*c*n+3*u*c*c*i+c*c*c*o,l.y=u*u*u*t+3*u*u*c*r+3*u*c*c*a+c*c*c*s}function r(e,t){for(var n=/([MLQCZ])([^MLQCZ]*)/g,r,i,a,o,s;r=n.exec(e);){var c=r[2].replace(/^\s*|\s*$/g,``).split(/[,\s]+/).map(function(e){return parseFloat(e)});switch(r[1]){case`M`:o=i=c[0],s=a=c[1];break;case`L`:(c[0]!==o||c[1]!==s)&&t(`L`,o,s,o=c[0],s=c[1]);break;case`Q`:t(`Q`,o,s,o=c[2],s=c[3],c[0],c[1]);break;case`C`:t(`C`,o,s,o=c[4],s=c[5],c[0],c[1],c[2],c[3]);break;case`Z`:(o!==i||s!==a)&&t(`L`,o,s,i,a);break}}}function i(e,i,a){a===void 0&&(a=16);var o={x:0,y:0};r(e,function(e,r,s,c,l,u,d,f,p){switch(e){case`L`:i(r,s,c,l);break;case`Q`:for(var m=r,h=s,g=1;g<a;g++)t(r,s,u,d,c,l,g/(a-1),o),i(m,h,o.x,o.y),m=o.x,h=o.y;break;case`C`:for(var _=r,v=s,y=1;y<a;y++)n(r,s,u,d,f,p,c,l,y/(a-1),o),i(_,v,o.x,o.y),_=o.x,v=o.y;break}})}var a=`precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}`,o=`precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}`,s=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function l(e,t){var n=e.getContext?e.getContext(`webgl`,c):e,r=s.get(n);if(!r){var i=typeof WebGL2RenderingContext<`u`&&n instanceof WebGL2RenderingContext,a={},o={},l={},u=-1,d=[];n.canvas.addEventListener(`webglcontextlost`,function(e){m(),e.preventDefault()},!1);function e(e){var t=a[e];if(!t&&(t=a[e]=n.getExtension(e),!t))throw Error(e+` not supported`);return t}function t(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}function c(r,a,s,c){if(!o[r]){var l={},u={},d=n.createProgram();n.attachShader(d,t(a,n.VERTEX_SHADER)),n.attachShader(d,t(s,n.FRAGMENT_SHADER)),n.linkProgram(d),o[r]={program:d,transaction:function(t){n.useProgram(d),t({setUniform:function(e,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var a=u[t]||(u[t]=n.getUniformLocation(d,t));n[`uniform`+e].apply(n,[a].concat(r))},setAttribute:function(t,r,a,o,s){var c=l[t];c||=l[t]={buf:n.createBuffer(),loc:n.getAttribLocation(d,t),data:null},n.bindBuffer(n.ARRAY_BUFFER,c.buf),n.vertexAttribPointer(c.loc,r,n.FLOAT,!1,0,0),n.enableVertexAttribArray(c.loc),i?n.vertexAttribDivisor(c.loc,o):e(`ANGLE_instanced_arrays`).vertexAttribDivisorANGLE(c.loc,o),s!==c.data&&(n.bufferData(n.ARRAY_BUFFER,s,a),c.data=s)}})}}}o[r].transaction(c)}function f(e,t){u++;try{n.activeTexture(n.TEXTURE0+u);var r=l[e];r||(r=l[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,u)}finally{u--}}function p(e,t,r){var i=n.createFramebuffer();d.push(i),n.bindFramebuffer(n.FRAMEBUFFER,i),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(i)}finally{n.deleteFramebuffer(i),n.bindFramebuffer(n.FRAMEBUFFER,d[--d.length-1]||null)}}function m(){a={},o={},l={},u=-1,d.length=0}s.set(n,r={gl:n,isWebGL2:i,getExtension:e,withProgram:c,withTexture:f,withTextureFramebuffer:p,handleContextLoss:m})}t(r)}function u(e,t,n,r,i,s,c,u){c===void 0&&(c=15),u===void 0&&(u=null),l(e,function(e){var l=e.gl,d=e.withProgram,f=e.withTexture;f(`copy`,function(e,f){l.texImage2D(l.TEXTURE_2D,0,l.RGBA,i,s,0,l.RGBA,l.UNSIGNED_BYTE,t),d(`copy`,a,o,function(e){var t=e.setUniform,a=e.setAttribute;a(`aUV`,2,l.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t(`1i`,`image`,f),l.bindFramebuffer(l.FRAMEBUFFER,u||null),l.disable(l.BLEND),l.colorMask(c&8,c&4,c&2,c&1),l.viewport(n,r,i,s),l.scissor(n,r,i,s),l.drawArrays(l.TRIANGLES,0,3)})})})}function d(e,t,n){var r=e.width,i=e.height;l(e,function(a){var o=a.gl,s=new Uint8Array(r*i*4);o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,s),e.width=t,e.height=n,u(o,s,0,0,r,i)})}var f=Object.freeze({__proto__:null,withWebGLContext:l,renderImageData:u,resizeWebGLCanvasWithoutClearing:d});function p(e,t,n,r,a,o){o===void 0&&(o=1);var s=new Uint8Array(e*t),c=r[2]-r[0],l=r[3]-r[1],u=[];i(n,function(e,t,n,r){u.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})}),u.sort(function(e,t){return e.maxX-t.maxX});for(var d=0;d<e;d++)for(var f=0;f<t;f++){var p=h(r[0]+c*(d+.5)/e,r[1]+l*(f+.5)/t),m=(1-Math.abs(p)/a)**o/2;p<0&&(m=1-m),m=Math.max(0,Math.min(255,Math.round(m*255))),s[f*e+d]=m}return s;function h(e,t){for(var n=1/0,r=1/0,i=u.length;i--;){var a=u[i];if(a.maxX+r<=e)break;if(e+r>a.minX&&t-r<a.maxY&&t+r>a.minY){var o=g(e,t,a.x1,a.y1,a.x2,a.y2);o<n&&(n=o,r=Math.sqrt(n))}}return _(e,t)&&(r=-r),r}function _(e,t){for(var n=0,r=u.length;r--;){var i=u[r];if(i.maxX<=e)break;i.y1>t!=i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(n+=i.y1<i.y2?1:-1)}return n!==0}}function m(e,t,n,r,i,a,o,s,c,l){a===void 0&&(a=1),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),h(e,t,n,r,i,a,o,null,s,c,l)}function h(e,t,n,r,i,a,o,s,c,l,d){a===void 0&&(a=1),c===void 0&&(c=0),l===void 0&&(l=0),d===void 0&&(d=0);for(var f=p(e,t,n,r,i,a),m=new Uint8Array(f.length*4),h=0;h<f.length;h++)m[h*4+d]=f[h];u(o,m,c,l,e,t,1<<3-d,s)}function g(e,t,n,r,i,a){var o=i-n,s=a-r,c=o*o+s*s,l=c?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/c)):0,u=e-(n+l*o),d=t-(r+l*s);return u*u+d*d}var _=Object.freeze({__proto__:null,generate:p,generateIntoCanvas:m,generateIntoFramebuffer:h}),v=`precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}`,y=`precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}`,b=`precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}`,x=new Float32Array([0,0,2,0,0,2]),S=null,C=!1,w={},T=new WeakMap;function E(e){if(!C&&!A(e))throw Error(`WebGL generation not supported`)}function D(e,t,n,r,i,a,o){if(a===void 0&&(a=1),o===void 0&&(o=null),!o&&(o=S,!o)){var s=typeof OffscreenCanvas==`function`?new OffscreenCanvas(1,1):typeof document<`u`?document.createElement(`canvas`):null;if(!s)throw Error(`OffscreenCanvas or DOM canvas not supported`);o=S=s.getContext(`webgl`,{depth:!1})}E(o);var c=new Uint8Array(e*t*4);l(o,function(o){var s=o.gl,l=o.withTexture,u=o.withTextureFramebuffer;l(`readable`,function(o,l){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),u(o,l,function(o){k(e,t,n,r,i,a,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,c)})})});for(var u=new Uint8Array(e*t),d=0,f=0;d<c.length;d+=4)u[f++]=c[d];return u}function O(e,t,n,r,i,a,o,s,c,l){a===void 0&&(a=1),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0),k(e,t,n,r,i,a,o,null,s,c,l)}function k(e,t,n,r,o,s,c,u,d,f,p){s===void 0&&(s=1),d===void 0&&(d=0),f===void 0&&(f=0),p===void 0&&(p=0),E(c);var m=[];i(n,function(e,t,n,r){m.push(e,t,n,r)}),m=new Float32Array(m),l(c,function(n){var i=n.gl,c=n.isWebGL2,l=n.getExtension,h=n.withProgram,g=n.withTexture,_=n.withTextureFramebuffer,S=n.handleContextLoss;if(g(`rawDistances`,function(n,g){(e!==n._lastWidth||t!==n._lastHeight)&&i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n._lastWidth=e,n._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),h(`main`,v,y,function(a){var u=a.setAttribute,d=a.setUniform,f=!c&&l(`ANGLE_instanced_arrays`),p=!c&&l(`EXT_blend_minmax`);u(`aUV`,2,i.STATIC_DRAW,0,x),u(`aLineSegment`,4,i.DYNAMIC_DRAW,1,m),d.apply(void 0,[`4f`,`uGlyphBounds`].concat(r)),d(`1f`,`uMaxDistance`,o),d(`1f`,`uExponent`,s),_(n,g,function(n){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,c?i.MAX:p.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),c?i.drawArraysInstanced(i.TRIANGLES,0,3,m.length/4):f.drawArraysInstancedANGLE(i.TRIANGLES,0,3,m.length/4)})}),h(`post`,a,b,function(n){n.setAttribute(`aUV`,2,i.STATIC_DRAW,0,x),n.setUniform(`1i`,`tex`,g),i.bindFramebuffer(i.FRAMEBUFFER,u),i.disable(i.BLEND),i.colorMask(p===0,p===1,p===2,p===3),i.viewport(d,f,e,t),i.scissor(d,f,e,t),i.drawArrays(i.TRIANGLES,0,3)})}),i.isContextLost())throw S(),Error(`webgl context lost`)})}function A(e){var t=!e||e===S?w:e.canvas||e,n=T.get(t);if(n===void 0){C=!0;var r=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=D(4,4,`M8,8L16,8L24,24L16,24Z`,[0,0,32,32],24,1,e);n=a&&i.length===a.length&&a.every(function(e,t){return e===i[t]}),n||(r=`bad trial run results`,console.info(i,a))}catch(e){n=!1,r=e.message}r&&console.warn(`WebGL SDF generation not supported:`,r),C=!1,T.set(t,n)}return n}var j=Object.freeze({__proto__:null,generate:D,generateIntoCanvas:O,generateIntoFramebuffer:k,isSupported:A});function M(e,t,n,r,i,a){i===void 0&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),a===void 0&&(a=1);try{return D.apply(j,arguments)}catch(e){return console.info(`WebGL SDF generation failed, falling back to JS`,e),p.apply(_,arguments)}}function ee(e,t,n,r,i,a,o,s,c,l){i===void 0&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),a===void 0&&(a=1),s===void 0&&(s=0),c===void 0&&(c=0),l===void 0&&(l=0);try{return O.apply(j,arguments)}catch(e){return console.info(`WebGL SDF generation failed, falling back to JS`,e),m.apply(_,arguments)}}return e.forEachPathCommand=r,e.generate=M,e.generateIntoCanvas=ee,e.javascript=_,e.pathToLineSegments=i,e.webgl=j,e.webglUtils=f,Object.defineProperty(e,`__esModule`,{value:!0}),e}({})}function Yr(){return function(e){var t={R:`13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73`,EN:`1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9`,ES:`17,2,6dp+1,f+1,av,16vr,mx+1,4o,2`,ET:`z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj`,AN:`16o+5,2j+9,2+1,35,ed,1ff2+9,87+u`,CS:`18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b`,B:`a,3,f+2,2v,690`,S:`9,2,k`,WS:`c,k,4f4,1vk+a,u,1j,335`,ON:`x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i`,BN:`0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1`,NSM:`lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n`,AL:`16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d`,LRO:`6ct`,RLO:`6cu`,LRE:`6cq`,RLE:`6cr`,PDF:`6cs`,LRI:`6ee`,RLI:`6ef`,FSI:`6eg`,PDI:`6eh`},n={},r={};n.L=1,r[1]=`L`,Object.keys(t).forEach(function(e,t){n[e]=1<<t+1,r[n[e]]=e}),Object.freeze(n);var i=n.LRI|n.RLI|n.FSI,a=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,s=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,c=n.S|n.WS|n.B|i|n.PDI|s,l=null;function u(){if(!l){l=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(`,`).forEach(function(t){var i=t.split(`+`),a=i[0],o=i[1];a=parseInt(a,36),o=o?parseInt(o,36):0,l.set(r+=a,n[e]);for(var s=0;s<o;s++)l.set(++r,n[e])})}};for(var r in t)e(r)}}function d(e){return u(),l.get(e.codePointAt(0))||n.L}function f(e){return r[d(e)]}var p={pairs:`14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1`,canonical:`6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye`};function m(e,t){var n=36,r=0,i=new Map,a=t&&new Map,o;return e.split(`,`).forEach(function e(s){if(s.indexOf(`+`)!==-1)for(var c=+s;c--;)e(o);else{o=s;var l=s.split(`>`),u=l[0],d=l[1];u=String.fromCodePoint(r+=parseInt(u,n)),d=String.fromCodePoint(r+=parseInt(d,n)),i.set(u,d),t&&a.set(d,u)}}),{map:i,reverseMap:a}}var h,g,_;function v(){if(!h){var e=m(p.pairs,!0),t=e.map,n=e.reverseMap;h=t,g=n,_=m(p.canonical,!1).map}}function y(e){return v(),h.get(e)||null}function b(e){return v(),g.get(e)||null}function x(e){return v(),_.get(e)||null}var S=n.L,C=n.R,w=n.EN,T=n.ES,E=n.ET,D=n.AN,O=n.CS,k=n.B,A=n.S,j=n.ON,M=n.BN,ee=n.NSM,te=n.AL,ne=n.LRO,re=n.RLO,ie=n.LRE,ae=n.RLE,N=n.PDF,oe=n.LRI,P=n.RLI,se=n.FSI,F=n.PDI;function ce(e,t){for(var n=125,r=new Uint32Array(e.length),l=0;l<e.length;l++)r[l]=d(e[l]);var u=new Map;function f(e,t){var n=r[e];r[e]=t,u.set(n,u.get(n)-1),n&o&&u.set(o,u.get(o)-1),u.set(t,(u.get(t)||0)+1),t&o&&u.set(o,(u.get(o)||0)+1)}for(var p=new Uint8Array(e.length),m=new Map,h=[],g=null,_=0;_<e.length;_++)g||h.push(g={start:_,end:e.length-1,level:t===`rtl`?1:t===`ltr`?0:Jt(_,!1)}),r[_]&k&&(g.end=_,g=null);for(var v=ae|ie|re|ne|i|F|N|k,ce=function(e){return e+(e&1?1:2)},I=function(e){return e+(e&1?2:1)},L=0;L<h.length;L++){g=h[L];var R=[{_level:g.level,_override:0,_isolate:0}],z=void 0,B=0,le=0,ue=0;u.clear();for(var V=g.start;V<=g.end;V++){var H=r[V];if(z=R[R.length-1],u.set(H,(u.get(H)||0)+1),H&o&&u.set(o,(u.get(o)||0)+1),H&v)if(H&(ae|ie)){p[V]=z._level;var de=(H===ae?I:ce)(z._level);de<=n&&!B&&!le?R.push({_level:de,_override:0,_isolate:0}):B||le++}else if(H&(re|ne)){p[V]=z._level;var fe=(H===re?I:ce)(z._level);fe<=n&&!B&&!le?R.push({_level:fe,_override:H&re?C:S,_isolate:0}):B||le++}else if(H&i){H&se&&(H=Jt(V+1,!0)===1?P:oe),p[V]=z._level,z._override&&f(V,z._override);var pe=(H===P?I:ce)(z._level);pe<=n&&B===0&&le===0?(ue++,R.push({_level:pe,_override:0,_isolate:1,_isolInitIndex:V})):B++}else if(H&F){if(B>0)B--;else if(ue>0){for(le=0;!R[R.length-1]._isolate;)R.pop();var me=R[R.length-1]._isolInitIndex;me!=null&&(m.set(me,V),m.set(V,me)),R.pop(),ue--}z=R[R.length-1],p[V]=z._level,z._override&&f(V,z._override)}else H&N?(B===0&&(le>0?le--:!z._isolate&&R.length>1&&(R.pop(),z=R[R.length-1])),p[V]=z._level):H&k&&(p[V]=g.level);else p[V]=z._level,z._override&&H!==M&&f(V,z._override)}for(var he=[],ge=null,_e=g.start;_e<=g.end;_e++){var ve=r[_e];if(!(ve&s)){var ye=p[_e],be=ve&i,xe=ve===F;ge&&ye===ge._level?(ge._end=_e,ge._endsWithIsolInit=be):he.push(ge={_start:_e,_end:_e,_level:ye,_startsWithPDI:xe,_endsWithIsolInit:be})}}for(var Se=[],Ce=0;Ce<he.length;Ce++){var we=he[Ce];if(!we._startsWithPDI||we._startsWithPDI&&!m.has(we._start)){for(var Te=[ge=we],Ee=void 0;ge&&ge._endsWithIsolInit&&(Ee=m.get(ge._end))!=null;)for(var De=Ce+1;De<he.length;De++)if(he[De]._start===Ee){Te.push(ge=he[De]);break}for(var Oe=[],ke=0;ke<Te.length;ke++)for(var Ae=Te[ke],je=Ae._start;je<=Ae._end;je++)Oe.push(je);for(var Me=p[Oe[0]],Ne=g.level,Pe=Oe[0]-1;Pe>=0;Pe--)if(!(r[Pe]&s)){Ne=p[Pe];break}var Fe=Oe[Oe.length-1],Ie=p[Fe],Le=g.level;if(!(r[Fe]&i)){for(var Re=Fe+1;Re<=g.end;Re++)if(!(r[Re]&s)){Le=p[Re];break}}Se.push({_seqIndices:Oe,_sosType:Math.max(Ne,Me)%2?C:S,_eosType:Math.max(Le,Ie)%2?C:S})}}for(var ze=0;ze<Se.length;ze++){var Be=Se[ze],U=Be._seqIndices,Ve=Be._sosType,He=Be._eosType,Ue=p[U[0]]&1?C:S;if(u.get(ee))for(var We=0;We<U.length;We++){var Ge=U[We];if(r[Ge]&ee){for(var Ke=Ve,qe=We-1;qe>=0;qe--)if(!(r[U[qe]]&s)){Ke=r[U[qe]];break}f(Ge,Ke&(i|F)?j:Ke)}}if(u.get(w))for(var Je=0;Je<U.length;Je++){var Ye=U[Je];if(r[Ye]&w)for(var Xe=Je-1;Xe>=-1;Xe--){var Ze=Xe===-1?Ve:r[U[Xe]];if(Ze&a){Ze===te&&f(Ye,D);break}}}if(u.get(te))for(var W=0;W<U.length;W++){var Qe=U[W];r[Qe]&te&&f(Qe,C)}if(u.get(T)||u.get(O))for(var $e=1;$e<U.length-1;$e++){var et=U[$e];if(r[et]&(T|O)){for(var tt=0,nt=0,rt=$e-1;rt>=0&&(tt=r[U[rt]],tt&s);rt--);for(var it=$e+1;it<U.length&&(nt=r[U[it]],nt&s);it++);tt===nt&&(r[et]===T?tt===w:tt&(w|D))&&f(et,tt)}}if(u.get(w))for(var at=0;at<U.length;at++){var ot=U[at];if(r[ot]&w){for(var st=at-1;st>=0&&r[U[st]]&(E|s);st--)f(U[st],w);for(at++;at<U.length&&r[U[at]]&(E|s|w);at++)r[U[at]]!==w&&f(U[at],w)}}if(u.get(E)||u.get(T)||u.get(O))for(var ct=0;ct<U.length;ct++){var lt=U[ct];if(r[lt]&(E|T|O)){f(lt,j);for(var ut=ct-1;ut>=0&&r[U[ut]]&s;ut--)f(U[ut],j);for(var dt=ct+1;dt<U.length&&r[U[dt]]&s;dt++)f(U[dt],j)}}if(u.get(w))for(var ft=0,pt=Ve;ft<U.length;ft++){var mt=U[ft],ht=r[mt];ht&w?pt===S&&f(mt,S):ht&a&&(pt=ht)}if(u.get(o)){for(var gt=C|w|D,_t=gt|S,vt=[],yt=[],bt=0;bt<U.length;bt++)if(r[U[bt]]&o){var xt=e[U[bt]],St=void 0;if(y(xt)!==null)if(yt.length<63)yt.push({char:xt,seqIndex:bt});else break;else if((St=b(xt))!==null)for(var Ct=yt.length-1;Ct>=0;Ct--){var wt=yt[Ct].char;if(wt===St||wt===b(x(xt))||y(x(wt))===xt){vt.push([yt[Ct].seqIndex,bt]),yt.length=Ct;break}}}vt.sort(function(e,t){return e[0]-t[0]});for(var Tt=0;Tt<vt.length;Tt++){for(var Et=vt[Tt],Dt=Et[0],Ot=Et[1],kt=!1,At=0,jt=Dt+1;jt<Ot;jt++){var Mt=U[jt];if(r[Mt]&_t){kt=!0;var Nt=r[Mt]&gt?C:S;if(Nt===Ue){At=Nt;break}}}if(kt&&!At){At=Ve;for(var G=Dt-1;G>=0;G--){var Pt=U[G];if(r[Pt]&_t){var K=r[Pt]&gt?C:S;At=K===Ue?Ue:K;break}}}if(At){if(r[U[Dt]]=r[U[Ot]]=At,At!==Ue){for(var Ft=Dt+1;Ft<U.length;Ft++)if(!(r[U[Ft]]&s)){d(e[U[Ft]])&ee&&(r[U[Ft]]=At);break}}if(At!==Ue){for(var It=Ot+1;It<U.length;It++)if(!(r[U[It]]&s)){d(e[U[It]])&ee&&(r[U[It]]=At);break}}}}for(var Lt=0;Lt<U.length;Lt++)if(r[U[Lt]]&o){for(var Rt=Lt,zt=Lt,Bt=Ve,Vt=Lt-1;Vt>=0;Vt--)if(r[U[Vt]]&s)Rt=Vt;else{Bt=r[U[Vt]]&gt?C:S;break}for(var Ht=He,Ut=Lt+1;Ut<U.length;Ut++)if(r[U[Ut]]&(o|s))zt=Ut;else{Ht=r[U[Ut]]&gt?C:S;break}for(var q=Rt;q<=zt;q++)r[U[q]]=Bt===Ht?Bt:Ue;Lt=zt}}}for(var Wt=g.start;Wt<=g.end;Wt++){var Gt=p[Wt],Kt=r[Wt];if(Gt&1?Kt&(S|w|D)&&p[Wt]++:Kt&C?p[Wt]++:Kt&(D|w)&&(p[Wt]+=2),Kt&s&&(p[Wt]=Wt===0?g.level:p[Wt-1]),Wt===g.end||d(e[Wt])&(A|k))for(var qt=Wt;qt>=0&&d(e[qt])&c;qt--)p[qt]=g.level}}return{levels:p,paragraphs:h};function Jt(t,n){for(var a=t;a<e.length;a++){var o=r[a];if(o&(C|te))return 1;if(o&(k|S)||n&&o===F)return 0;if(o&i){var s=Yt(a);a=s===-1?e.length:s}}return 0}function Yt(t){for(var n=1,a=t+1;a<e.length;a++){var o=r[a];if(o&k)break;if(o&F){if(--n===0)return a}else o&i&&n++}return-1}}var I=`14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1`,L;function R(){if(!L){var e=m(I,!0),t=e.map;e.reverseMap.forEach(function(e,n){t.set(n,e)}),L=t}}function z(e){return R(),L.get(e)||null}function B(e,t,n,r){var i=e.length;n=Math.max(0,n==null?0:+n),r=Math.min(i-1,r==null?i-1:+r);for(var a=new Map,o=n;o<=r;o++)if(t[o]&1){var s=z(e[o]);s!==null&&a.set(o,s)}return a}function le(e,t,n,r){var i=e.length;n=Math.max(0,n==null?0:+n),r=Math.min(i-1,r==null?i-1:+r);var a=[];return t.paragraphs.forEach(function(i){var o=Math.max(n,i.start),s=Math.min(r,i.end);if(o<s){for(var l=t.levels.slice(o,s+1),u=s;u>=o&&d(e[u])&c;u--)l[u]=i.level;for(var f=i.level,p=1/0,m=0;m<l.length;m++){var h=l[m];h>f&&(f=h),h<p&&(p=h|1)}for(var g=f;g>=p;g--)for(var _=0;_<l.length;_++)if(l[_]>=g){for(var v=_;_+1<l.length&&l[_+1]>=g;)_++;_>v&&a.push([v+o,_+o])}}}),a}function ue(e,t,n,r){var i=V(e,t,n,r),a=[].concat(e);return i.forEach(function(n,r){a[r]=(t.levels[n]&1?z(e[n]):null)||e[n]}),a.join(``)}function V(e,t,n,r){for(var i=le(e,t,n,r),a=[],o=0;o<e.length;o++)a[o]=o;return i.forEach(function(e){for(var t=e[0],n=e[1],r=a.slice(t,n+1),i=r.length;i--;)a[n-i]=r[i]}),a}return e.closingToOpeningBracket=b,e.getBidiCharType=d,e.getBidiCharTypeName=f,e.getCanonicalBracket=x,e.getEmbeddingLevels=ce,e.getMirroredCharacter=z,e.getMirroredCharactersMap=B,e.getReorderSegments=le,e.getReorderedIndices=V,e.getReorderedString=ue,e.openingToClosingBracket=y,Object.defineProperty(e,`__esModule`,{value:!0}),e}({})}var Xr=Yr,Zr=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Qr(e){let t=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(e,t){let n=Mt[t];return n?Qr(n):e}return e.replace(t,n)}var $r=[];for(let e=0;e<256;e++)$r[e]=(e<16?`0`:``)+e.toString(16);function ei(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return($r[e&255]+$r[e>>8&255]+$r[e>>16&255]+$r[e>>24&255]+`-`+$r[t&255]+$r[t>>8&255]+`-`+$r[t>>16&15|64]+$r[t>>24&255]+`-`+$r[n&63|128]+$r[n>>8&255]+`-`+$r[n>>16&255]+$r[n>>24&255]+$r[r&255]+$r[r>>8&255]+$r[r>>16&255]+$r[r>>24&255]).toUpperCase()}var ti=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ni=Date.now(),ri=new WeakMap,ii=new Map,ai=1e10;function oi(e,t){let n=fi(t),r=ri.get(e);if(r||ri.set(e,r=Object.create(null)),r[n])return new r[n];let i=`_onBeforeCompile${n}`,a=function(r,a){e.onBeforeCompile.call(this,r,a);let o=this.customProgramCacheKey()+`|`+r.vertexShader+`|`+r.fragmentShader,s=ii[o];s||=ii[o]=si(this,r,t,n),r.vertexShader=s.vertexShader,r.fragmentShader=s.fragmentShader,ti(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-ni}}),this[i]&&this[i](r)},o=function(){return s(t.chained?e:e.clone())},s=function(r){let i=Object.create(r,l);return Object.defineProperty(i,`baseMaterial`,{value:e}),Object.defineProperty(i,`id`,{value:ai++}),i.uuid=ei(),i.uniforms=ti({},r.uniforms,t.uniforms),i.defines=ti({},r.defines,t.defines),i.defines[`TROIKA_DERIVED_MATERIAL_${n}`]=``,i.extensions=ti({},r.extensions,t.extensions),i._listeners=void 0,i},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>e.type,set:t=>{e.type=t}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){let t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+`|`+n}},onBeforeCompile:{get(){return a},set(e){this[i]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),!e.isShaderMaterial&&!e.isDerivedMaterial&&(ti(this.extensions,t.extensions),ti(this.defines,t.defines),ti(this.uniforms,c.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){let t=new e.constructor;return s(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=oi(e.isDerivedMaterial?e.getDepthMaterial():new xt({depthPacking:Me}),t),n.defines.IS_DEPTH_MATERIAL=``,n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=oi(e.isDerivedMaterial?e.getDistanceMaterial():new Ie,t),n.defines.IS_DISTANCE_MATERIAL=``,n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function si(e,{vertexShader:t,fragmentShader:n},r,i){let{vertexDefs:a,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:c,fragmentDefs:l,fragmentMainIntro:u,fragmentMainOutro:d,fragmentColorTransform:f,customRewriter:p,timeUniform:m}=r;if(a||=``,o||=``,s||=``,l||=``,u||=``,d||=``,(c||p)&&(t=Qr(t)),(f||p)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=Qr(n)),p){let e=p({vertexShader:t,fragmentShader:n});t=e.vertexShader,n=e.fragmentShader}if(f){let e=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),``)),d=`${f}\n${e.join(`
`)}\n${d}`}if(m){let e=`\nuniform float ${m};\n`;a=e+a,l=e+l}return c&&(t=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${t}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${c}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,t=t.replace(/\b(position|normal|uv)\b/g,(e,t,n,r)=>/\battribute\s+vec[23]\s+$/.test(r.substr(0,n))?t:`troika_${t}_${i}`),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),t=ci(t,i,a,o,s),n=ci(n,i,l,u,d),{vertexShader:t,fragmentShader:n}}function ci(e,t,n,r,i){return(r||i||n)&&(e=e.replace(Zr,`
${n}
void troikaOrigMain${t}() {`),e+=`
void main() {
  ${r}
  troikaOrigMain${t}();
  ${i}
}`),e}function li(e,t){return e===`uniforms`?void 0:typeof t==`function`?t.toString():t}var ui=0,di=new Map;function fi(e){let t=JSON.stringify(e,li),n=di.get(t);return n??di.set(t,n=++ui),n}
/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/
function pi(){return typeof window>`u`&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if(n.readASCII(r,0,4)==`ttcf`){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var a=n.readUint(r,i);i+=4;for(var o=[],s=0;s<a;s++){var c=n.readUint(r,i);i+=4,o.push(t._readFont(r,c))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=[`cmap`,`head`,`hhea`,`maxp`,`hmtx`,`name`,`OS/2`,`post`,`loca`,`glyf`,`kern`,`CFF `,`GDEF`,`GPOS`,`GSUB`,`SVG `],s={_data:e,_offset:i},c={},l=0;l<a;l++){var u=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var d=r.readUint(e,n);n+=4;var f=r.readUint(e,n);n+=4,c[u]={offset:d,length:f}}for(l=0;l<o.length;l++){var p=o[l];c[p]&&(s[p.trim()]=t[p.trim()].parse(e,c[p].offset,c[p].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,a=i.readUshort(e,r+4),o=r+12,s=0;s<a;s++){var c=i.readASCII(e,o,4);o+=4,i.readUint(e,o),o+=4;var l=i.readUint(e,o);if(o+=4,i.readUint(e,o),o+=4,c==n)return l}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var i=[],a=0;a<r;a++)i.push(t._bin.readUshort(e,n+2*a));return i},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r=``,i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r=``,i=0;i<n;i++){var a=e[t++]<<8|e[t++];r+=String.fromCharCode(a)}return r},_tdec:typeof window<`u`&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&n==0&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r},_view:function(e){return e._dataView||=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer)}},t._lctf={},t._lctf.parse=function(e,n,r,i,a){var o=t._bin,s={},c=n;o.readFixed(e,n),n+=4;var l=o.readUshort(e,n);n+=2;var u=o.readUshort(e,n);n+=2;var d=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,c+l),s.featureList=t._lctf.readFeatureList(e,c+u),s.lookupList=t._lctf.readLookupList(e,c+d,a),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,a=n,o=[],s=i.readUshort(e,n);n+=2;for(var c=0;c<s;c++){var l=i.readUshort(e,n);n+=2;var u=t._lctf.readLookupTable(e,a+l,r);o.push(u)}return o},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,a=n,o={tabs:[]};o.ltype=i.readUshort(e,n),n+=2,o.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var c=o.ltype,l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var d=r(e,c,a+u,o);o.tabs.push(d)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)e>>>n&1&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],a=r.readUshort(e,n);if(n+=2,a==1){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var c=0;c<s;c++)i.push(o+c),i.push(o+c),i.push(r.readUshort(e,n)),n+=2}if(a==2){var l=r.readUshort(e,n);for(n+=2,c=0;c<l;c++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,i.fmt==1&&(i.tab=r.readUshorts(e,n,a)),i.fmt==2&&(i.tab=r.readUshorts(e,n,3*a)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(e.fmt==1)return r.indexOf(n);if(e.fmt==2){var i=t._lctf.getInterval(r,n);if(i!=-1)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var c=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2;var u=t._lctf.readFeatureTable(e,i+l);u.tag=c.trim(),a.push(u)}return a},t._lctf.readFeatureTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.featureParams=i+o);var s=r.readUshort(e,n);n+=2,a.tab=[];for(var c=0;c<s;c++)a.tab.push(r.readUshort(e,n+2*c));return a},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var c=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2,a[c.trim()]=t._lctf.readScriptTable(e,i+l)}return a},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.default=t._lctf.readLangSysTable(e,i+o));var s=r.readUshort(e,n);n+=2;for(var c=0;c<s;c++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,a[l.trim()]=t._lctf.readLangSysTable(e,i+u)}return a},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,a),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var a=[];n=t.CFF.readIndex(e,n,a);for(var o=[],s=0;s<a.length-1;s++)o.push(i.readASCII(e,n+a[s],a[s+1]-a[s]));n+=a[a.length-1];var c=[];n=t.CFF.readIndex(e,n,c);var l=[];for(s=0;s<c.length-1;s++)l.push(t.CFF.readDict(e,n+c[s],n+c[s+1]));n+=c[c.length-1];var u=l[0],d=[];n=t.CFF.readIndex(e,n,d);var f=[];for(s=0;s<d.length-1;s++)f.push(i.readASCII(e,n+d[s],d[s+1]-d[s]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,u),u.CharStrings){n=u.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var p=[];for(s=0;s<d.length-1;s++)p.push(i.readBytes(e,n+d[s],d[s+1]-d[s]));u.CharStrings=p}if(u.ROS){n=u.FDArray;var m=[];for(n=t.CFF.readIndex(e,n,m),u.FDArray=[],s=0;s<m.length-1;s++){var h=t.CFF.readDict(e,n+m[s],n+m[s+1]);t.CFF._readFDict(e,h,f),u.FDArray.push(h)}n+=m[m.length-1],n=u.FDSelect,u.FDSelect=[];var g=e[n];if(n++,g!=3)throw g;var _=i.readUshort(e,n);for(n+=2,s=0;s<_+1;s++)u.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return u.Encoding&&=t.CFF.readEncoding(e,u.Encoding,u.CharStrings.length),u.charset&&=t.CFF.readCharset(e,u.charset,u.CharStrings.length),t.CFF._readFDict(e,u,f),u},t.CFF._readFDict=function(e,n,r){var i;for(var a in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)[`FamilyName`,`FontName`,`FullName`,`Notice`,`version`,`Copyright`].indexOf(a)!=-1&&(n[a]=r[n[a]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,a=[];n=t.CFF.readIndex(e,n,a);var o,s=a.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var c=0;c<a.length-1;c++)r.Subrs.push(i.readBytes(e,n+a[c],a[c+1]-a[c]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[`.notdef`],a=e[n];if(n++,a!=0)throw`error: unknown encoding format: `+a;var o=e[n];n++;for(var s=0;s<o;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,a=[`.notdef`],o=e[n];if(n++,o==0)for(var s=0;s<r;s++){var c=i.readUshort(e,n);n+=2,a.push(c)}else{if(o!=1&&o!=2)throw`error: format: `+o;for(;a.length<r;){c=i.readUshort(e,n),n+=2;var l=0;for(o==1?(l=e[n],n++):(l=i.readUshort(e,n),n+=2),s=0;s<=l;s++)a.push(c),c++}}return a},t.CFF.readIndex=function(e,n,r){var i=t._bin,a=i.readUshort(e,n)+1,o=e[n+=2];if(n++,o==1)for(var s=0;s<a;s++)r.push(e[n+s]);else if(o==2)for(s=0;s<a;s++)r.push(i.readUshort(e,n+2*s));else if(o==3)for(s=0;s<a;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(a!=1)throw`unsupported offset size: `+o+`, count: `+a;return(n+=a*o)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,a=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,c=null,l=null;a<=20&&(c=a,s=1),a==12&&(c=100*a+o,s=2),21<=a&&a<=27&&(c=a,s=1),a==28&&(l=i.readShort(e,n+1),s=3),29<=a&&a<=31&&(c=a,s=1),32<=a&&a<=246&&(l=a-139,s=1),247<=a&&a<=250&&(l=256*(a-247)+o+108,s=2),251<=a&&a<=254&&(l=256*-(a-251)-o-108,s=2),a==255&&(l=i.readInt(e,n+1)/65535,s=5),r.val=l??`o`+c,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,a=t._bin,o=[];n<i;){var s=e[n],c=e[n+1];e[n+2],e[n+3],e[n+4];var l=1,u=null,d=null;s<=20&&(u=s,l=1),s==12&&(u=100*s+c,l=2),s!=19&&s!=20||(u=s,l=2),21<=s&&s<=27&&(u=s,l=1),s==28&&(d=a.readShort(e,n+1),l=3),29<=s&&s<=31&&(u=s,l=1),32<=s&&s<=246&&(d=s-139,l=1),247<=s&&s<=250&&(d=256*(s-247)+c+108,l=2),251<=s&&s<=254&&(d=256*-(s-251)-c-108,l=2),s==255&&(d=a.readInt(e,n+1)/65535,l=5),o.push(d??`o`+u),n+=l}return o},t.CFF.readDict=function(e,n,r){for(var i=t._bin,a={},o=[];n<r;){var s=e[n],c=e[n+1];e[n+2],e[n+3],e[n+4];var l=1,u=null,d=null;if(s==28&&(d=i.readShort(e,n+1),l=3),s==29&&(d=i.readInt(e,n+1),l=5),32<=s&&s<=246&&(d=s-139,l=1),247<=s&&s<=250&&(d=256*(s-247)+c+108,l=2),251<=s&&s<=254&&(d=256*-(s-251)-c-108,l=2),s==255)throw d=i.readInt(e,n+1)/65535,l=5,`unknown number`;if(s==30){var f=[];for(l=1;;){var p=e[n+l];l++;var m=p>>4,h=15&p;if(m!=15&&f.push(m),h!=15&&f.push(h),h==15)break}for(var g=``,_=[0,1,2,3,4,5,6,7,8,9,`.`,`e`,`e-`,`reserved`,`-`,`endOfNumber`],v=0;v<f.length;v++)g+=_[f[v]];d=parseFloat(g)}s<=21&&(u=[`version`,`Notice`,`FullName`,`FamilyName`,`Weight`,`FontBBox`,`BlueValues`,`OtherBlues`,`FamilyBlues`,`FamilyOtherBlues`,`StdHW`,`StdVW`,`escape`,`UniqueID`,`XUID`,`charset`,`Encoding`,`CharStrings`,`Private`,`Subrs`,`defaultWidthX`,`nominalWidthX`][s],l=1,s==12&&(u=[`Copyright`,`isFixedPitch`,`ItalicAngle`,`UnderlinePosition`,`UnderlineThickness`,`PaintType`,`CharstringType`,`FontMatrix`,`StrokeWidth`,`BlueScale`,`BlueShift`,`BlueFuzz`,`StemSnapH`,`StemSnapV`,`ForceBold`,0,0,`LanguageGroup`,`ExpansionFactor`,`initialRandomSeed`,`SyntheticBase`,`PostScript`,`BaseFontName`,`BaseFontBlend`,0,0,0,0,0,0,`ROS`,`CIDFontVersion`,`CIDFontRevision`,`CIDFontType`,`CIDCount`,`UIDBase`,`FDArray`,`FDSelect`,`FontName`][c],l=2)),u==null?o.push(d):(a[u]=o.length==1?o[0]:o,o=[]),n+=l}return a},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;var s=[];a.tables=[];for(var c=0;c<o;c++){var l=i.readUshort(e,n);n+=2;var u=i.readUshort(e,n);n+=2;var d=i.readUint(e,n);n+=4;var f=`p`+l+`e`+u,p=s.indexOf(d);if(p==-1){var m;p=a.tables.length,s.push(d);var h=i.readUshort(e,d);h==0?m=t.cmap.parse0(e,d):h==4?m=t.cmap.parse4(e,d):h==6?m=t.cmap.parse6(e,d):h==12?m=t.cmap.parse12(e,d):console.debug(`unknown format: `+h,l,u,d),a.tables.push(m)}if(a[f]!=null)throw`multiple tables for one platform+encoding`;a[f]=p}return a},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[n+o]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,a={};a.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var c=s/2;a.searchRange=r.readUshort(e,n),n+=2,a.entrySelector=r.readUshort(e,n),n+=2,a.rangeShift=r.readUshort(e,n),n+=2,a.endCount=r.readUshorts(e,n,c),n+=2*c,n+=2,a.startCount=r.readUshorts(e,n,c),n+=2*c,a.idDelta=[];for(var l=0;l<c;l++)a.idDelta.push(r.readShort(e,n)),n+=2;for(a.idRangeOffset=r.readUshorts(e,n,c),n+=2*c,a.glyphIdArray=[];n<i+o;)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var a=r.readUint(e,n);n+=4,i.groups=[];for(var o=0;o<a;o++){var s=n+12*o,c=r.readUint(e,s+0),l=r.readUint(e,s+4),u=r.readUint(e,s+8);i.groups.push([c,l,u])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],a=0;a<r.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,a=t._tabOffset(i,`glyf`,e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(i,a),a+=2,o.xMin=r.readShort(i,a),a+=2,o.yMin=r.readShort(i,a),a+=2,o.xMax=r.readShort(i,a),a+=2,o.yMax=r.readShort(i,a),a+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(i,a)),a+=2;var c=r.readUshort(i,a);if(a+=2,i.length-a<c)return null;o.instructions=r.readBytes(i,a,c),a+=c;var l=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<l;s++){var u=i[a];if(a++,o.flags.push(u),8&u){var d=i[a];a++;for(var f=0;f<d;f++)o.flags.push(u),s++}}for(o.xs=[],s=0;s<l;s++){var p=(2&o.flags[s])!=0,m=(16&o.flags[s])!=0;p?(o.xs.push(m?i[a]:-i[a]),a++):m?o.xs.push(0):(o.xs.push(r.readShort(i,a)),a+=2)}for(o.ys=[],s=0;s<l;s++)p=(4&o.flags[s])!=0,m=(32&o.flags[s])!=0,p?(o.ys.push(m?i[a]:-i[a]),a++):m?o.ys.push(0):(o.ys.push(r.readShort(i,a)),a+=2);var h=0,g=0;for(s=0;s<l;s++)h+=o.xs[s],g+=o.ys[s],o.xs[s]=h,o.ys[s]=g}else{var _;o.parts=[];do{_=r.readUshort(i,a),a+=2;var v={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(v),v.glyphIndex=r.readUshort(i,a),a+=2,1&_){var y=r.readShort(i,a);a+=2;var b=r.readShort(i,a);a+=2}else y=r.readInt8(i,a),a++,b=r.readInt8(i,a),a++;2&_?(v.m.tx=y,v.m.ty=b):(v.p1=y,v.p2=b),8&_?(v.m.a=v.m.d=r.readF2dot14(i,a),a+=2):64&_?(v.m.a=r.readF2dot14(i,a),a+=2,v.m.d=r.readF2dot14(i,a),a+=2):128&_&&(v.m.a=r.readF2dot14(i,a),a+=2,v.m.b=r.readF2dot14(i,a),a+=2,v.m.c=r.readF2dot14(i,a),a+=2,v.m.d=r.readF2dot14(i,a),a+=2)}while(32&_);if(256&_){var x=r.readUshort(i,a);for(a+=2,o.instr=[],s=0;s<x;s++)o.instr.push(i[a]),a++}}return o},t.GDEF={},t.GDEF.parse=function(e,n,r,i){var a=n;n+=4;var o=t._bin.readUshort(e,n);return{glyphClassDef:o===0?null:t._lctf.readClassDef(e,a+o)}},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,n==1||n==2||n==3||n==7||n==8&&s.fmt<=2){var c=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,c+o)}if(n==1&&s.fmt==1){var l=a.readUshort(e,r);r+=2,l!=0&&(s.pos=t.GPOS.readValueRecord(e,r,l))}else if(n==2&&s.fmt>=1&&s.fmt<=2){l=a.readUshort(e,r),r+=2;var u=a.readUshort(e,r);r+=2;var d=t._lctf.numOfOnes(l),f=t._lctf.numOfOnes(u);if(s.fmt==1){s.pairsets=[];var p=a.readUshort(e,r);r+=2;for(var m=0;m<p;m++){var h=o+a.readUshort(e,r);r+=2;var g=a.readUshort(e,h);h+=2;for(var _=[],v=0;v<g;v++){var y=a.readUshort(e,h);h+=2,l!=0&&(T=t.GPOS.readValueRecord(e,h,l),h+=2*d),u!=0&&(E=t.GPOS.readValueRecord(e,h,u),h+=2*f),_.push({gid2:y,val1:T,val2:E})}s.pairsets.push(_)}}if(s.fmt==2){var b=a.readUshort(e,r);r+=2;var x=a.readUshort(e,r);r+=2;var S=a.readUshort(e,r);r+=2;var C=a.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+b),s.classDef2=t._lctf.readClassDef(e,o+x),s.matrix=[],m=0;m<S;m++){var w=[];for(v=0;v<C;v++){var T=null,E=null;l!=0&&(T=t.GPOS.readValueRecord(e,r,l),r+=2*d),u!=0&&(E=t.GPOS.readValueRecord(e,r,u),r+=2*f),w.push({val1:T,val2:E})}s.matrix.push(w)}}}else if(n==4&&s.fmt==1)s.markCoverage=t._lctf.readCoverage(e,a.readUshort(e,r)+o),s.baseCoverage=t._lctf.readCoverage(e,a.readUshort(e,r+2)+o),s.markClassCount=a.readUshort(e,r+4),s.markArray=t.GPOS.readMarkArray(e,a.readUshort(e,r+6)+o),s.baseArray=t.GPOS.readBaseArray(e,a.readUshort(e,r+8)+o,s.markClassCount);else if(n==6&&s.fmt==1)s.mark1Coverage=t._lctf.readCoverage(e,a.readUshort(e,r)+o),s.mark2Coverage=t._lctf.readCoverage(e,a.readUshort(e,r+2)+o),s.markClassCount=a.readUshort(e,r+4),s.mark1Array=t.GPOS.readMarkArray(e,a.readUshort(e,r+6)+o),s.mark2Array=t.GPOS.readBaseArray(e,a.readUshort(e,r+8)+o,s.markClassCount);else{if(n==9&&s.fmt==1){var D=a.readUshort(e,r);r+=2;var O=a.readUint(e,r);if(r+=4,i.ltype==9)i.ltype=D;else if(i.ltype!=D)throw`invalid extension substitution`;return t.GPOS.subt(e,i.ltype,o+O)}console.debug(`unsupported GPOS table LookupType`,n,`format`,s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,a=[];return a.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,a.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,a.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,a.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,a},t.GPOS.readBaseArray=function(e,n,r){var i=t._bin,a=[],o=n,s=i.readUshort(e,n);n+=2;for(var c=0;c<s;c++){for(var l=[],u=0;u<r;u++)l.push(t.GPOS.readAnchorRecord(e,o+i.readUshort(e,n))),n+=2;a.push(l)}return a},t.GPOS.readMarkArray=function(e,n){var r=t._bin,i=[],a=n,o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var c=t.GPOS.readAnchorRecord(e,r.readUshort(e,n+2)+a);c.markClass=r.readUshort(e,n),i.push(c),n+=4}return i},t.GPOS.readAnchorRecord=function(e,n){var r=t._bin,i={};return i.fmt=r.readUshort(e,n),i.x=r.readShort(e,n+2),i.y=r.readShort(e,n+4),i},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,n!=1&&n!=2&&n!=4&&n!=5&&n!=6)return null;if(n==1||n==2||n==4||n==5&&s.fmt<=2||n==6&&s.fmt<=2){var c=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+c)}if(n==1&&s.fmt>=1&&s.fmt<=2){if(s.fmt==1)s.delta=a.readShort(e,r),r+=2;else if(s.fmt==2){var l=a.readUshort(e,r);r+=2,s.newg=a.readUshorts(e,r,l),r+=2*s.newg.length}}else if(n==2&&s.fmt==1){l=a.readUshort(e,r),r+=2,s.seqs=[];for(var u=0;u<l;u++){var d=a.readUshort(e,r)+o;r+=2;var f=a.readUshort(e,d);s.seqs.push(a.readUshorts(e,d+2,f))}}else if(n==4)for(s.vals=[],l=a.readUshort(e,r),r+=2,u=0;u<l;u++){var p=a.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+p))}else if(n==5&&s.fmt==2){if(s.fmt==2){var m=a.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+m),s.scset=[];var h=a.readUshort(e,r);for(r+=2,u=0;u<h;u++){var g=a.readUshort(e,r);r+=2,s.scset.push(g==0?null:t.GSUB.readSubClassSet(e,o+g))}}}else if(n==6&&s.fmt==3){if(s.fmt==3){for(u=0;u<3;u++){l=a.readUshort(e,r),r+=2;for(var _=[],v=0;v<l;v++)_.push(t._lctf.readCoverage(e,o+a.readUshort(e,r+2*v)));r+=2*l,u==0&&(s.backCvg=_),u==1&&(s.inptCvg=_),u==2&&(s.ahedCvg=_)}l=a.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,l)}}else{if(n==7&&s.fmt==1){var y=a.readUshort(e,r);r+=2;var b=a.readUint(e,r);if(r+=4,i.ltype==9)i.ltype=y;else if(i.ltype!=y)throw`invalid extension substitution`;return t.GSUB.subt(e,i.ltype,o+b)}console.debug(`unsupported GSUB table LookupType`,n,`format`,s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,a=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var c=r(e,n);n+=2,a.push(t.GSUB.readSubClassRule(e,i+c))}return a},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},a=r(e,n),o=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<a-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,a=[],o=0;o<r;o++)a.push(i(e,n),i(e,n+2)),n+=4;return a},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var c=r.readUshort(e,n);n+=2,a.push(t.GSUB.readChainSubClassRule(e,i+c))}return a},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},a=[`backtrack`,`input`,`lookahead`],o=0;o<a.length;o++){var s=r.readUshort(e,n);n+=2,o==1&&s--,i[a[o]]=r.readUshorts(e,n,s),n+=2*i[a[o]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var c=r.readUshort(e,n);n+=2,a.push(t.GSUB.readLigature(e,i+c))}return a},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var o=0;o<a-1;o++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,a.flags=i.readUshort(e,n),n+=2,a.unitsPerEm=i.readUshort(e,n),n+=2,a.created=i.readUint64(e,n),n+=8,a.modified=i.readUint64(e,n),n+=8,a.xMin=i.readShort(e,n),n+=2,a.yMin=i.readShort(e,n),n+=2,a.xMax=i.readShort(e,n),n+=2,a.yMax=i.readShort(e,n),n+=2,a.macStyle=i.readUshort(e,n),n+=2,a.lowestRecPPEM=i.readUshort(e,n),n+=2,a.fontDirectionHint=i.readShort(e,n),n+=2,a.indexToLocFormat=i.readShort(e,n),n+=2,a.glyphDataFormat=i.readShort(e,n),n+=2,a},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.ascender=i.readShort(e,n),n+=2,a.descender=i.readShort(e,n),n+=2,a.lineGap=i.readShort(e,n),n+=2,a.advanceWidthMax=i.readUshort(e,n),n+=2,a.minLeftSideBearing=i.readShort(e,n),n+=2,a.minRightSideBearing=i.readShort(e,n),n+=2,a.xMaxExtent=i.readShort(e,n),n+=2,a.caretSlopeRise=i.readShort(e,n),n+=2,a.caretSlopeRun=i.readShort(e,n),n+=2,a.caretOffset=i.readShort(e,n),n+=2,n+=8,a.metricDataFormat=i.readShort(e,n),n+=2,a.numberOfHMetrics=i.readUshort(e,n),n+=2,a},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},s=0,c=0,l=0;l<i.maxp.numGlyphs;l++)l<i.hhea.numberOfHMetrics&&(s=a.readUshort(e,n),n+=2,c=a.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(c);return o},t.kern={},t.kern.parse=function(e,n,r,i){var a=t._bin,o=a.readUshort(e,n);if(n+=2,o==1)return t.kern.parseV1(e,n-2,r,i);var s=a.readUshort(e,n);n+=2;for(var c={glyph1:[],rval:[]},l=0;l<s;l++){n+=2,r=a.readUshort(e,n),n+=2;var u=a.readUshort(e,n);n+=2;var d=u>>>8;if((d&=15)!=0)throw`unknown kern table format: `+d;n=t.kern.readFormat0(e,n,c)}return c},t.kern.parseV1=function(e,n,r,i){var a=t._bin;a.readFixed(e,n),n+=4;var o=a.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},c=0;c<o;c++){a.readUint(e,n),n+=4;var l=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2;var u=l>>>8;if((u&=15)!=0)throw`unknown kern table format: `+u;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,a=-1,o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var c=i.readUshort(e,n);n+=2;var l=i.readUshort(e,n);n+=2;var u=i.readShort(e,n);n+=2,c!=a&&(r.glyph1.push(c),r.rval.push({glyph2:[],vals:[]}));var d=r.rval[r.rval.length-1];d.glyph2.push(l),d.vals.push(u),a=c}return n},t.loca={},t.loca.parse=function(e,n,r,i){var a=t._bin,o=[],s=i.head.indexToLocFormat,c=i.maxp.numGlyphs+1;if(s==0)for(var l=0;l<c;l++)o.push(a.readUshort(e,n+(l<<1))<<1);if(s==1)for(l=0;l<c;l++)o.push(a.readUint(e,n+(l<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,a={},o=i.readUint(e,n);return n+=4,a.numGlyphs=i.readUshort(e,n),n+=2,o==65536&&(a.maxPoints=i.readUshort(e,n),n+=2,a.maxContours=i.readUshort(e,n),n+=2,a.maxCompositePoints=i.readUshort(e,n),n+=2,a.maxCompositeContours=i.readUshort(e,n),n+=2,a.maxZones=i.readUshort(e,n),n+=2,a.maxTwilightPoints=i.readUshort(e,n),n+=2,a.maxStorage=i.readUshort(e,n),n+=2,a.maxFunctionDefs=i.readUshort(e,n),n+=2,a.maxInstructionDefs=i.readUshort(e,n),n+=2,a.maxStackElements=i.readUshort(e,n),n+=2,a.maxSizeOfInstructions=i.readUshort(e,n),n+=2,a.maxComponentElements=i.readUshort(e,n),n+=2,a.maxComponentDepth=i.readUshort(e,n),n+=2),a},t.name={},t.name.parse=function(e,n,r){var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,c=[`copyright`,`fontFamily`,`fontSubfamily`,`ID`,`fullName`,`version`,`postScriptName`,`trademark`,`manufacturer`,`designer`,`description`,`urlVendor`,`urlDesigner`,`licence`,`licenceURL`,`---`,`typoFamilyName`,`typoSubfamilyName`,`compatibleFull`,`sampleText`,`postScriptCID`,`wwsFamilyName`,`wwsSubfamilyName`,`lightPalette`,`darkPalette`],l=n+=2,u=0;u<o;u++){var d=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var g=i.readUshort(e,n);n+=2;var _,v=c[m],y=l+12*o+g;if(d==0)_=i.readUnicode(e,y,h/2);else if(d==3&&f==0)_=i.readUnicode(e,y,h/2);else if(f==0)_=i.readASCII(e,y,h);else if(f==1)_=i.readUnicode(e,y,h/2);else if(f==3)_=i.readUnicode(e,y,h/2);else{if(d!=1)throw`unknown encoding `+f+`, platformID: `+d;_=i.readASCII(e,y,h),console.debug(`reading unknown MAC encoding `+f+` as ASCII`)}var b=`p`+d+`,`+p.toString(16);a[b]??(a[b]={}),a[b][v===void 0?m:v]=_,a[b]._lang=p}for(var x in a)if(a[x].postScriptName!=null&&a[x]._lang==1033)return a[x];for(var x in a)if(a[x].postScriptName!=null&&a[x]._lang==0)return a[x];for(var x in a)if(a[x].postScriptName!=null&&a[x]._lang==3084)return a[x];for(var x in a)if(a[x].postScriptName!=null)return a[x];for(var x in a){s=x;break}return console.debug(`returning name table with languageID `+a[s]._lang),a[s]},t[`OS/2`]={},t[`OS/2`].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var a={};if(i==0)t[`OS/2`].version0(e,n,a);else if(i==1)t[`OS/2`].version1(e,n,a);else if(i==2||i==3||i==4)t[`OS/2`].version2(e,n,a);else{if(i!=5)throw`unknown OS/2 table version: `+i;t[`OS/2`].version5(e,n,a)}return a},t[`OS/2`].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+=2},t[`OS/2`].version1=function(e,n,r){var i=t._bin;return n=t[`OS/2`].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+=4},t[`OS/2`].version2=function(e,n,r){var i=t._bin;return n=t[`OS/2`].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+=2},t[`OS/2`].version5=function(e,n,r){var i=t._bin;return n=t[`OS/2`].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+=2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,a={};return a.version=i.readFixed(e,n),n+=4,a.italicAngle=i.readFixed(e,n),n+=4,a.underlinePosition=i.readShort(e,n),n+=2,a.underlineThickness=i.readShort(e,n),n+=2,a},t??={},t.U??={},t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(n.p0e4==null?n.p3e1==null?n.p1e0==null?n.p0e3!=null&&(r=n.p0e3):r=n.p1e0:r=n.p3e1:r=n.p0e4,r==-1)throw`no familiar platform and encoding!`;var i=n.tables[r];if(i.format==0)return t>=i.map.length?0:i.map[t];if(i.format==4){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return a==-1||i.startCount[a]>t?0:65535&(i.idRangeOffset[a]==0?t+i.idDelta[a]:i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)])}if(i.format==12){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var s=i.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw`unknown cmap table format `+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return i==null?r:(typeof i==`string`&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var c=0;o.FDSelect[c+2]<=n;)c+=2;s=o.FDArray[o.FDSelect[c+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],a,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];i??=n.glyf[e]=t.glyf._parseGlyf(n,e),i!=null&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=r==0?0:e.endPts[r-1]+1,a=e.endPts[r],o=i;o<=a;o++){var s=o==i?a:o-1,c=o==a?i:o+1,l=1&e.flags[o],u=1&e.flags[s],d=1&e.flags[c],f=e.xs[o],p=e.ys[o];if(o==i)if(l){if(!u){t.U.P.moveTo(n,f,p);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else u?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+f)/2,(e.ys[s]+p)/2);l?u&&t.U.P.lineTo(n,f,p):d?t.U.P.qcurveTo(n,f,p,e.xs[c],e.ys[c]):t.U.P.qcurveTo(n,f,p,(f+e.xs[c])/2,(p+e.ys[c])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,n,a);for(var s=o.m,c=0;c<a.crds.length;c+=2){var l=a.crds[c],u=a.crds[c+1];r.crds.push(l*s.a+u*s.b+s.tx),r.crds.push(l*s.c+u*s.d+s.ty)}for(c=0;c<a.cmds.length;c++)r.cmds.push(a.cmds[c])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return r==-1?0:n[r+2]},t.U._applySubs=function(e,n,r,i){for(var a=e.length-n-1,o=0;o<r.tabs.length;o++)if(r.tabs[o]!=null){var s,c=r.tabs[o];if(!c.coverage||(s=t._lctf.coverageIndex(c.coverage,e[n]))!=-1){if(r.ltype==1)e[n],c.fmt==1?e[n]=e[n]+c.delta:e[n]=c.newg[s];else if(r.ltype==4)for(var l=c.vals[s],u=0;u<l.length;u++){var d=l[u],f=d.chain.length;if(!(f>a)){for(var p=!0,m=0,h=0;h<f;h++){for(;e[n+m+(1+h)]==-1;)m++;d.chain[h]!=e[n+m+(1+h)]&&(p=!1)}if(p){for(e[n]=d.nglyph,h=0;h<f+m;h++)e[n+h+1]=-1;break}}}else if(r.ltype==5&&c.fmt==2)for(var g=t._lctf.getInterval(c.cDef,e[n]),_=c.cDef[g+2],v=c.scset[_],y=0;y<v.length;y++){var b=v[y],x=b.input;if(!(x.length>a)){for(p=!0,h=0;h<x.length;h++){var S=t._lctf.getInterval(c.cDef,e[n+1+h]);if(g==-1&&c.cDef[S+2]!=x[h]){p=!1;break}}if(p){var C=b.substLookupRecords;for(u=0;u<C.length;u+=2)C[u],C[u+1]}}}else if(r.ltype==6&&c.fmt==3){if(!t.U._glsCovered(e,c.backCvg,n-c.backCvg.length)||!t.U._glsCovered(e,c.inptCvg,n)||!t.U._glsCovered(e,c.ahedCvg,n+c.inptCvg.length))continue;var w=c.lookupRec;for(y=0;y<w.length;y+=2){g=w[y];var T=i[w[y+1]];t.U._applySubs(e,n+g,T,i)}}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(t._lctf.coverageIndex(n[i],e[r+i])==-1)return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},a=0,o=0;o<n.length;o++){var s=n[o];if(s!=-1){for(var c=o<n.length-1&&n[o+1]!=-1?n[o+1]:0,l=t.U.glyphToPath(e,s),u=0;u<l.crds.length;u+=2)i.crds.push(l.crds[u]+a),i.crds.push(l.crds[u+1]);for(r&&i.cmds.push(r),u=0;u<l.cmds.length;u++)i.cmds.push(l.cmds[u]);r&&i.cmds.push(`X`),a+=e.hmtx.aWidth[s],o<n.length-1&&(a+=t.U.getPairAdjustment(e,s,c))}}return i},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push(`M`),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push(`L`),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,a,o){e.cmds.push(`C`),e.crds.push(t,n,r,i,a,o)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push(`Q`),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push(`Z`)},t.U._drawCFF=function(e,n,r,i,a){for(var o=n.stack,s=n.nStems,c=n.haveWidth,l=n.width,u=n.open,d=0,f=n.x,p=n.y,m=0,h=0,g=0,_=0,v=0,y=0,b=0,x=0,S=0,C=0,w={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,w);var T=w.val;if(d+=w.size,T==`o1`||T==`o18`)o.length%2!=0&&!c&&(l=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,c=!0;else if(T==`o3`||T==`o23`)o.length%2!=0&&!c&&(l=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,c=!0;else if(T==`o4`)o.length>1&&!c&&(l=o.shift()+i.nominalWidthX,c=!0),u&&t.U.P.closePath(a),p+=o.pop(),t.U.P.moveTo(a,f,p),u=!0;else if(T==`o5`)for(;o.length>0;)f+=o.shift(),p+=o.shift(),t.U.P.lineTo(a,f,p);else if(T==`o6`||T==`o7`)for(var E=o.length,D=T==`o6`,O=0;O<E;O++){var k=o.shift();D?f+=k:p+=k,D=!D,t.U.P.lineTo(a,f,p)}else if(T==`o8`||T==`o24`){E=o.length;for(var A=0;A+6<=E;)m=f+o.shift(),h=p+o.shift(),g=m+o.shift(),_=h+o.shift(),f=g+o.shift(),p=_+o.shift(),t.U.P.curveTo(a,m,h,g,_,f,p),A+=6;T==`o24`&&(f+=o.shift(),p+=o.shift(),t.U.P.lineTo(a,f,p))}else{if(T==`o11`)break;if(T==`o1234`||T==`o1235`||T==`o1236`||T==`o1237`)T==`o1234`&&(h=p,g=(m=f+o.shift())+o.shift(),C=_=h+o.shift(),y=_,x=p,f=(b=(v=(S=g+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,m,h,g,_,S,C),t.U.P.curveTo(a,v,y,b,x,f,p)),T==`o1235`&&(m=f+o.shift(),h=p+o.shift(),g=m+o.shift(),_=h+o.shift(),S=g+o.shift(),C=_+o.shift(),v=S+o.shift(),y=C+o.shift(),b=v+o.shift(),x=y+o.shift(),f=b+o.shift(),p=x+o.shift(),o.shift(),t.U.P.curveTo(a,m,h,g,_,S,C),t.U.P.curveTo(a,v,y,b,x,f,p)),T==`o1236`&&(m=f+o.shift(),h=p+o.shift(),g=m+o.shift(),C=_=h+o.shift(),y=_,b=(v=(S=g+o.shift())+o.shift())+o.shift(),x=y+o.shift(),f=b+o.shift(),t.U.P.curveTo(a,m,h,g,_,S,C),t.U.P.curveTo(a,v,y,b,x,f,p)),T==`o1237`&&(m=f+o.shift(),h=p+o.shift(),g=m+o.shift(),_=h+o.shift(),S=g+o.shift(),C=_+o.shift(),v=S+o.shift(),y=C+o.shift(),b=v+o.shift(),x=y+o.shift(),Math.abs(b-f)>Math.abs(x-p)?f=b+o.shift():p=x+o.shift(),t.U.P.curveTo(a,m,h,g,_,S,C),t.U.P.curveTo(a,v,y,b,x,f,p));else if(T==`o14`){if(o.length>0&&!c&&(l=o.shift()+r.nominalWidthX,c=!0),o.length==4){var j=o.shift(),M=o.shift(),ee=o.shift(),te=o.shift(),ne=t.CFF.glyphBySE(r,ee),re=t.CFF.glyphBySE(r,te);t.U._drawCFF(r.CharStrings[ne],n,r,i,a),n.x=j,n.y=M,t.U._drawCFF(r.CharStrings[re],n,r,i,a)}u&&=(t.U.P.closePath(a),!1)}else if(T==`o19`||T==`o20`)o.length%2!=0&&!c&&(l=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,c=!0,d+=s+7>>3;else if(T==`o21`)o.length>2&&!c&&(l=o.shift()+i.nominalWidthX,c=!0),p+=o.pop(),f+=o.pop(),u&&t.U.P.closePath(a),t.U.P.moveTo(a,f,p),u=!0;else if(T==`o22`)o.length>1&&!c&&(l=o.shift()+i.nominalWidthX,c=!0),f+=o.pop(),u&&t.U.P.closePath(a),t.U.P.moveTo(a,f,p),u=!0;else if(T==`o25`){for(;o.length>6;)f+=o.shift(),p+=o.shift(),t.U.P.lineTo(a,f,p);m=f+o.shift(),h=p+o.shift(),g=m+o.shift(),_=h+o.shift(),f=g+o.shift(),p=_+o.shift(),t.U.P.curveTo(a,m,h,g,_,f,p)}else if(T==`o26`)for(o.length%2&&(f+=o.shift());o.length>0;)m=f,h=p+o.shift(),f=g=m+o.shift(),p=(_=h+o.shift())+o.shift(),t.U.P.curveTo(a,m,h,g,_,f,p);else if(T==`o27`)for(o.length%2&&(p+=o.shift());o.length>0;)h=p,g=(m=f+o.shift())+o.shift(),_=h+o.shift(),f=g+o.shift(),p=_,t.U.P.curveTo(a,m,h,g,_,f,p);else if(T==`o10`||T==`o29`){var ie=T==`o10`?i:r;if(o.length==0)console.debug(`error: empty stack`);else{var ae=o.pop(),N=ie.Subrs[ae+ie.Bias];n.x=f,n.y=p,n.nStems=s,n.haveWidth=c,n.width=l,n.open=u,t.U._drawCFF(N,n,r,i,a),f=n.x,p=n.y,s=n.nStems,c=n.haveWidth,l=n.width,u=n.open}}else if(T==`o30`||T==`o31`){var oe=o.length,P=(A=0,T==`o31`);for(A+=oe-(E=-3&oe);A<E;)P?(h=p,g=(m=f+o.shift())+o.shift(),p=(_=h+o.shift())+o.shift(),E-A==5?(f=g+o.shift(),A++):f=g,P=!1):(m=f,h=p+o.shift(),g=m+o.shift(),_=h+o.shift(),f=g+o.shift(),E-A==5?(p=_+o.shift(),A++):p=_,P=!0),t.U.P.curveTo(a,m,h,g,_,f,p),A+=4}else{if((T+``).charAt(0)==`o`)throw console.debug(`Unknown operation: `+T,e),T;o.push(T)}}}n.x=f,n.y=p,n.nStems=s,n.haveWidth=c,n.width=l,n.open=u};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,`__esModule`,{value:!0}),e}({}).Typr}
/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/
function mi(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,i=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var i=new n(31),a=0;a<31;++a)i[a]=t+=1<<e[a-1];var o=new r(i[30]);for(a=1;a<30;++a)for(var s=i[a];s<i[a+1];++s)o[s]=s-i[a]<<5|a;return[i,o]},c=s(i,2),l=c[0],u=c[1];l[28]=258,u[258]=28;for(var d=s(a,0)[0],f=new n(32768),p=0;p<32768;++p){var m=(43690&p)>>>1|(21845&p)<<1;m=(61680&(m=(52428&m)>>>2|(13107&m)<<2))>>>4|(3855&m)<<4,f[p]=((65280&m)>>>8|(255&m)<<8)>>>1}var h=function(e,t,r){for(var i=e.length,a=0,o=new n(t);a<i;++a)++o[e[a]-1];var s,c=new n(t);for(a=0;a<t;++a)c[a]=c[a-1]+o[a-1]<<1;if(r){s=new n(1<<t);var l=15-t;for(a=0;a<i;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],p=c[e[a]-1]++<<d,m=p|(1<<d)-1;p<=m;++p)s[f[p]>>>l]=u}else for(s=new n(i),a=0;a<i;++a)e[a]&&(s[a]=f[c[e[a]-1]++]>>>15-e[a]);return s},g=new t(288);for(p=0;p<144;++p)g[p]=8;for(p=144;p<256;++p)g[p]=9;for(p=256;p<280;++p)g[p]=7;for(p=280;p<288;++p)g[p]=8;var _=new t(32);for(p=0;p<32;++p)_[p]=5;var v=h(g,9,1),y=h(_,5,1),b=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},x=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},S=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},C=[`unexpected EOF`,`invalid block type`,`invalid length/literal`,`invalid distance`,`stream finished`,`no stream handler`,,`no callback`,`invalid UTF-8 data`,`extra field too long`,`date not in range 1980-2099`,`filename too long`,`stream finishing`,`invalid zip data`],w=function(e,t,n){var r=Error(t||C[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,w),!n)throw r;return r},T=function(e,s,c){var u=e.length;if(!u||c&&!c.l&&u<5)return s||new t(0);var f=!s||c,p=!c||c.i;c||={},s||=new t(3*u);var m,g=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},_=c.f||0,C=c.p||0,T=c.b||0,E=c.l,D=c.d,O=c.m,k=c.n,A=8*u;do{if(!E){c.f=_=x(e,C,1);var j=x(e,C+1,3);if(C+=3,!j){var M=e[(F=((m=C)/8|0)+(7&m&&1)+4)-4]|e[F-3]<<8,ee=F+M;if(ee>u){p&&w(0);break}f&&g(T+M),s.set(e.subarray(F,ee),T),c.b=T+=M,c.p=C=8*ee;continue}if(j==1)E=v,D=y,O=9,k=5;else if(j==2){var te=x(e,C,31)+257,ne=x(e,C+10,15)+4,re=te+x(e,C+5,31)+1;C+=14;for(var ie=new t(re),ae=new t(19),N=0;N<ne;++N)ae[o[N]]=x(e,C+3*N,7);C+=3*ne;var oe=b(ae),P=(1<<oe)-1,se=h(ae,oe,1);for(N=0;N<re;){var F,ce=se[x(e,C,P)];if(C+=15&ce,(F=ce>>>4)<16)ie[N++]=F;else{var I=0,L=0;for(F==16?(L=3+x(e,C,3),C+=2,I=ie[N-1]):F==17?(L=3+x(e,C,7),C+=3):F==18&&(L=11+x(e,C,127),C+=7);L--;)ie[N++]=I}}var R=ie.subarray(0,te),z=ie.subarray(te);O=b(R),k=b(z),E=h(R,O,1),D=h(z,k,1)}else w(1);if(C>A){p&&w(0);break}}f&&g(T+131072);for(var B=(1<<O)-1,le=(1<<k)-1,ue=C;;ue=C){var V=(I=E[S(e,C)&B])>>>4;if((C+=15&I)>A){p&&w(0);break}if(I||w(2),V<256)s[T++]=V;else{if(V==256){ue=C,E=null;break}var H=V-254;if(V>264){var de=i[N=V-257];H=x(e,C,(1<<de)-1)+l[N],C+=de}var fe=D[S(e,C)&le],pe=fe>>>4;if(fe||w(3),C+=15&fe,z=d[pe],pe>3&&(de=a[pe],z+=S(e,C)&(1<<de)-1,C+=de),C>A){p&&w(0);break}f&&g(T+131072);for(var me=T+H;T<me;T+=4)s[T]=s[T-z],s[T+1]=s[T+1-z],s[T+2]=s[T+2-z],s[T+3]=s[T+3-z];T=me}}c.l=E,c.p=ue,c.b=T,E&&(_=1,c.m=O,c.d=D,c.n=k)}while(!_);return T==s.length?s:function(e,i,a){(i==null||i<0)&&(i=0),(a==null||a>e.length)&&(a=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(a-i);return o.set(e.subarray(i,a)),o}(s,0,T)},E=new t(0),D=typeof TextDecoder<`u`&&new TextDecoder;try{D.decode(E,{stream:!0})}catch{}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function i(){var e=t.getUint32(n);return n+=4,e}function a(e){_.setUint16(v,e),v+=2}function o(e){_.setUint32(v,e),v+=4}for(var s={signature:i(),flavor:i(),length:i(),numTables:r(),reserved:r(),totalSfntSize:i(),majorVersion:r(),minorVersion:r(),metaOffset:i(),metaLength:i(),metaOrigLength:i(),privOffset:i(),privLength:i()},c=0;2**c<=s.numTables;)c++;c--;for(var l=16*2**c,u=16*s.numTables-l,d=12,f=[],p=0;p<s.numTables;p++)f.push({tag:i(),offset:i(),compLength:i(),origLength:i(),origChecksum:i()}),d+=16;var m,h=new Uint8Array(12+16*f.length+f.reduce((function(e,t){return e+t.origLength+4}),0)),g=h.buffer,_=new DataView(g),v=0;return o(s.flavor),a(s.numTables),a(l),a(c),a(u),f.forEach((function(e){o(e.tag),o(e.origChecksum),o(d),o(e.origLength),e.outOffset=d,(d+=e.origLength)%4!=0&&(d+=4-d%4)})),f.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var i=new Uint8Array(t.origLength);n=new Uint8Array(r,2),T(n,i)}else i=new Uint8Array(r);h.set(i,t.outOffset);var a=0;(d=t.outOffset+t.origLength)%4!=0&&(a=4-d%4),h.set(new Uint8Array(a).buffer,t.outOffset+t.origLength),m=d+a})),g.slice(0,m)},Object.defineProperty(e,`__esModule`,{value:!0}),e}({}).convert_streams}function hi(e,t){let n={M:2,L:2,Q:4,C:6,Z:0},r={C:`18g,ca,368,1kz`,D:`17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v`,R:`17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6`,L:`x9u,jff,a,fd,jv`,T:`4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n`},i;function a(e){if(!i){let e={R:2,L:1,D:4,C:16,U:32,T:8};for(let t in i=new Map,r){let n=0;r[t].split(`,`).forEach(r=>{let[a,o]=r.split(`+`);a=parseInt(a,36),o=o?parseInt(o,36):0,i.set(n+=a,e[t]);for(let r=o;r--;)i.set(++n,e[t])})}}return i.get(e)||32}let o=[null,`isol`,`init`,`fina`,`medi`];function s(e){let t=new Uint8Array(e.length),n=32,r=1,i=-1;for(let o=0;o<e.length;o++){let s=e.codePointAt(o),c=a(s)|0,l=1;c&8||(n&21?c&22?(l=3,(r===1||r===3)&&t[i]++):c&33&&(r===2||r===4)&&t[i]--:n&34&&(r===2||r===4)&&t[i]--,r=t[o]=l,n=c,i=o,s>65535&&o++)}return t}function c(t,n){let r=[];for(let i=0;i<n.length;i++){let a=n.codePointAt(i);a>65535&&i++,r.push(e.U.codeToGlyph(t,a))}let i=t.GSUB;if(i){let{lookupList:t,featureList:a}=i,c,l=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,u=[];a.forEach(i=>{if(l.test(i.tag))for(let a=0;a<i.tab.length;a++){if(u[i.tab[a]])continue;u[i.tab[a]]=!0;let l=t[i.tab[a]],d=/^(isol|init|fina|medi)$/.test(i.tag);d&&!c&&(c=s(n));for(let n=0;n<r.length;n++)(!c||!d||o[c[n]]===i.tag)&&e.U._applySubs(r,n,l,t)}})}return r}function l(t,n){let r=new Int16Array(n.length*3),i=0;for(;i<n.length;i++){let c=n[i];if(c===-1)continue;r[i*3+2]=t.hmtx.aWidth[c];let l=t.GPOS;if(l){let d=l.lookupList;for(let l=0;l<d.length;l++){let f=d[l];for(let l=0;l<f.tabs.length;l++){let d=f.tabs[l];if(f.ltype===1){if(e._lctf.coverageIndex(d.coverage,c)!==-1&&d.pos){s(d.pos,i);break}}else if(f.ltype===2){let t=null,r=a();if(r!==-1){let a=e._lctf.coverageIndex(d.coverage,n[r]);if(a!==-1){if(d.fmt===1){let e=d.pairsets[a];for(let n=0;n<e.length;n++)e[n].gid2===c&&(t=e[n])}else if(d.fmt===2){let i=e.U._getGlyphClass(n[r],d.classDef1),a=e.U._getGlyphClass(c,d.classDef2);t=d.matrix[i][a]}if(t){t.val1&&s(t.val1,r),t.val2&&s(t.val2,i);break}}}}else if(f.ltype===4){let t=e._lctf.coverageIndex(d.markCoverage,c);if(t!==-1){let s=a(o),c=s===-1?-1:e._lctf.coverageIndex(d.baseCoverage,n[s]);if(c!==-1){let e=d.markArray[t],n=d.baseArray[c][e.markClass];r[i*3]=n.x-e.x+r[s*3]-r[s*3+2],r[i*3+1]=n.y-e.y+r[s*3+1];break}}}else if(f.ltype===6){let o=e._lctf.coverageIndex(d.mark1Coverage,c);if(o!==-1){let s=a();if(s!==-1){let a=n[s];if(u(t,a)===3){let t=e._lctf.coverageIndex(d.mark2Coverage,a);if(t!==-1){let e=d.mark1Array[o],n=d.mark2Array[t][e.markClass];r[i*3]=n.x-e.x+r[s*3]-r[s*3+2],r[i*3+1]=n.y-e.y+r[s*3+1];break}}}}}}}}else if(t.kern&&!t.cff){let e=a();if(e!==-1){let i=t.kern.glyph1.indexOf(n[e]);if(i!==-1){let n=t.kern.rval[i].glyph2.indexOf(c);n!==-1&&(r[e*3+2]+=t.kern.rval[i].vals[n])}}}}return r;function a(e){for(let t=i-1;t>=0;t--)if(n[t]!==-1&&(!e||e(n[t])))return t;return-1}function o(e){return u(t,e)===1}function s(e,t){for(let n=0;n<3;n++)r[t*3+n]+=e[n]||0}}function u(t,n){let r=t.GDEF&&t.GDEF.glyphClassDef;return r?e.U._getGlyphClass(n,r):0}function d(...e){for(let t=0;t<e.length;t++)if(typeof e[t]==`number`)return e[t]}function f(t){let r=Object.create(null),i=t[`OS/2`],a=t.hhea,o=t.head.unitsPerEm,s=d(i&&i.sTypoAscender,a&&a.ascender,o),u={unitsPerEm:o,ascender:s,descender:d(i&&i.sTypoDescender,a&&a.descender,0),capHeight:d(i&&i.sCapHeight,s),xHeight:d(i&&i.sxHeight,s),lineGap:d(i&&i.sTypoLineGap,a&&a.lineGap),supportsCodePoint(n){return e.U.codeToGlyph(t,n)>0},forEachGlyph(i,a,o,s){let d=0,f=1/u.unitsPerEm*a,p=c(t,i),m=0,h=l(t,p);return p.forEach((c,l)=>{if(c!==-1){let i=r[c];if(!i){let{cmds:a,crds:o}=e.U.glyphToPath(t,c),s=``,l=0;for(let e=0,t=a.length;e<t;e++){let t=n[a[e]];s+=a[e];for(let e=1;e<=t;e++)s+=(e>1?`,`:``)+o[l++]}let u,d,f,p;if(o.length){u=d=1/0,f=p=-1/0;for(let e=0,t=o.length;e<t;e+=2){let t=o[e],n=o[e+1];t<u&&(u=t),n<d&&(d=n),t>f&&(f=t),n>p&&(p=n)}}else u=f=d=p=0;i=r[c]={index:c,advanceWidth:t.hmtx.aWidth[c],xMin:u,yMin:d,xMax:f,yMax:p,path:s}}s.call(null,i,d+h[l*3]*f,h[l*3+1]*f,m),d+=h[l*3+2]*f,o&&(d+=o*a)}m+=i.codePointAt(m)>65535?2:1}),d}};return u}return function(n){let r=new Uint8Array(n,0,4),i=e._bin.readASCII(r,0,4);if(i===`wOFF`)n=t(n);else if(i===`wOF2`)throw Error(`woff2 fonts not supported`);return f(e.parse(n)[0])}}var gi=Ur({name:`Typr Font Parser`,dependencies:[pi,mi,hi],init(e,t,n){let r=e(),i=t();return n(r,i)}});
/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/
function _i(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},t.prototype.has=function(e){var t=this.buckets.get(e>>5);return t!==void 0&&(t&1<<(31&e))!=0},t.prototype.serialize=function(){var e=[];return this.buckets.forEach((function(t,n){e.push((+n).toString(36)+`:`+t.toString(36))})),e.join(`,`)},t.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(`,`).forEach((function(e){var n=e.split(`:`);t.buckets.set(parseInt(n[0],36),parseInt(n[1],36))}))};var n=2**8,r=n-1,i=~r;function a(e){var t=function(e){return e&i}(e).toString(16),r=function(e){return(e&i)+n-1}(e).toString(16);return`codepoint-index/plane`+(e>>16)+`/`+t+`-`+r+`.json`}function o(e,t){var n=e&r,i=t.codePointAt(n/6|0);return((i=(i||48)-48)&1<<n%6)!=0}function s(e,t){var n;(n=e,n.replace(/U\+/gi,``).replace(/^,+|,+$/g,``).split(/,+/).map((function(e){return e.split(`-`).map((function(e){return parseInt(e.trim(),16)}))}))).forEach((function(e){var n=e[0],r=e[1];r===void 0&&(r=n),t(n,r)}))}function c(e,t){s(e,(function(e,n){for(var r=e;r<=n;r++)t(r)}))}var l={},u={},d=new WeakMap,f=`https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data`;function p(e){var n=d.get(e);return n||(n=new t,c(e.ranges,(function(e){return n.add(e)})),d.set(e,n)),n}var m,h=new Map;function g(e,t,n){return e[t]?t:e[n]?n:function(e){for(var t in e)return t}(e)}function _(e,t){var n=t;if(!e.includes(n)){n=1/0;for(var r=0;r<e.length;r++)Math.abs(e[r]-t)<Math.abs(n-t)&&(n=e[r])}return n}function v(e){return m||(m=new Set,c(`9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000`,(function(e){m.add(e)}))),m.has(e)}return e.CodePointSet=t,e.clearCache=function(){l={},u={}},e.getFontsForString=function(e,t){t===void 0&&(t={});var n,r=t.lang;r===void 0&&(r=/\p{Script=Hangul}/u.test(n=e)?`ko`:/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(n)?`ja`:`en`);var i=t.category;i===void 0&&(i=`sans-serif`);var s=t.style;s===void 0&&(s=`normal`);var c=t.weight;c===void 0&&(c=400);var d=(t.dataUrl||f).replace(/\/$/g,``),m=new Map,y=new Uint8Array(e.length),b={},x={},S=Array(e.length),C=new Map,w=!1;function T(e){var t=h.get(e);return t||(t=fetch(d+`/`+e).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json().then((function(e){if(!Array.isArray(e)||e[0]!==1)throw Error(`Incorrect schema version; need 1, got `+e[0]);return e[1]}))})).catch((function(t){if(d!==f)return w||=(console.error(`unicode-font-resolver: Failed loading from dataUrl "`+d+`", trying default CDN. `+t.message),!0),d=f,h.delete(e),T(e);throw t})),h.set(e,t)),t}for(var E=function(t){var n=e.codePointAt(t),r=a(n);S[t]=r,l[r]||C.has(r)||C.set(r,T(r).then((function(e){l[r]=e}))),n>65535&&(t++,D=t)},D=0;D<e.length;D++)E(D);return Promise.all(C.values()).then((function(){C.clear();for(var t=function(t){var i=e.codePointAt(t),a=null,s=l[S[t]],c=void 0;for(var d in s){var f=x[d];if(f===void 0&&(f=x[d]=new RegExp(d).test(r||`en`)),f){for(var p in c=d,s[d])if(o(i,s[d][p])){a=p;break}break}}if(!a){t:for(var m in s)if(m!==c){for(var h in s[m])if(o(i,s[m][h])){a=h;break t}}}a||=(console.debug(`No font coverage for U+`+i.toString(16)),`latin`),S[t]=a,u[a]||C.has(a)||C.set(a,T(`font-meta/`+a+`.json`).then((function(e){u[a]=e}))),i>65535&&(t++,n=t)},n=0;n<e.length;n++)t(n);return Promise.all(C.values())})).then((function(){for(var t=null,n=0;n<e.length;n++){var r=e.codePointAt(n);if(t&&(v(r)||p(t).has(r)))y[n]=y[n-1];else{t=u[S[n]];var a=b[t.id];if(!a){var o=t.typeforms,l=g(o,i,`sans-serif`),f=g(o[l],s,`normal`),h=_(o[l]?.[f],c);a=b[t.id]=d+`/font-files/`+t.id+`/`+l+`.`+f+`.`+h+`.woff`}var x=m.get(a);x??(x=m.size,m.set(a,x)),y[n]=x}r>65535&&(n++,y[n]=y[n-1])}return{fontUrls:Array.from(m.keys()),chars:y}}))},Object.defineProperty(e,`__esModule`,{value:!0}),e}({})}function vi(e,t){let n=Object.create(null),r=Object.create(null);function i(t,n){let r=e=>{console.error(`Failure loading font ${t}`,e)};try{let i=new XMLHttpRequest;i.open(`get`,t,!0),i.responseType=`arraybuffer`,i.onload=function(){if(i.status>=400)r(Error(i.statusText));else if(i.status>0)try{let r=e(i.response);r.src=t,n(r)}catch(e){r(e)}},i.onerror=r,i.send()}catch(e){r(e)}}function a(e,t){let a=n[e];a?t(a):r[e]?r[e].push(t):(r[e]=[t],i(e,t=>{t.src=e,n[e]=t,r[e].forEach(e=>e(t)),delete r[e]}))}return function(e,r,{lang:i,fonts:o=[],style:s=`normal`,weight:c=`normal`,unicodeFontsURL:l}={}){let u=new Uint8Array(e.length),d=[];e.length||h();let f=new Map,p=[];if(s!==`italic`&&(s=`normal`),typeof c!=`number`&&(c=c===`bold`?700:400),o&&!Array.isArray(o)&&(o=[o]),o=o.slice().filter(e=>!e.lang||e.lang.test(i)).reverse(),o.length){let t=0;(function r(i=0){for(let s=i,c=e.length;s<c;s++){let i=e.codePointAt(s);if(t===1&&d[u[s-1]].supportsCodePoint(i)||s>0&&/\s/.test(e[s]))u[s]=u[s-1],t===2&&(p[p.length-1][1]=s);else for(let e=u[s],c=o.length;e<=c;e++)if(e===c){let e=t===2?p[p.length-1]:p[p.length]=[s,s];e[1]=s,t=2}else{u[s]=e;let{src:c,unicodeRange:l}=o[e];if(!l||g(i,l)){let e=n[c];if(!e){a(c,()=>{r(s)});return}if(e.supportsCodePoint(i)){let n=f.get(e);typeof n!=`number`&&(n=d.length,d.push(e),f.set(e,n)),u[s]=n,t=1;break}}}i>65535&&s+1<c&&(u[s+1]=u[s],s++,t===2&&(p[p.length-1][1]=s))}m()})()}else p.push([0,e.length-1]),m();function m(){if(p.length){let n=p.map(t=>e.substring(t[0],t[1]+1)).join(`
`);t.getFontsForString(n,{lang:i||void 0,style:s,weight:c,dataUrl:l}).then(({fontUrls:e,chars:t})=>{let n=d.length,r=0;p.forEach(e=>{for(let i=0,a=e[1]-e[0];i<=a;i++)u[e[0]+i]=t[r++]+n;r++});let i=0;e.forEach((t,r)=>{a(t,t=>{d[r+n]=t,++i===e.length&&h()})})})}else h()}function h(){r({chars:u,fonts:d})}function g(e,t){for(let n=0;n<t.length;n++){let[r,i=r]=t[n];if(r<=e&&e<=i)return!0}return!1}}}var yi=Ur({name:`FontResolver`,dependencies:[vi,gi,_i],init(e,t,n){return e(t,n())}});function bi(e,t){let n=1/0,r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i=`[^\\S\\u00A0]`,a=RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:t,lang:n,fonts:r,style:i,weight:a,preResolvedFonts:o,unicodeFontsURL:s},c){let l=({chars:e,fonts:t})=>{let n,r,i=[];for(let a=0;a<e.length;a++)e[a]===r?n.end=a:(r=e[a],i.push(n={start:a,end:a,fontObj:t[e[a]]}));c(i)};o?l(o):e(t,l,{lang:n,fonts:r,style:i,weight:a,unicodeFontsURL:s})}function s({text:e=``,font:s,lang:c,sdfGlyphSize:p=64,fontSize:m=400,fontWeight:h=1,fontStyle:g=`normal`,letterSpacing:_=0,lineHeight:v=`normal`,maxWidth:y=n,direction:b,textAlign:x=`left`,textIndent:S=0,whiteSpace:C=`normal`,overflowWrap:w=`normal`,anchorX:T=0,anchorY:E=0,metricsOnly:D=!1,unicodeFontsURL:O,preResolvedFonts:k=null,includeCaretPositions:A=!1,chunkedBoundsSize:j=8192,colorRanges:M=null},ee){let te=d(),ne={fontLoad:0,typesetting:0};e.indexOf(`\r`)>-1&&(console.info(`Typesetter: got text with \\r chars; normalizing to \\n`),e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),m=+m,_=+_,y=+y,v||=`normal`,S=+S,o({text:e,lang:c,style:g,weight:h,fonts:typeof s==`string`?[{src:s}]:s,unicodeFontsURL:O,preResolvedFonts:k},o=>{ne.fontLoad=d()-te;let s=isFinite(y),c=null,p=null,h=null,g=null,O=null,k=null,re=null,ie=null,ae=0,N=0,oe=C!==`nowrap`,P=new Map,se=d(),F=S,ce=0,I=new f,L=[I];o.forEach(t=>{let{fontObj:n}=t,{ascender:o,descender:c,unitsPerEm:l,lineGap:u,capHeight:d,xHeight:p}=n,h=P.get(n);if(!h){let e=m/l,t=v===`normal`?(o-c+u)*e:v*m,r=(t-(o-c)*e)/2,i=Math.min(t,(o-c)*e),a=(o+c)/2*e+i/2;h={index:P.size,src:n.src,fontObj:n,fontSizeMult:e,unitsPerEm:l,ascender:o*e,descender:c*e,capHeight:d*e,xHeight:p*e,lineHeight:t,baseline:-r-o*e,caretTop:a,caretBottom:a-i},P.set(n,h)}let{fontSizeMult:g}=h,b=e.slice(t.start,t.end+1),x,C;n.forEachGlyph(b,m,_,(n,o,c,l)=>{o+=ce,l+=t.start,x=o,C=n;let u=e.charAt(l),d=n.advanceWidth*g,p=I.count,v;if(`isEmpty`in n||(n.isWhitespace=!!u&&new RegExp(i).test(u),n.canBreakAfter=!!u&&a.test(u),n.isEmpty=n.xMin===n.xMax||n.yMin===n.yMax||r.test(u)),!n.isWhitespace&&!n.isEmpty&&N++,oe&&s&&!n.isWhitespace&&o+d+F>y&&p){if(I.glyphAt(p-1).glyphObj.canBreakAfter)v=new f,F=-o;else for(let e=p;e--;)if(e===0&&w===`break-word`){v=new f,F=-o;break}else if(I.glyphAt(e).glyphObj.canBreakAfter){v=I.splitAt(e+1);let t=v.glyphAt(0).x;F-=t;for(let e=v.count;e--;)v.glyphAt(e).x-=t;break}v&&(I.isSoftWrapped=!0,I=v,L.push(I),ae=y)}let b=I.glyphAt(I.count);b.glyphObj=n,b.x=o+F,b.y=c,b.width=d,b.charIndex=l,b.fontData=h,u===`
`&&(I=new f,L.push(I),F=-(o+d+_*m)+S)}),ce=x+C.advanceWidth*g+_*m});let R=0;L.forEach(e=>{let t=!0;for(let n=e.count;n--;){let r=e.glyphAt(n);t&&!r.glyphObj.isWhitespace&&(e.width=r.x+r.width,e.width>ae&&(ae=e.width),t=!1);let{lineHeight:i,capHeight:a,xHeight:o,baseline:s}=r.fontData;i>e.lineHeight&&(e.lineHeight=i);let c=s-e.baseline;c<0&&(e.baseline+=c,e.cap+=c,e.ex+=c),e.cap=Math.max(e.cap,e.baseline+a),e.ex=Math.max(e.ex,e.baseline+o)}e.baseline-=R,e.cap-=R,e.ex-=R,R+=e.lineHeight});let z=0,B=0;if(T&&(typeof T==`number`?z=-T:typeof T==`string`&&(z=-ae*(T===`left`?0:T===`center`?.5:T===`right`?1:l(T)))),E&&(typeof E==`number`?B=-E:typeof E==`string`&&(B=E===`top`?0:E===`top-baseline`?-L[0].baseline:E===`top-cap`?-L[0].cap:E===`top-ex`?-L[0].ex:E===`middle`?R/2:E===`bottom`?R:E===`bottom-baseline`?-L[L.length-1].baseline:l(E)*R)),!D){let r=t.getEmbeddingLevels(e,b);c=new Uint16Array(N),p=new Uint8Array(N),h=new Float32Array(N*2),g={},re=[n,n,-n,-n],ie=[],A&&(k=new Float32Array(e.length*4)),M&&(O=new Uint8Array(N*3));let i=0,a=-1,o=-1,s,l;if(L.forEach((d,f)=>{let{count:m,width:_}=d;if(m>0){let f=0;for(let e=m;e--&&d.glyphAt(e).glyphObj.isWhitespace;)f++;let v=0,y=0;if(x===`center`)v=(ae-_)/2;else if(x===`right`)v=ae-_;else if(x===`justify`&&d.isSoftWrapped){let e=0;for(let t=m-f;t--;)d.glyphAt(t).glyphObj.isWhitespace&&e++;y=(ae-_)/e}if(y||v){let e=0;for(let t=0;t<m;t++){let n=d.glyphAt(t),r=n.glyphObj;n.x+=v+e,y!==0&&r.isWhitespace&&t<m-f&&(e+=y,n.width+=y)}}let b=t.getReorderSegments(e,r,d.glyphAt(0).charIndex,d.glyphAt(d.count-1).charIndex);for(let e=0;e<b.length;e++){let[t,n]=b[e],r=1/0,i=-1/0;for(let e=0;e<m;e++)if(d.glyphAt(e).charIndex>=t){let t=e,a=e;for(;a<m;a++){let e=d.glyphAt(a);if(e.charIndex>n)break;a<m-f&&(r=Math.min(r,e.x),i=Math.max(i,e.x+e.width))}for(let e=t;e<a;e++){let t=d.glyphAt(e);t.x=i-(t.x+t.width-r)}break}}let S,C=e=>S=e;for(let f=0;f<m;f++){let m=d.glyphAt(f);S=m.glyphObj;let _=S.index,v=r.levels[m.charIndex]&1;if(v){let n=t.getMirroredCharacter(e[m.charIndex]);n&&m.fontData.fontObj.forEachGlyph(n,0,0,C)}if(A){let{charIndex:e,fontData:t}=m,n=m.x+z,r=m.x+m.width+z;k[e*4]=v?r:n,k[e*4+1]=v?n:r,k[e*4+2]=d.baseline+t.caretBottom+B,k[e*4+3]=d.baseline+t.caretTop+B;let i=e-a;i>1&&u(k,a,i),a=e}if(M){let{charIndex:e}=m;for(;e>o;)o++,M.hasOwnProperty(o)&&(l=M[o])}if(!S.isWhitespace&&!S.isEmpty){let e=i++,{fontSizeMult:t,src:r,index:a}=m.fontData,o=g[r]||(g[r]={});o[_]||(o[_]={path:S.path,pathBounds:[S.xMin,S.yMin,S.xMax,S.yMax]});let u=m.x+z,f=m.y+d.baseline+B;h[e*2]=u,h[e*2+1]=f;let v=u+S.xMin*t,y=f+S.yMin*t,b=u+S.xMax*t,x=f+S.yMax*t;v<re[0]&&(re[0]=v),y<re[1]&&(re[1]=y),b>re[2]&&(re[2]=b),x>re[3]&&(re[3]=x),e%j===0&&(s={start:e,end:e,rect:[n,n,-n,-n]},ie.push(s)),s.end++;let C=s.rect;if(v<C[0]&&(C[0]=v),y<C[1]&&(C[1]=y),b>C[2]&&(C[2]=b),x>C[3]&&(C[3]=x),c[e]=_,p[e]=a,M){let t=e*3;O[t]=l>>16&255,O[t+1]=l>>8&255,O[t+2]=l&255}}}}}),k){let t=e.length-a;t>1&&u(k,a,t)}}let le=[];P.forEach(({index:e,src:t,unitsPerEm:n,ascender:r,descender:i,lineHeight:a,capHeight:o,xHeight:s})=>{le[e]={src:t,unitsPerEm:n,ascender:r,descender:i,lineHeight:a,capHeight:o,xHeight:s}}),ne.typesetting=d()-se,ee({glyphIds:c,glyphFontIndices:p,glyphPositions:h,glyphData:g,fontData:le,caretPositions:k,glyphColors:O,chunkedBounds:ie,fontSize:m,topBaseline:B+L[0].baseline,blockBounds:[z,B-R,z+ae,B],visibleBounds:re,timings:ne})})}function c(e,t){s({...e,metricsOnly:!0},e=>{let[n,r,i,a]=e.blockBounds;t({width:i-n,height:a-r})})}function l(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function u(e,t,n){let r=e[t*4],i=e[t*4+1],a=e[t*4+2],o=e[t*4+3],s=(i-r)/n;for(let i=0;i<n;i++){let n=(t+i)*4;e[n]=r+s*i,e[n+1]=r+s*(i+1),e[n+2]=a,e[n+3]=o}}function d(){return(self.performance||Date).now()}function f(){this.data=[]}let p=[`glyphObj`,`x`,`y`,`width`,`charIndex`,`fontData`];return f.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(e){let t=f.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new f;return t.data=this.data.splice(e*p.length),t}},f.flyweight=p.reduce((e,t,n,r)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*p.length+n]},set(e){this.data[this.index*p.length+n]=e}}),e),{data:null,index:0}),{typeset:s,measure:c}}var xi=()=>(self.performance||Date).now(),Si=Jr(),Ci;function wi(e,t,n,r,i,a,o,s,c,l,u=!0){return u?ki(e,t,n,r,i,a,o,s,c,l).then(null,u=>(Ci||=(console.warn(`WebGL SDF generation failed, falling back to JS`,u),!0),Pi(e,t,n,r,i,a,o,s,c,l))):Pi(e,t,n,r,i,a,o,s,c,l)}var Ti=[],Ei=5,Di=0;function Oi(){let e=xi();for(;Ti.length&&xi()-e<Ei;)Ti.shift()();Di=Ti.length?setTimeout(Oi,0):0}var ki=(...e)=>new Promise((t,n)=>{Ti.push(()=>{let r=xi();try{Si.webgl.generateIntoCanvas(...e),t({timing:xi()-r})}catch(e){n(e)}}),Di||=setTimeout(Oi,0)}),Ai=4,ji=2e3,Mi={},Ni=0;function Pi(e,t,n,r,i,a,o,s,c,l){let u=`TroikaTextSDFGenerator_JS_`+ Ni++%Ai,d=Mi[u];return d||=Mi[u]={workerModule:Ur({name:u,workerId:u,dependencies:[Jr,xi],init(e,t){let n=e().javascript.generate;return function(...e){let r=t();return{textureData:n(...e),timing:t()-r}}},getTransferables(e){return[e.textureData.buffer]}}),requests:0,idleTimer:null},d.requests++,clearTimeout(d.idleTimer),d.workerModule(e,t,n,r,i,a).then(({textureData:n,timing:r})=>{let i=xi(),a=new Uint8Array(n.length*4);for(let e=0;e<n.length;e++)a[e*4+l]=n[e];return Si.webglUtils.renderImageData(o,a,s,c,e,t,1<<3-l),r+=xi()-i,--d.requests===0&&(d.idleTimer=setTimeout(()=>{Wr(u)},ji)),{timing:r}})}function Fi(e){e._warm||=(Si.webgl.isSupported(e),!0)}var Ii=Si.webglUtils.resizeWebGLCanvasWithoutClearing,Li={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},Ri=new ut;function zi(){return(self.performance||Date).now()}var Bi=Object.create(null);function Vi(e,t){e=Gi({},e);let n=zi(),{defaultFontURL:r}=Li,i=[];if(r&&i.push({label:`default`,src:qi(r)}),e.font&&i.push({label:`user`,src:qi(e.font)}),e.font=i,e.text=``+e.text,e.sdfGlyphSize=e.sdfGlyphSize||Li.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||Li.unicodeFontsURL,e.colorRanges!=null){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let r=e.colorRanges[n];typeof r!=`number`&&(r=Ri.set(r).getHex()),t[n]=r}e.colorRanges=t}Object.freeze(e);let{textureWidth:a,sdfExponent:o}=Li,{sdfGlyphSize:s}=e,c=a/s*4,l=Bi[s];if(!l){let e=document.createElement(`canvas`);e.width=a,e.height=s*256/c,l=Bi[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:e,sdfTexture:new R(e,void 0,void 0,void 0,We,We),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,Ui(l)}let{sdfTexture:u,sdfCanvas:d}=l;(Li.useWorker?Yi:Xi)(e).then(r=>{let{glyphIds:i,glyphFontIndices:f,fontData:p,glyphPositions:m,fontSize:h,timings:g}=r,_=[],v=new Float32Array(i.length*4),y=0,b=0,x=zi(),S=p.map(e=>{let t=l.glyphsByFont.get(e.src);return t||l.glyphsByFont.set(e.src,t=new Map),t});i.forEach((e,t)=>{let n=f[t],{src:a,unitsPerEm:o}=p[n],c=S[n].get(e);if(!c){let{path:t,pathBounds:i}=r.glyphData[a][e],o=Math.max(i[2]-i[0],i[3]-i[1])/s*(Li.sdfMargin*s+.5),u=l.glyphCount++,d=[i[0]-o,i[1]-o,i[2]+o,i[3]+o];S[n].set(e,c={path:t,atlasIndex:u,sdfViewBox:d}),_.push(c)}let{sdfViewBox:u}=c,d=m[b++],g=m[b++],x=h/o;v[y++]=d+u[0]*x,v[y++]=g+u[1]*x,v[y++]=d+u[2]*x,v[y++]=g+u[3]*x,i[t]=c.atlasIndex}),g.quads=(g.quads||0)+(zi()-x);let C=zi();g.sdf={};let w=d.height,T=Math.ceil(l.glyphCount/c),E=2**Math.ceil(Math.log2(T*s));E>w&&(console.info(`Increasing SDF texture size ${w}->${E}`),Ii(d,a,E),u.dispose()),Promise.all(_.map(t=>Hi(t,l,e.gpuAccelerateSDF).then(({timing:e})=>{g.sdf[t.atlasIndex]=e}))).then(()=>{_.length&&!l.contextLost&&(Ji(l),u.needsUpdate=!0),g.sdfTotal=zi()-C,g.total=zi()-n,t(Object.freeze({parameters:e,sdfTexture:u,sdfGlyphSize:s,sdfExponent:o,glyphBounds:v,glyphAtlasIndices:i,glyphColors:r.glyphColors,caretPositions:r.caretPositions,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,capHeight:r.capHeight,xHeight:r.xHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings}))})}),Promise.resolve().then(()=>{l.contextLost||Fi(d)})}function Hi({path:e,atlasIndex:t,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},o){if(a)return Promise.resolve({timing:-1});let{textureWidth:s,sdfExponent:c}=Li,l=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(t/4),d=u%(s/r)*r,f=Math.floor(u/(s/r))*r,p=t%4;return wi(r,r,e,n,l,c,i,d,f,p,o)}function Ui(e){let t=e.sdfCanvas;t.addEventListener(`webglcontextlost`,t=>{console.log(`Context Lost`,t),t.preventDefault(),e.contextLost=!0}),t.addEventListener(`webglcontextrestored`,t=>{console.log(`Context Restored`,t),e.contextLost=!1;let n=[];e.glyphsByFont.forEach(t=>{t.forEach(t=>{n.push(Hi(t,e,!0))})}),Promise.all(n).then(()=>{Ji(e),e.sdfTexture.needsUpdate=!0})})}function Wi({font:e,characters:t,sdfGlyphSize:n},r){let i=Array.isArray(t)?t.join(`
`):``+t;Vi({font:e,sdfGlyphSize:n,text:i},r)}function Gi(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var Ki;function qi(e){return Ki||=typeof document>`u`?{}:document.createElement(`a`),Ki.href=e,Ki.href}function Ji(e){if(typeof createImageBitmap!=`function`){console.info(`Safari<15: applying SDF canvas workaround`);let{sdfCanvas:t,sdfTexture:n}=e,{width:r,height:i}=t,a=e.sdfCanvas.getContext(`webgl`),o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}var Yi=Ur({name:`Typesetter`,dependencies:[Ur({name:`Typesetter`,dependencies:[bi,yi,Xr],init(e,t,n){return e(t,n())}})],init(e){return function(t){return new Promise(n=>{e.typeset(t,n)})}},getTransferables(e){let t=[];for(let n in e)e[n]&&e[n].buffer&&t.push(e[n].buffer);return t}}),Xi=Yi.onMainThread,Zi={};function Qi(e){let t=Zi[e];return t||=Zi[e]=new Te(1,1,e,e).translate(.5,.5,0),t}var $i=`aTroikaGlyphBounds`,ea=`aTroikaGlyphIndex`,ta=`aTroikaGlyphColor`,na=class extends o{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new _,this.boundingBox=new _e}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!=`number`||e<1)&&(e=1);let t=Qi(e);[`position`,`normal`,`uv`].forEach(e=>{this.attributes[e]=t.attributes[e].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,r,i){this.updateAttributeData($i,e,4),this.updateAttributeData(ea,t,1),this.updateAttributeData(ta,i,3),this._blockBounds=n,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){let e=this._blockBounds;if(e){let{curveRadius:t,boundingBox:n}=this;if(t){let{PI:r,floor:i,min:a,max:o,sin:s,cos:c}=Math,l=r/2,u=r*2,d=Math.abs(t),f=e[0]/d,p=e[2]/d,m=i((f+l)/u)===i((p+l)/u)?a(s(f)*d,s(p)*d):-d,h=i((f-l)/u)===i((p-l)/u)?o(s(f)*d,s(p)*d):d,g=i((f+r)/u)===i((p+r)/u)?o(d-c(f)*d,d-c(p)*d):d*2;n.min.set(m,e[1],t<0?-g:0),n.max.set(h,e[3],t<0?0:g)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(ea).count,n=this._chunkedBounds;if(n)for(let r=n.length;r--;){t=n[r].end;let i=n[r].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,n){let r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new B(t,n)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}},ra=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,ia=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,aa=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,oa=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function sa(e){let t=oi(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Je},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new I(0,0,0,0)},uTroikaClipRect:{value:new I(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Je},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ut},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new ot},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:ra,vertexTransform:ia,fragmentDefs:aa,fragmentColorTransform:oa,customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,`varying vec3 vTroikaGlyphColor`).replace(/\bdiffuse\b/g,`vTroikaGlyphColor`),n.test(e)||(e=e.replace(Zr,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}var ca=new Qe({color:16777215,side:2,transparent:!0}),la=8421504,ua=new mt,da=new P,fa=new P,pa=[],ma=new P,ha=`+x+y`;function ga(e){return Array.isArray(e)?e[0]:e}var _a=()=>{let e=new Pe(new Te(1,1),ca);return _a=()=>e,e},va=()=>{let e=new Pe(new Te(1,1,32,1),ca);return va=()=>e,e},ya={type:`syncstart`},ba={type:`synccomplete`},xa=[`font`,`fontSize`,`fontStyle`,`fontWeight`,`lang`,`letterSpacing`,`lineHeight`,`maxWidth`,`overflowWrap`,`text`,`direction`,`textAlign`,`textIndent`,`whiteSpace`,`anchorX`,`anchorY`,`colorRanges`,`sdfGlyphSize`],Sa=xa.concat(`material`,`color`,`depthOffset`,`clipRect`,`curveRadius`,`orientation`,`glyphGeometryDetail`),Ca=class extends Pe{constructor(){let e=new na;super(e,null),this.text=``,this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction=`auto`,this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight=`normal`,this.fontStyle=`normal`,this.lang=null,this.letterSpacing=0,this.lineHeight=`normal`,this.maxWidth=1/0,this.overflowWrap=`normal`,this.textAlign=`left`,this.textIndent=0,this.whiteSpace=`normal`,this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=la,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=ha,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||=[]).push(e):(this._isSyncing=!0,this.dispatchEvent(ya),Vi({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||`normal`,fontStyle:this.fontStyle||`normal`,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||`normal`,maxWidth:this.maxWidth,direction:this.direction||`auto`,textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);let n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{n.forEach(e=>e&&e())})),this.dispatchEvent(ba),e&&e()})))}onBeforeRender(e,t,n,r,i,a){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return sa(e)}get material(){let e=this._derivedMaterial,t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ca.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener(`dispose`,function n(){t.removeEventListener(`dispose`,n),e.dispose()})),this.hasOutline()){let t=e._outlineMtl;return t||(t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener(`dispose`,function n(){e.removeEventListener(`dispose`,n),t.dispose()})),[t,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return ga(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return ga(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){let t=e.isTextOutlineMaterial,n=e.uniforms,r=this.textRenderInfo;if(r){let{sdfTexture:e,blockBounds:i}=r;n.uTroikaSDFTexture.value=e,n.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),n.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,n.uTroikaSDFExponent.value=r.sdfExponent,n.uTroikaTotalBounds.value.fromArray(i),n.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let a=0,o=0,s=0,c,l,u,d=0,f=0;if(t){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:n,outlineBlur:r,outlineOpacity:i}=this;a=this._parsePercent(e)||0,o=Math.max(0,this._parsePercent(r)||0),c=i,d=this._parsePercent(t)||0,f=this._parsePercent(n)||0}else s=Math.max(0,this._parsePercent(this.strokeWidth)||0),s&&(u=this.strokeColor,n.uTroikaStrokeColor.value.set(u??la),l=this.strokeOpacity,l??=1),c=this.fillOpacity;n.uTroikaEdgeOffset.value=a,n.uTroikaPositionOffset.value.set(d,f),n.uTroikaBlurRadius.value=o,n.uTroikaStrokeWidth.value=s,n.uTroikaStrokeOpacity.value=l,n.uTroikaFillOpacity.value=c??1,n.uTroikaCurveRadius.value=this.curveRadius||0;let p=this.clipRect;if(p&&Array.isArray(p)&&p.length===4)n.uTroikaClipRect.value.fromArray(p);else{let e=(this.fontSize||.1)*100;n.uTroikaClipRect.value.set(i[0]-e,i[1]-e,i[2]+e,i[3]+e)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;let i=t?this.outlineColor||0:this.color;if(i==null)delete e.color;else{let t=e.hasOwnProperty(`color`)?e.color:e.color=new ut;(i!==t._input||typeof i==`object`)&&t.set(t._input=i)}let a=this.orientation||ha;if(a!==e._orientation){let t=n.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,``);let r=a!==ha&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(r){let[,e,n,i,a]=r;da.set(0,0,0)[n]=e===`-`?1:-1,fa.set(0,0,0)[a]=i===`-`?-1:1,ua.lookAt(ma,da.cross(fa),fa),t.setFromMatrix4(ua)}else t.identity();e._orientation=a}}_parsePercent(e){if(typeof e==`string`){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Je){t.copy(e);let n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new Je){return da.copy(e),this.localPositionToTextCoords(this.worldToLocal(da),t)}raycast(e,t){let{textRenderInfo:n,curveRadius:r}=this;if(n){let i=n.blockBounds,a=r?va():_a(),o=a.geometry,{position:s,uv:c}=o.attributes;for(let e=0;e<c.count;e++){let t=i[0]+c.getX(e)*(i[2]-i[0]),n=i[1]+c.getY(e)*(i[3]-i[1]),a=0;r&&(a=r-Math.cos(t/r)*r,t=Math.sin(t/r)*r),s.setXYZ(e,t,n,a)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,pa.length=0,a.raycast(e,pa);for(let e=0;e<pa.length;e++)pa[e].object=this,t.push(pa[e])}}copy(e){let t=this.geometry;return super.copy(e),this.geometry=t,Sa.forEach(t=>{this[t]=e[t]}),this}clone(){return new this.constructor().copy(this)}};xa.forEach(e=>{let t=`_private_`+e;Object.defineProperty(Ca.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}),new _e,new ut;var wa=K.forwardRef(({sdfGlyphSize:e=64,anchorX:t=`center`,anchorY:n=`middle`,font:r,fontSize:i=1,children:a,characters:o,onSync:s,...c},l)=>{let u=ae(({invalidate:e})=>e),[d]=K.useState(()=>new Ca),[f,p]=K.useMemo(()=>{let e=[],t=``;return K.Children.forEach(a,n=>{typeof n==`string`||typeof n==`number`?t+=n:e.push(n)}),[e,t]},[a]);return le(()=>new Promise(e=>Wi({font:r,characters:o},e)),[`troika-text`,r,o]),K.useLayoutEffect(()=>void d.sync(()=>{u(),s&&s(d)})),K.useEffect(()=>()=>d.dispose(),[d]),K.createElement(`primitive`,j({object:d,ref:l,font:r,text:p,anchorX:t,anchorY:n,fontSize:i,sdfGlyphSize:e},c),f)});function Ta(e,t,n,r){var i;return i=class extends d{constructor(i){for(let r in super({vertexShader:t,fragmentShader:n,...i}),e)this.uniforms[r]=new Xe(e[r]),Object.defineProperty(this,r,{get(){return this.uniforms[r].value},set(e){this.uniforms[r].value=e}});this.uniforms=c.clone(this.uniforms),r?.(this)}},i.key=Oe.generateUUID(),i}var Ea=(()=>parseInt(`181`.replace(/\D+/g,``)))(),Da=Ta({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new ut,sectionColor:new ut,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new P,worldPlanePosition:new P},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Ea>=154?`colorspace_fragment`:`encodings_fragment`}>
    }
  `),Oa=K.forwardRef(({args:e,cellColor:t=`#000000`,sectionColor:n=`#2080ff`,cellSize:r=.5,sectionSize:i=1,followCamera:a=!1,infiniteGrid:o=!1,fadeDistance:s=100,fadeStrength:c=1,fadeFrom:l=1,cellThickness:u=.5,sectionThickness:d=1,side:f=1,...p},m)=>{b({GridMaterial:Da});let h=K.useRef(null);K.useImperativeHandle(m,()=>h.current,[]);let g=new U,_=new P(0,1,0),v=new P(0,0,0);A(e=>{g.setFromNormalAndCoplanarPoint(_,v).applyMatrix4(h.current.matrixWorld);let t=h.current.material,n=t.uniforms.worldCamProjPosition,r=t.uniforms.worldPlanePosition;g.projectPoint(e.camera.position,n.value),r.value.set(0,0,0).applyMatrix4(h.current.matrixWorld)});let y={cellSize:r,sectionSize:i,cellColor:t,sectionColor:n,cellThickness:u,sectionThickness:d},x={fadeDistance:s,fadeStrength:c,fadeFrom:l,infiniteGrid:o,followCamera:a};return K.createElement(`mesh`,j({ref:h,frustumCulled:!1},p),K.createElement(`gridMaterial`,j({transparent:!0,"extensions-derivatives":!0,side:f},y,x)),K.createElement(`planeGeometry`,{args:e}))});function ka(e,t){let n=e+`Geometry`;return K.forwardRef(({args:e,children:r,...i},a)=>{let o=K.useRef(null);return K.useImperativeHandle(a,()=>o.current),K.useLayoutEffect(()=>void t?.(o.current)),K.createElement(`mesh`,j({ref:o},i),K.createElement(n,{attach:`geometry`,args:e}),r)})}var Aa=ka(`extrude`),ja=class extends d{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Ea>=154?`colorspace_fragment`:`encodings_fragment`}>
      }`})}},Ma=e=>new P().setFromSpherical(new p(e,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Na=K.forwardRef(({radius:e=100,depth:t=50,count:n=5e3,saturation:r=0,factor:i=4,fade:a=!1,speed:o=1},s)=>{let c=K.useRef(null),[l,u,d]=K.useMemo(()=>{let a=[],o=[],s=Array.from({length:n},()=>(.5+.5*Math.random())*i),c=new ut,l=e+t,u=t/n;for(let e=0;e<n;e++)l-=u*Math.random(),a.push(...Ma(l).toArray()),c.setHSL(e/n,r,.9),o.push(c.r,c.g,c.b);return[new Float32Array(a),new Float32Array(o),new Float32Array(s)]},[n,t,i,e,r]);A(e=>c.current&&(c.current.uniforms.time.value=e.clock.elapsedTime*o));let[f]=K.useState(()=>new ja);return K.createElement(`points`,{ref:s},K.createElement(`bufferGeometry`,null,K.createElement(`bufferAttribute`,{attach:`attributes-position`,args:[l,3]}),K.createElement(`bufferAttribute`,{attach:`attributes-color`,args:[u,3]}),K.createElement(`bufferAttribute`,{attach:`attributes-size`,args:[d,1]})),K.createElement(`primitive`,{ref:c,object:f,attach:`material`,blending:2,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),Pa=W,Fa=Be,Ia=-1,La=function(){function e(t){var n=t.mappingMethod,r=t.type,i=this.option=at(t);this.type=r,this.mappingMethod=n,this._normalizeData=Ya[n];var a=e.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[n],n===`piecewise`?(Ba(i),Ra(i)):n===`category`?i.categories?za(i):Ba(i,!0):(Ue(n!==`linear`||i.dataExtent),Ba(i))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return De(this._normalizeData,this)},e.listVisualTypes=function(){return St(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){Be(e)?W(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,r){var i,a=ct(t)?[]:Be(t)?{}:(i=!0,null);return e.eachVisual(t,function(e,t){var o=n.call(r,e,t);i?a=o:a[t]=o}),a},e.retrieveVisuals=function(t){var n={},r;return t&&Pa(e.visualHandlers,function(e,i){t.hasOwnProperty(i)&&(n[i]=t[i],r=!0)}),r?n:null},e.prepareVisualTypes=function(e){if(ct(e))e=e.slice();else if(Fa(e)){var t=[];Pa(e,function(e,n){t.push(n)}),e=t}else return[];return e.sort(function(e,t){return t===`color`&&e!==`color`&&e.indexOf(`color`)===0?1:-1}),e},e.dependsOn=function(e,t){return t===`color`?!!(e&&e.indexOf(t)===0):e===t},e.findPieceIndex=function(e,t,n){for(var r,i=1/0,a=0,o=t.length;a<o;a++){var s=t[a].value;if(s!=null){if(s===e||we(s)&&s===e+``)return a;n&&d(s,a)}}for(var a=0,o=t.length;a<o;a++){var c=t[a],l=c.interval,u=c.close;if(l){if(l[0]===-1/0){if(Xa(u[1],e,l[1]))return a}else if(l[1]===1/0){if(Xa(u[0],l[0],e))return a}else if(Xa(u[0],l[0],e)&&Xa(u[1],e,l[1]))return a;n&&d(l[0],a),n&&d(l[1],a)}}if(n)return e===1/0?t.length-1:e===-1/0?0:r;function d(t,n){var a=Math.abs(t-e);a<i&&(i=a,r=n)}},e.visualHandlers={color:{applyVisual:Ua(`color`),getColorMapper:function(){var e=this.option;return De(e.mappingMethod===`category`?function(e,t){return!t&&(e=this._normalizeData(e)),Wa.call(this,e)}:function(t,n,r){var i=!!r;return!n&&(t=this._normalizeData(t)),r=T(t,e.parsedVisual,r),i?r:be(r,`rgba`)},this)},_normalizedToVisual:{linear:function(e){return be(T(e,this.option.parsedVisual),`rgba`)},category:Wa,piecewise:function(e,t){var n=qa.call(this,t);return n??=be(T(e,this.option.parsedVisual),`rgba`),n},fixed:Ga}},colorHue:Va(function(e,t){return dt(e,t)}),colorSaturation:Va(function(e,t){return dt(e,null,t)}),colorLightness:Va(function(e,t){return dt(e,null,null,t)}),colorAlpha:Va(function(e,t){return re(e,t)}),decal:{applyVisual:Ua(`decal`),_normalizedToVisual:{linear:null,category:Wa,piecewise:null,fixed:null}},opacity:{applyVisual:Ua(`opacity`),_normalizedToVisual:Ka([0,1])},liftZ:{applyVisual:Ua(`liftZ`),_normalizedToVisual:{linear:Ga,category:Ga,piecewise:Ga,fixed:Ga}},symbol:{applyVisual:function(e,t,n){var r=this.mapValueToVisual(e);n(`symbol`,r)},_normalizedToVisual:{linear:Ha,category:Wa,piecewise:function(e,t){var n=qa.call(this,t);return n??=Ha.call(this,e),n},fixed:Ga}},symbolSize:{applyVisual:Ua(`symbolSize`),_normalizedToVisual:Ka([0,1])}},e}();function Ra(e){var t=e.pieceList;e.hasSpecialVisual=!1,W(t,function(t,n){t.originIndex=n,t.visual!=null&&(e.hasSpecialVisual=!0)})}function za(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(Pa(t,function(e,t){n[e]=t}),!ct(r)){var i=[];Be(r)?Pa(r,function(e,t){var r=n[t];i[r??Ia]=e}):i[Ia]=r,r=Ja(e,i)}for(var a=t.length-1;a>=0;a--)r[a]??(delete n[t[a]],t.pop())}function Ba(e,t){var n=e.visual,r=[];Be(n)?Pa(n,function(e){r.push(e)}):n!=null&&r.push(n),!t&&r.length===1&&!{color:1,symbol:1}.hasOwnProperty(e.type)&&(r[1]=r[0]),Ja(e,r)}function Va(e){return{applyVisual:function(t,n,r){var i=this.mapValueToVisual(t);r(`color`,e(n(`color`),i))},_normalizedToVisual:Ka([0,1])}}function Ha(e){var t=this.option.visual;return t[Math.round(Nt(e,[0,1],[0,t.length-1],!0))]||{}}function Ua(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function Wa(e){var t=this.option.visual;return t[this.option.loop&&e!==Ia?e%t.length:e]}function Ga(){return this.option.visual[0]}function Ka(e){return{linear:function(t){return Nt(t,e,this.option.visual,!0)},category:Wa,piecewise:function(t,n){var r=qa.call(this,n);return r??=Nt(t,e,this.option.visual,!0),r},fixed:Ga}}function qa(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=La.findPieceIndex(e,n),i=n[r];if(i&&i.visual)return i.visual[this.type]}}function Ja(e,t){return e.visual=t,e.type===`color`&&(e.parsedVisual=kt(t,function(e){return te(e)||[0,0,0,1]})),t}var Ya={linear:function(e){return Nt(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=La.findPieceIndex(e,t,!0);if(n!=null)return Nt(n,[0,t.length-1],[0,1],!0)},category:function(e){return(this.option.categories?this.option.categoryMap[e]:e)??Ia},fixed:Et};function Xa(e,t,n){return e?t<=n:t<n}var Za=La,Qa=W;function $a(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function eo(e,t,n){var r={};return Qa(t,function(t){var a=r[t]=i();Qa(e[t],function(e,r){if(Za.isValidType(r)){var i={type:r,visual:e};n&&n(i,t),a[r]=new Za(i),r===`opacity`&&(i=at(i),i.type=`colorAlpha`,a.__hidden.__alphaForOpacity=new Za(i))}})}),r;function i(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}}function to(e,t,n){var r;W(n,function(e){t.hasOwnProperty(e)&&$a(t[e])&&(r=!0)}),r&&W(n,function(n){t.hasOwnProperty(n)&&$a(t[n])?e[n]=at(t[n]):delete e[n]})}function no(e,t,n,r){var i={};return W(e,function(e){i[e]=Za.prepareVisualTypes(t[e])}),{progress:function(e,a){var o;r!=null&&(o=a.getDimensionIndex(r));function s(e){return y(a,l,e)}function c(e,t){ie(a,l,e,t)}for(var l,u=a.getStore();(l=e.next())!=null;){var d=a.getRawDataItem(l);if(!(d&&d.visualMap===!1))for(var f=r==null?l:u.get(o,l),p=n(f),m=t[p],h=i[p],g=0,_=h.length;g<_;g++){var v=h[g];m[v]&&m[v].applyVisual(f,s,c)}}}}}var ro=function(e){V(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:`box`,ignoreSize:!0},n}return t.type=`title`,t.defaultOption={z:6,show:!0,text:``,target:`blank`,subtext:``,subtarget:`blank`,left:`center`,top:E.size.m,backgroundColor:E.color.transparent,borderColor:E.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:`bold`,color:E.color.primary},subtextStyle:{fontSize:12,color:E.color.quaternary}},t}(de),io=function(e){V(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(e,t,n){if(this.group.removeAll(),e.get(`show`)){var r=this.group,i=e.getModel(`textStyle`),a=e.getModel(`subtextStyle`),o=e.get(`textAlign`),s=u(e.get(`textBaseline`),e.get(`textVerticalAlign`)),c=new H({style:Re(i,{text:e.get(`text`),fill:i.getTextColor()},{disableBox:!0}),z2:10}),l=c.getBoundingRect(),d=e.get(`subtext`),f=new H({style:Re(a,{text:d,fill:a.getTextColor(),y:l.height+e.get(`itemGap`),verticalAlign:`top`},{disableBox:!0}),z2:10}),p=e.get(`link`),m=e.get(`sublink`),h=e.get(`triggerEvent`,!0);c.silent=!p&&!h,f.silent=!m&&!h,p&&c.on(`click`,function(){xe(p,`_`+e.get(`target`))}),m&&f.on(`click`,function(){xe(m,`_`+e.get(`subtarget`))}),Tt(c).eventData=Tt(f).eventData=h?{componentType:`title`,componentIndex:e.componentIndex}:null,r.add(c),d&&r.add(f);var g=r.getBoundingRect(),_=e.getBoxLayoutParams();_.width=g.width,_.height=g.height;var y=C(e,n),b=lt(_,y.refContainer,e.get(`padding`));o||(o=e.get(`left`)||e.get(`right`),o===`middle`&&(o=`center`),o===`right`?b.x+=b.width:o===`center`&&(b.x+=b.width/2)),s||(s=e.get(`top`)||e.get(`bottom`),s===`center`&&(s=`middle`),s===`bottom`?b.y+=b.height:s===`middle`&&(b.y+=b.height/2),s||=`top`),r.x=b.x,r.y=b.y,r.markRedraw();var x={align:o,verticalAlign:s};c.setStyle(x),f.setStyle(x),g=r.getBoundingRect();var S=b.margin,w=e.getItemStyle([`color`,`opacity`]);w.fill=e.get(`backgroundColor`);var T=new v({shape:{x:g.x-S[3],y:g.y-S[0],width:g.width+S[1]+S[3],height:g.height+S[0]+S[2],r:e.get(`borderRadius`)},style:w,subPixelOptimize:!0,silent:!0});r.add(T)}},t.type=`title`,t}(jt);function ao(e){e.registerComponentModel(ro),e.registerComponentView(io)}var oo={get:function(e,t,n){var r=at((so[e]||{})[t]);return n&&ct(r)?r[r.length-1]:r}},so={color:{active:[`#006edd`,`#e0ffff`],inactive:[E.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:[`circle`,`roundRect`,`diamond`],inactive:[`none`]},symbolSize:{active:[10,50],inactive:[0,0]}},co=oo,lo=Za.mapVisual,uo=Za.eachVisual,fo=ct,po=W,mo=M,ho=Nt,go=function(e){V(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=[`inRange`,`outOfRange`],n.replacableOptionKeys=[`inRange`,`outOfRange`,`target`,`controller`,`color`],n.layoutMode={type:`box`,ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&to(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel(`textStyle`),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=De(e,this),this.controllerVisuals=eo(this.option.controller,t,e),this.targetVisuals=eo(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,t=this.option.seriesIndex;t==null&&e==null&&(t=`all`);var n=S(this.ecModel,`series`,{index:t,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return kt(n,function(e){return e.componentIndex})},t.prototype.eachTargetSeries=function(e,t){W(this.getTargetSeriesIndices(),function(n){var r=this.ecModel.getSeriesByIndex(n);r&&e.call(t,r)},this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},t.prototype.formatValueText=function(e,t,n){var r=this.option,i=r.precision,a=this.dataBound,o=r.formatter,s;n||=[`<`,`>`],ct(e)&&(e=e.slice(),s=!0);var c=t?e:s?[l(e[0]),l(e[1])]:l(e);if(we(o))return o.replace(`{value}`,s?c[0]:c).replace(`{value2}`,s?c[1]:c);if(et(o))return s?o(e[0],e[1]):o(e);if(s)return e[0]===a[0]?n[0]+` `+c[1]:e[1]===a[1]?n[1]+` `+c[0]:c[0]+` - `+c[1];return c;function l(e){return e===a[0]?`min`:e===a[1]?`max`:(+e).toFixed(Math.min(i,20))}},t.prototype.resetExtent=function(){var e=this.option;this._dataExtent=mo([e.min,e.max])},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(t!=null)return e.getDimensionIndex(t);for(var n=e.dimensions,r=n.length-1;r>=0;r--){var i=n[r],a=e.getDimensionInfo(i);if(!a.isCalculationCoord)return a.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},r=t.target||={},i=t.controller||={};je(r,n),je(i,n);var a=this.isCategory();o.call(this,r),o.call(this,i),s.call(this,r,`inRange`,`outOfRange`),c.call(this,i);function o(n){fo(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get(`gradientColor`)}}function s(e,t,n){var r=e[t],i=e[n];r&&!i&&(i=e[n]={},po(r,function(e,t){if(Za.isValidType(t)){var n=co.get(t,`inactive`,a);n!=null&&(i[t]=n,t===`color`&&!i.hasOwnProperty(`opacity`)&&!i.hasOwnProperty(`colorAlpha`)&&(i.opacity=[0,0]))}}))}function c(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,r=this.get(`inactiveColor`),i=this.getItemSymbol()||`roundRect`;po(this.stateList,function(o){var s=this.itemSize,c=e[o];c||=e[o]={color:a?r:[r]},c.symbol??=t&&at(t)||(a?i:[i]),c.symbolSize??=n&&at(n)||(a?s[0]:[s[0],s[0]]),c.symbol=lo(c.symbol,function(e){return e===`none`?i:e});var l=c.symbolSize;if(l!=null){var u=-1/0;uo(l,function(e){e>u&&(u=e)}),c.symbolSize=lo(l,function(e){return ho(e,[0,u],[0,s[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get(`itemWidth`)),parseFloat(this.get(`itemHeight`))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type=`visualMap`,t.dependencies=[`series`],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:`vertical`,backgroundColor:E.color.transparent,borderColor:E.color.borderTint,contentColor:E.color.theme[0],inactiveColor:E.color.disabled,borderWidth:0,padding:E.size.m,textGap:10,precision:0,textStyle:{color:E.color.secondary}},t}(de),_o=[20,140],vo=function(e){V(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod=`linear`,e.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=_o[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=_o[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):ct(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),W(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=M((this.get(`range`)||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent(),r=u(this.option.unboundedRange,!0);return(r&&t[0]<=n[0]||t[0]<=e)&&(r&&t[1]>=n[1]||e<=t[1])?`inRange`:`outOfRange`},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries(function(n){var r=[],i=n.getData();i.each(this.getDataDimensionIndex(i),function(t,n){e[0]<=t&&t<=e[1]&&r.push(n)},this),t.push({seriesId:n.id,dataIndex:r})},this),t},t.prototype.getVisualMeta=function(e){var t=yo(this,`outOfRange`,this.getExtent()),n=yo(this,`inRange`,this.option.range.slice()),r=[];function i(t,n){r.push({value:t,color:e(t,n)})}for(var a=0,o=0,s=n.length,c=t.length;o<c&&(!n.length||t[o]<=n[0]);o++)t[o]<n[a]&&i(t[o],`outOfRange`);for(var l=1;a<s;a++,l=0)l&&r.length&&i(n[a],`outOfRange`),i(n[a],`inRange`);for(var l=1;o<c;o++)(!n.length||n[n.length-1]<t[o])&&(l&&=(r.length&&i(r[r.length-1].value,`outOfRange`),0),i(t[o],`outOfRange`));var u=r.length;return{stops:r,outerColors:[u?r[0].color:`transparent`,u?r[u-1].color:`transparent`]}},t.type=`visualMap.continuous`,t.defaultOption=z(go.defaultOption,{align:`auto`,calculable:!1,hoverLink:!0,realtime:!0,handleIcon:`path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z`,handleSize:`120%`,handleStyle:{borderColor:E.color.neutral00,borderWidth:1},indicatorIcon:`circle`,indicatorSize:`50%`,indicatorStyle:{borderColor:E.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:E.color.shadow}}),t}(go);function yo(e,t,n){if(n[0]===n[1])return n.slice();for(var r=200,i=(n[1]-n[0])/r,a=n[0],o=[],s=0;s<=r&&a<n[1];s++)o.push(a),a+=i;return o.push(n[1]),o}var bo=vo,xo=function(e){V(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,n,r){if(this.visualMapModel=e,e.get(`show`)===!1){this.group.removeAll();return}this.doRender(e,t,n,r)},t.prototype.renderBackground=function(e){var t=this.visualMapModel,n=ve(t.get(`padding`)||0),r=e.getBoundingRect();e.add(new v({z2:-1,silent:!0,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:t.get(`backgroundColor`),stroke:t.get(`borderColor`),lineWidth:t.get(`borderWidth`)}}))},t.prototype.getControllerVisual=function(e,t,n){n||={};var r=n.forceState,i=this.visualMapModel,a={};t===`color`&&(a.color=i.get(`contentColor`));function o(e){return a[e]}function s(e,t){a[e]=t}var c=i.controllerVisuals[r||i.getValueState(e)],l=Za.prepareVisualTypes(c);return W(l,function(r){var i=c[r];n.convertOpacityToAlpha&&r===`opacity`&&(r=`colorAlpha`,i=c.__alphaForOpacity),Za.dependsOn(r,t)&&i&&i.applyVisual(e,o,s)}),a[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,n=this.api,r=C(t,n).refContainer;ee(e,t.getBoxLayoutParams(),r)},t.prototype.doRender=function(e,t,n,r){},t.type=`visualMap`,t}(jt),So=[[`left`,`right`,`width`],[`top`,`bottom`,`height`]];function Co(e,t,n){var r=e.option,i=r.align;if(i!=null&&i!==`auto`)return i;for(var a={width:t.getWidth(),height:t.getHeight()},o=r.orient===`horizontal`?1:0,s=So[o],c=[0,null,10],l={},u=0;u<3;u++)l[So[1-o][u]]=c[u],l[s[u]]=u===2?n[0]:r[s[u]];var d=[[`x`,`width`,3],[`y`,`height`,0]][o],f=lt(l,a,r.padding);return s[(f.margin[d[2]]||0)+f[d[0]]+f[d[1]]*.5<a[d[1]]*.5?0:1]}function wo(e,t){return W(e||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey=`visualMap`+(t?t.componentIndex:``)}),e}var To=Nt,Eo=W,Do=Math.min,Oo=Math.max,ko=12,Ao=6,jo=function(e){V(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return t.prototype.init=function(t,n){e.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=De(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=De(this._hideIndicator,this)},t.prototype.doRender=function(e,t,n,r){(!r||r.type!==`selectDataRange`||r.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get(`orient`),this._useHandle=e.get(`calculable`),this._resetInterval(),this._renderBar(t);var n=e.get(`text`);this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,n){if(t){var r=t[1-n];r=r==null?``:r+``;var i=this.visualMapModel,a=i.get(`textGap`),o=i.itemSize,s=this._shapes.mainGroup,c=this._applyTransform([o[0]/2,n===0?-a:o[1]+a],s),l=this._applyTransform(n===0?`bottom`:`top`,s),u=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new H({style:Re(d,{x:c[0],y:c[1],verticalAlign:d.get(`verticalAlign`)||(u===`horizontal`?`middle`:l),align:d.get(`align`)||(u===`horizontal`?l:`center`),text:r})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,r=t.itemSize,i=this._orient,a=this._useHandle,o=Co(t,this.api,r),s=n.mainGroup=this._createBarGroup(o),c=new O;s.add(c),c.add(n.outOfRange=Mo()),c.add(n.inRange=Mo(null,a?Fo(this._orient):null,De(this._dragHandle,this,`all`,!1),De(this._dragHandle,this,`all`,!0))),c.setClipPath(new v({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var l=t.textStyleModel.getTextRect(``),u=Oo(l.width,l.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,s,0,r,u,i),this._createHandle(t,s,1,r,u,i)),this._createIndicator(t,s,r,u,i),e.add(s)},t.prototype._createHandle=function(e,t,n,r,i,a){var o=De(this._dragHandle,this,n,!1),s=De(this._dragHandle,this,n,!0),c=pe(e.get(`handleSize`),r[0]),l=Ke(e.get(`handleIcon`),-c/2,-c/2,c,c,null,!0),u=Fo(this._orient);l.attr({cursor:u,draggable:!0,drift:o,ondragend:s,onmousemove:function(e){_t(e.event)}}),l.x=r[0]/2,l.useStyle(e.getModel(`handleStyle`).getItemStyle()),l.setStyle({strokeNoScale:!0,strokeFirst:!0}),l.style.lineWidth*=2,l.ensureState(`emphasis`).style=e.getModel([`emphasis`,`handleStyle`]).getItemStyle(),Ot(l,!0),t.add(l);var d=this.visualMapModel.textStyleModel,f=new H({cursor:u,draggable:!0,drift:o,onmousemove:function(e){_t(e.event)},ondragend:s,style:Re(d,{x:0,y:0,text:``})});f.ensureState(`blur`).style={opacity:.1},f.stateTransition={duration:200},this.group.add(f);var p=[c,0],m=this._shapes;m.handleThumbs[n]=l,m.handleLabelPoints[n]=p,m.handleLabels[n]=f},t.prototype._createIndicator=function(e,t,n,r,i){var a=pe(e.get(`indicatorSize`),n[0]),o=Ke(e.get(`indicatorIcon`),-a/2,-a/2,a,a,null,!0);o.attr({cursor:`move`,invisible:!0,silent:!0,x:n[0]/2});var s=e.getModel(`indicatorStyle`).getItemStyle();if(o instanceof m){var c=o.style;o.useStyle(bt({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},s))}else o.useStyle(s);t.add(o);var l=this.visualMapModel.textStyleModel,u=new H({silent:!0,invisible:!0,style:Re(l,{x:0,y:0,text:``})});this.group.add(u);var d=[(i===`horizontal`?r/2:Ao)+n[0]/2,0],f=this._shapes;f.indicator=o,f.indicatorLabel=u,f.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,n,r){if(this._useHandle){if(this._dragging=!t,!t){var i=this._applyTransform([n,r],this._shapes.mainGroup,!0);this._updateInterval(e,i[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get(`realtime`)&&this.api.dispatchAction({type:`selectDataRange`,from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():Po(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),r=[0,e.itemSize[1]];this._handleEnds=[To(t[0],n,r,!0),To(t[1],n,r,!0)]},t.prototype._updateInterval=function(e,t){t||=0;var n=this.visualMapModel,r=this._handleEnds,i=[0,n.itemSize[1]];st(t,r,i,e,0);var a=n.getExtent();this._dataInterval=[To(r[0],i,a,!0),To(r[1],i,a,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,n=t.getExtent(),r=this._shapes,i=[0,t.itemSize[1]],a=e?i:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,a,`inRange`),s=this._createBarVisual(n,n,i,`outOfRange`);r.inRange.setStyle({fill:o.barColor}).setShape(`points`,o.barPoints),r.outOfRange.setStyle({fill:s.barColor}).setShape(`points`,s.barPoints),this._updateHandle(a,o)},t.prototype._createBarVisual=function(e,t,n,r){var i={forceState:r,convertOpacityToAlpha:!0},a=this._makeColorGradient(e,i),o=[this.getControllerVisual(e[0],`symbolSize`,i),this.getControllerVisual(e[1],`symbolSize`,i)],s=this._createBarPoints(n,o);return{barColor:new tt(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var n=100,r=[],i=(e[1]-e[0])/n;r.push({color:this.getControllerVisual(e[0],`color`,t),offset:0});for(var a=1;a<n;a++){var o=e[0]+i*a;if(o>e[1])break;r.push({color:this.getControllerVisual(o,`color`,t),offset:a/n})}return r.push({color:this.getControllerVisual(e[1],`color`,t),offset:1}),r},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get(`inverse`);return new O(t===`horizontal`&&!n?{scaleX:e===`bottom`?1:-1,rotation:Math.PI/2}:t===`horizontal`&&n?{scaleX:e===`bottom`?-1:1,rotation:-Math.PI/2}:t===`vertical`&&!n?{scaleX:e===`left`?1:-1,scaleY:-1}:{scaleX:e===`left`?1:-1})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var n=this._shapes,r=this.visualMapModel,i=n.handleThumbs,a=n.handleLabels,o=r.itemSize,s=r.getExtent(),c=this._applyTransform(`left`,n.mainGroup);Eo([0,1],function(l){var u=i[l];u.setStyle(`fill`,t.handlesColor[l]),u.y=e[l];var d=To(e[l],[0,o[1]],s,!0),f=this.getControllerVisual(d,`symbolSize`);u.scaleX=u.scaleY=f/o[0],u.x=o[0]-f/2;var p=Ge(n.handleLabelPoints[l],ke(u,this.group));if(this._orient===`horizontal`){var m=c===`left`||c===`top`?(o[0]-f)/2:(o[0]-f)/-2;p[1]+=m}a[l].setStyle({x:p[0],y:p[1],text:r.formatValueText(this._dataInterval[l]),verticalAlign:`middle`,align:this._orient===`vertical`?this._applyTransform(`left`,n.mainGroup):`center`})},this)}},t.prototype._showIndicator=function(e,t,n,r){var i=this.visualMapModel,a=i.getExtent(),o=i.itemSize,s=[0,o[1]],c=this._shapes,l=c.indicator;if(l){l.attr(`invisible`,!1);var u=this.getControllerVisual(e,`color`,{convertOpacityToAlpha:!0}),d=this.getControllerVisual(e,`symbolSize`),f=To(e,a,s,!0),p=o[0]-d/2,m={x:l.x,y:l.y};l.y=f,l.x=p;var h=Ge(c.indicatorLabelPoint,ke(l,this.group)),g=c.indicatorLabel;g.attr(`invisible`,!1);var _=this._applyTransform(`left`,c.mainGroup),v=this._orient===`horizontal`;g.setStyle({text:(n||``)+i.formatValueText(t),verticalAlign:v?_:`middle`,align:v?`center`:_});var y={x:p,y:f,style:{fill:u}},b={style:{x:h[0],y:h[1]}};if(i.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var x={duration:100,easing:`cubicInOut`,additive:!0};l.x=m.x,l.y=m.y,l.animateTo(y,x),g.animateTo(b,x)}else l.attr(y),g.attr(b);this._firstShowIndicator=!1;var S=this._shapes.handleLabels;if(S)for(var C=0;C<S.length;C++)this.api.enterBlur(S[C])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on(`mousemove`,function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,r=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);r[1]=Do(Oo(0,r[1]),n[1]),e._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=n[0])}}).on(`mouseout`,function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on(`mouseover`,this._hoverLinkFromSeriesMouseOver,this),e.on(`mouseout`,this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel,r=n.itemSize;if(n.option.hoverLink){var i=[0,r[1]],a=n.getExtent();e=Do(Oo(i[0],e),i[1]);var o=No(n,a,i),s=[e-o,e+o],c=To(e,i,a,!0),l=[To(s[0],i,a,!0),To(s[1],i,a,!0)];s[0]<i[0]&&(l[0]=-1/0),s[1]>i[1]&&(l[1]=1/0),t&&(l[0]===-1/0?this._showIndicator(c,l[1],`< `,o):l[1]===1/0?this._showIndicator(c,l[0],`> `,o):this._showIndicator(c,c,` `,o));var u=this._hoverLinkDataIndices,d=[];(t||Po(n))&&(d=this._hoverLinkDataIndices=n.findTargetDataIndices(l));var f=se(u,d);this._dispatchHighDown(`downplay`,wo(f[0],n)),this._dispatchHighDown(`highlight`,wo(f[1],n))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t;if(F(e.target,function(e){var n=Tt(e);if(n.dataIndex!=null)return t=n,!0},!0),t){var n=this.ecModel.getSeriesByIndex(t.seriesIndex),r=this.visualMapModel;if(r.isTargetSeries(n)){var i=n.getData(t.dataType),a=i.getStore().get(r.getDataDimensionIndex(i),t.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr(`invisible`,!0),e.indicatorLabel&&e.indicatorLabel.attr(`invisible`,!0);var t=this._shapes.handleLabels;if(t)for(var n=0;n<t.length;n++)this.api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown(`downplay`,wo(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off(`mouseover`,this._hoverLinkFromSeriesMouseOver),e.off(`mouseout`,this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,r){var i=ke(t,r?null:this.group);return ct(e)?Ge(e,i,n):ht(e,i,n)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type=`visualMap.continuous`,t}(xo);function Mo(e,t,n,r){return new Ve({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){_t(e.event)},ondragend:r})}function No(e,t,n){var r=ko/2,i=e.get(`hoverLinkDataSize`);return i&&(r=To(i,t,n,!0)/2),r}function Po(e){return!!(e.get(`hoverLinkOnHandle`)??e.get(`realtime`))}function Fo(e){return e===`vertical`?`ns-resize`:`ew-resize`}var Io=jo,Lo={type:`selectDataRange`,event:`dataRangeSelected`,update:`update`},Ro=function(e,t){t.eachComponent({mainType:`visualMap`,query:e},function(t){t.setSelected(e.selected)})},zo=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent(`visualMap`,function(t){var r=e.pipelineContext;!t.isTargetSeries(e)||r&&r.large||n.push(no(t.stateList,t.targetVisuals,De(t.getValueState,t),t.getDataDimensionIndex(e.getData())))}),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),r=[];t.eachComponent(`visualMap`,function(t){if(t.isTargetSeries(e)){var i=t.getVisualMeta(De(Bo,null,e,t))||{stops:[],outerColors:[]},a=t.getDataDimensionIndex(n);a>=0&&(i.dimension=a,r.push(i))}}),e.getData().setVisual(`visualMeta`,r)}}];function Bo(e,t,n,r){for(var i=t.targetVisuals[r],a=Za.prepareVisualTypes(i),o={color:k(e.getData(),`color`)},s=0,c=a.length;s<c;s++){var l=a[s],u=i[l===`opacity`?`__alphaForOpacity`:l];u&&u.applyVisual(n,d,f)}return o.color;function d(e){return o[e]}function f(e,t){o[e]=t}}var Vo=W;function Ho(e){var t=e&&e.visualMap;ct(t)||(t=t?[t]:[]),Vo(t,function(e){if(e){Uo(e,`splitList`)&&!Uo(e,`pieces`)&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&ct(t)&&Vo(t,function(e){Be(e)&&(Uo(e,`start`)&&!Uo(e,`min`)&&(e.min=e.start),Uo(e,`end`)&&!Uo(e,`max`)&&(e.max=e.end))})}})}function Uo(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var Wo=!1;function Go(e){Wo||(Wo=!0,e.registerSubTypeDefaulter(`visualMap`,function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?`continuous`:`piecewise`}),e.registerAction(Lo,Ro),W(zo,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(Ho))}function Ko(e){e.registerComponentModel(bo),e.registerComponentView(Io),Go(e)}var qo=function(e){V(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],Jo[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var i=this.option.categories;this.resetVisual(function(e,t){r===`categories`?(e.mappingMethod=`category`,e.categories=at(i)):(e.dataExtent=this.getExtent(),e.mappingMethod=`piecewise`,e.pieceList=kt(this._pieceList,function(e){return e=at(e),t!==`inRange`&&(e.visual=null),e}))})},t.prototype.completeVisualOption=function(){var t=this.option,n={},r=Za.listVisualTypes(),i=this.isCategory();W(t.pieces,function(e){W(r,function(t){e.hasOwnProperty(t)&&(n[t]=1)})}),W(n,function(e,n){var r=!1;W(this.stateList,function(e){r=r||a(t,e,n)||a(t.target,e,n)},this),!r&&W(this.stateList,function(e){(t[e]||(t[e]={}))[n]=co.get(n,e===`inRange`?`active`:`inactive`,i)})},this);function a(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var n=this.option,r=this._pieceList,i=(t?n:e).selected||{};if(n.selected=i,W(r,function(e,t){var n=this.getSelectedMapKey(e);i.hasOwnProperty(n)||(i[n]=!0)},this),n.selectedMode===`single`){var a=!1;W(r,function(e,t){var n=this.getSelectedMapKey(e);i[n]&&(a?i[n]=!1:a=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get(`itemSymbol`)},t.prototype.getSelectedMapKey=function(e){return this._mode===`categories`?e.value+``:e.index+``},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?`pieces`:this.option.categories?`categories`:`splitNumber`},t.prototype.setSelected=function(e){this.option.selected=at(e)},t.prototype.getValueState=function(e){var t=Za.findPieceIndex(e,this._pieceList);return t==null?`outOfRange`:this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?`inRange`:`outOfRange`},t.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries(function(r){var i=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(t,r){Za.findPieceIndex(t,n)===e&&i.push(r)},this),t.push({seriesId:r.id,dataIndex:i})},this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(e.value!=null)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var t=[],n=[``,``],r=this;function i(i,a){var o=r.getRepresentValue({interval:i});a||=r.getValueState(o);var s=e(o,a);i[0]===-1/0?n[0]=s:i[1]===1/0?n[1]=s:t.push({value:i[0],color:s},{value:i[1],color:s})}var a=this._pieceList.slice();if(!a.length)a.push({interval:[-1/0,1/0]});else{var o=a[0].interval[0];o!==-1/0&&a.unshift({interval:[-1/0,o]}),o=a[a.length-1].interval[1],o!==1/0&&a.push({interval:[o,1/0]})}var s=-1/0;return W(a,function(e){var t=e.interval;t&&(t[0]>s&&i([s,t[0]],`outOfRange`),i(t.slice()),s=t[1])},this),{stops:t,outerColors:n}},t.type=`visualMap.piecewise`,t.defaultOption=z(go.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:`auto`,itemWidth:20,itemHeight:14,itemSymbol:`roundRect`,pieces:null,categories:null,splitNumber:5,selectedMode:`multiple`,itemGap:10,hoverLink:!0}),t}(go),Jo={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(n)!==a&&n<5;)n++;t.precision=n,a=+a.toFixed(n),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=a,o++){var c=o===i-1?r[1]:s+a;e.push({interval:[s,c],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),he(e),W(e,function(e,t){e.index=t,e.text=this.formatValueText(e.interval)},this)},categories:function(e){var t=this.option;W(t.categories,function(t){e.push({text:this.formatValueText(t,!0),value:t})},this),Yo(t,e)},pieces:function(e){var t=this.option;W(t.pieces,function(t,n){Be(t)||(t={value:t});var r={text:``,index:n};if(t.label!=null&&(r.text=t.label),t.hasOwnProperty(`value`)){var i=r.value=t.value;r.interval=[i,i],r.close=[1,1]}else{for(var a=r.interval=[],o=r.close=[0,0],s=[1,0,1],c=[-1/0,1/0],l=[],u=0;u<2;u++){for(var d=[[`gte`,`gt`,`min`],[`lte`,`lt`,`max`]][u],f=0;f<3&&a[u]==null;f++)a[u]=t[d[f]],o[u]=s[f],l[u]=f===2;a[u]??(a[u]=c[u])}l[0]&&a[1]===1/0&&(o[0]=0),l[1]&&a[0]===-1/0&&(o[1]=0),a[0]===a[1]&&o[0]&&o[1]&&(r.value=a[0])}r.visual=Za.retrieveVisuals(t),e.push(r)},this),Yo(t,e),he(e),W(e,function(e){var t=e.close,n=[[`<`,``][t[1]],[`>`,``][t[0]]];e.text=e.text||this.formatValueText(e.value==null?e.interval:e.value,!1,n)},this)}};function Yo(e,t){var n=e.inverse;(e.orient===`vertical`?!n:n)&&t.reverse()}var Xo=qo,Zo=function(e){V(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get(`textGap`),r=t.textStyleModel,i=this._getItemAlign(),a=t.itemSize,o=this._getViewData(),s=o.endsText,c=ue(t.get(`showLabel`,!0),!s),l=!t.get(`selectedMode`);s&&this._renderEndsText(e,s[0],a,c,i),W(o.viewPieceList,function(o){var s=o.piece,d=new O;d.onclick=De(this._onItemClick,this,s),this._enableHoverLink(d,o.indexInModelPieceList);var f=t.getRepresentValue(s);if(this._createItemSymbol(d,f,[0,0,a[0],a[1]],l),c){var p=this.visualMapModel.getValueState(f),m=r.get(`align`)||i;d.add(new H({style:Re(r,{x:m===`right`?-n:a[0]+n,y:a[1]/2,text:s.text,verticalAlign:r.get(`verticalAlign`)||`middle`,align:m,opacity:u(r.get(`opacity`),p===`outOfRange`?.5:1)}),silent:l}))}e.add(d)},this),s&&this._renderEndsText(e,s[1],a,c,i),ge(t.get(`orient`),e,t.get(`itemGap`)),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var n=this;e.on(`mouseover`,function(){return r(`highlight`)}).on(`mouseout`,function(){return r(`downplay`)});var r=function(e){var r=n.visualMapModel;r.option.hoverLink&&n.api.dispatchAction({type:e,batch:wo(r.findTargetDataIndices(t),r)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if(t.orient===`vertical`)return Co(e,this.api,e.itemSize);var n=t.align;return(!n||n===`auto`)&&(n=`left`),n},t.prototype._renderEndsText=function(e,t,n,r,i){if(t){var a=new O,o=this.visualMapModel.textStyleModel;a.add(new H({style:Re(o,{x:r?i===`right`?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:`middle`,align:r?i:`center`,text:t})})),e.add(a)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=kt(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),n=e.get(`text`),r=e.get(`orient`),i=e.get(`inverse`);return(r===`horizontal`?i:!i)?t.reverse():n&&=n.slice().reverse(),{viewPieceList:t,endsText:n}},t.prototype._createItemSymbol=function(e,t,n,r){var i=Ke(this.getControllerVisual(t,`symbol`),n[0],n[1],n[2],n[3],this.getControllerVisual(t,`color`));i.silent=r,e.add(i)},t.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,r=n.selectedMode;if(r){var i=at(n.selected),a=t.getSelectedMapKey(e);r===`single`||r===!0?(i[a]=!0,W(i,function(e,t){i[t]=t===a})):i[a]=!i[a],this.api.dispatchAction({type:`selectDataRange`,from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}},t.type=`visualMap.piecewise`,t}(xo);function Qo(e){e.registerComponentModel(Xo),e.registerComponentView(Zo),Go(e)}function $o(e){h(Ko),h(Qo)}function es(e,t){if(typeof e==`function`)return e(t);e!=null&&(e.current=t)}function ts(...e){return t=>{let n=!1,r=e.map(e=>{let r=es(e,t);return!n&&typeof r==`function`&&(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];typeof n==`function`?n():es(e[t],null)}}}}function ns(...e){return K.useCallback(ts(...e),e)}function rs(e){let t=os(e),n=K.forwardRef((e,n)=>{let{children:r,...i}=e,a=K.Children.toArray(r),o=a.find(ls);if(o){let e=o.props.children,r=a.map(t=>t===o?K.Children.count(e)>1?K.Children.only(null):K.isValidElement(e)?e.props.children:null:t);return(0,G.jsx)(t,{...i,ref:n,children:K.isValidElement(e)?K.cloneElement(e,void 0,r):null})}return(0,G.jsx)(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function os(e){let t=K.forwardRef((e,t)=>{let{children:n,...r}=e;if(K.isValidElement(n)){let e=ds(n),i=us(r,n.props);return n.type!==K.Fragment&&(i.ref=t?ts(t,e):e),K.cloneElement(n,i)}return K.Children.count(n)>1?K.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ss=Symbol(`radix.slottable`);function cs(e){let t=({children:e})=>(0,G.jsx)(G.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=ss,t}function ls(e){return K.isValidElement(e)&&typeof e.type==`function`&&`__radixId`in e.type&&e.type.__radixId===ss}function us(e,t){let n={...t};for(let r in t){let i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(n[r]=i):r===`style`?n[r]={...i,...a}:r===`className`&&(n[r]=[i,a].filter(Boolean).join(` `))}return{...e,...n}}function ds(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fs=[`a`,`button`,`div`,`form`,`h2`,`h3`,`img`,`input`,`label`,`li`,`nav`,`ol`,`p`,`select`,`span`,`svg`,`ul`].reduce((e,t)=>{let n=rs(`Primitive.${t}`),r=K.forwardRef((e,r)=>{let{asChild:i,...a}=e,o=i?n:t;return typeof window<`u`&&(window[Symbol.for(`radix-ui`)]=!0),(0,G.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ps(e,t){e&&Pt.flushSync(()=>e.dispatchEvent(t))}var ms=globalThis?.document?K.useLayoutEffect:()=>{},hs=i(r(),1),gs=`Portal`,_s=K.forwardRef((e,t)=>{let{container:n,...r}=e,[i,a]=K.useState(!1);ms(()=>a(!0),[]);let o=n||i&&globalThis?.document?.body;return o?hs.createPortal((0,G.jsx)(fs.div,{...r,ref:t}),o):null});_s.displayName=gs;var vs=_s,ys=Object.prototype.hasOwnProperty;function bs(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&bs(e[r],t[r]););return r===-1}if(!n||typeof e==`object`){for(n in r=0,e)if(ys.call(e,n)&&++r&&!ys.call(t,n)||!(n in t)||!bs(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function xs(e,t){if(Object.is(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var Ss=function(e,t,n,r){this.name=e,this.fn=t,this.args=n,this.modifiers=r};Ss.prototype._test=function(e){var t=this.fn;try{ws(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return ws(this.modifiers.slice(),t,this)(e)}catch{return!1}},Ss.prototype._check=function(e){try{ws(this.modifiers.slice(),this.fn,this)(e)}catch{if(ws(this.modifiers.slice(),function(e){return e},this)(!1))return}if(!ws(this.modifiers.slice(),this.fn,this)(e))throw null},Ss.prototype._testAsync=function(e){var t=this;return new Promise(function(n,r){Ts(t.modifiers.slice(),t.fn,t)(e).then(function(t){t?n(e):r(null)}).catch(function(e){return r(e)})})};function Cs(e,t){return t===void 0&&(t=`simple`),typeof e==`object`?e[t]:e}function ws(e,t,n){if(e.length){var r=e.shift(),i=ws(e,t,n);return r.perform(i,n)}else return Cs(t)}function Ts(e,t,n){if(e.length){var r=e.shift(),i=Ts(e,t,n);return r.performAsync(i,n)}else return function(e){return Promise.resolve(Cs(t,`async`)(e))}}var Es=function(e,t,n){this.name=e,this.perform=t,this.performAsync=n},Ds=function(e){function t(n,r,i,a){for(var o=[],s=arguments.length-4;s-- >0;)o[s]=arguments[s+4];e.call(this,o),e.captureStackTrace&&e.captureStackTrace(this,t),this.rule=n,this.value=r,this.cause=i,this.target=a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Os=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};Os.prototype._applyRule=function(e,t){var n=this;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return n.chain.push(new Ss(t,e.apply(n,r),r,n.nextRuleModifiers)),n.nextRuleModifiers=[],n}},Os.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new Es(t,e.simple,e.async)),this},Os.prototype._clone=function(){return new Os(this.chain.slice(),this.nextRuleModifiers.slice())},Os.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})},Os.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(n){try{n._check(e)}catch(r){t.push(new Ds(n,e,r))}}),t},Os.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(n){throw new Ds(t,e,n)}})},Os.prototype.testAsync=function(e){var t=this;return new Promise(function(n,r){ks(e,t.chain.slice(),n,r)})};function ks(e,t,n,r){if(t.length){var i=t.shift();i._testAsync(e).then(function(){ks(e,t,n,r)},function(t){r(new Ds(i,e,t))})}else n(e)}var As=function(e,t){return t&&typeof e==`string`&&e.trim().length===0?!0:e==null};function js(e,t){return t===void 0&&(t=!1),{simple:function(n){return As(n,t)||e.check(n)===void 0},async:function(n){return As(n,t)||e.testAsync(n)}}}function Ms(){return typeof Proxy<`u`?Ps(new Os):Fs(new Os)}var Ns={};Ms.extend=function(e){Object.assign(Ns,e)},Ms.clearCustomRules=function(){Ns={}};function Ps(e){return new Proxy(e,{get:function(t,n){if(n in t)return t[n];var r=Ps(e._clone());if(n in Is)return r._applyModifier(Is[n],n);if(n in Ns)return r._applyRule(Ns[n],n);if(n in zs)return r._applyRule(zs[n],n)}})}function Fs(e){var t=function(e,t){return Object.keys(e).forEach(function(n){t[n]=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return Fs(t._clone())._applyRule(e[n],n).apply(void 0,r)}}),t},n=t(zs,e),r=t(Ns,n);return Object.keys(Is).forEach(function(e){Object.defineProperty(r,e,{get:function(){return Fs(r._clone())._applyModifier(Is[e],e)}})}),r}var Is={not:{simple:function(e){return function(t){return!e(t)}},async:function(e){return function(t){return Promise.resolve(e(t)).then(function(e){return!e}).catch(function(){return!0})}}},some:{simple:function(e){return function(t){return Rs(t).some(function(t){try{return e(t)}catch{return!1}})}},async:function(e){return function(t){return Promise.all(Rs(t).map(function(t){try{return e(t).catch(function(){return!1})}catch{return!1}})).then(function(e){return e.some(Boolean)})}}},every:{simple:function(e){return function(t){return t!==!1&&Rs(t).every(e)}},async:function(e){return function(t){return Promise.all(Rs(t).map(e)).then(function(e){return e.every(Boolean)})}}},strict:{simple:function(e,t){return function(n){return Ls(t)&&n&&typeof n==`object`?Object.keys(t.args[0]).length===Object.keys(n).length&&e(n):e(n)}},async:function(e,t){return function(n){return Promise.resolve(e(n)).then(function(e){return Ls(t)&&n&&typeof n==`object`?Object.keys(t.args[0]).length===Object.keys(n).length&&e:e}).catch(function(){return!1})}}}};function Ls(e){return e&&e.name===`schema`&&e.args.length>0&&typeof e.args[0]==`object`}function Rs(e){return typeof e==`string`?e.split(``):e}var zs={equal:function(e){return function(t){return t==e}},exact:function(e){return function(t){return t===e}},number:function(e){return e===void 0&&(e=!0),function(t){return typeof t==`number`&&(e||isFinite(t))}},integer:function(){return function(e){return(Number.isInteger||Vs)(e)}},numeric:function(){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},string:function(){return Bs(`string`)},boolean:function(){return Bs(`boolean`)},undefined:function(){return Bs(`undefined`)},null:function(){return Bs(`null`)},array:function(){return Bs(`array`)},object:function(){return Bs(`object`)},instanceOf:function(e){return function(t){return t instanceof e}},pattern:function(e){return function(t){return e.test(t)}},lowercase:function(){return function(e){return typeof e==`boolean`||e===e.toLowerCase()&&e.trim()!==``}},uppercase:function(){return function(e){return e===e.toUpperCase()&&e.trim()!==``}},vowel:function(){return function(e){return/^[aeiou]+$/i.test(e)}},consonant:function(){return function(e){return/^(?=[^aeiou])([a-z]+)$/i.test(e)}},first:function(e){return function(t){return t[0]==e}},last:function(e){return function(t){return t[t.length-1]==e}},empty:function(){return function(e){return e.length===0}},length:function(e,t){return function(n){return n.length>=e&&n.length<=(t||e)}},minLength:function(e){return function(t){return t.length>=e}},maxLength:function(e){return function(t){return t.length<=e}},negative:function(){return function(e){return e<0}},positive:function(){return function(e){return e>=0}},between:function(e,t){return function(n){return n>=e&&n<=t}},range:function(e,t){return function(n){return n>=e&&n<=t}},lessThan:function(e){return function(t){return t<e}},lessThanOrEqual:function(e){return function(t){return t<=e}},greaterThan:function(e){return function(t){return t>e}},greaterThanOrEqual:function(e){return function(t){return t>=e}},even:function(){return function(e){return e%2==0}},odd:function(){return function(e){return e%2!=0}},includes:function(e){return function(t){return~t.indexOf(e)}},schema:function(e){return Hs(e)},passesAnyOf:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t){return e.some(function(e){return e.test(t)})}},optional:js};function Bs(e){return function(t){return Array.isArray(t)&&e===`array`||t===null&&e===`null`||typeof t===e}}function Vs(e){return typeof e==`number`&&isFinite(e)&&Math.floor(e)===e}function Hs(e){return{simple:function(t){var n=[];if(Object.keys(e).forEach(function(r){var i=e[r];try{i.check((t||{})[r])}catch(e){e.target=r,n.push(e)}}),n.length>0)throw n;return!0},async:function(t){var n=[],r=Object.keys(e).map(function(r){return e[r].testAsync((t||{})[r]).catch(function(e){e.target=r,n.push(e)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var Us=Ms,J=`colors`,Ws=`sizes`,Y=`space`,Gs={gap:Y,gridGap:Y,columnGap:Y,gridColumnGap:Y,rowGap:Y,gridRowGap:Y,inset:Y,insetBlock:Y,insetBlockEnd:Y,insetBlockStart:Y,insetInline:Y,insetInlineEnd:Y,insetInlineStart:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,marginBlock:Y,marginBlockEnd:Y,marginBlockStart:Y,marginInline:Y,marginInlineEnd:Y,marginInlineStart:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,paddingBlock:Y,paddingBlockEnd:Y,paddingBlockStart:Y,paddingInline:Y,paddingInlineEnd:Y,paddingInlineStart:Y,top:Y,right:Y,bottom:Y,left:Y,scrollMargin:Y,scrollMarginTop:Y,scrollMarginRight:Y,scrollMarginBottom:Y,scrollMarginLeft:Y,scrollMarginX:Y,scrollMarginY:Y,scrollMarginBlock:Y,scrollMarginBlockEnd:Y,scrollMarginBlockStart:Y,scrollMarginInline:Y,scrollMarginInlineEnd:Y,scrollMarginInlineStart:Y,scrollPadding:Y,scrollPaddingTop:Y,scrollPaddingRight:Y,scrollPaddingBottom:Y,scrollPaddingLeft:Y,scrollPaddingX:Y,scrollPaddingY:Y,scrollPaddingBlock:Y,scrollPaddingBlockEnd:Y,scrollPaddingBlockStart:Y,scrollPaddingInline:Y,scrollPaddingInlineEnd:Y,scrollPaddingInlineStart:Y,fontSize:`fontSizes`,background:J,backgroundColor:J,backgroundImage:J,borderImage:J,border:J,borderBlock:J,borderBlockEnd:J,borderBlockStart:J,borderBottom:J,borderBottomColor:J,borderColor:J,borderInline:J,borderInlineEnd:J,borderInlineStart:J,borderLeft:J,borderLeftColor:J,borderRight:J,borderRightColor:J,borderTop:J,borderTopColor:J,caretColor:J,color:J,columnRuleColor:J,fill:J,outline:J,outlineColor:J,stroke:J,textDecorationColor:J,fontFamily:`fonts`,fontWeight:`fontWeights`,lineHeight:`lineHeights`,letterSpacing:`letterSpacings`,blockSize:Ws,minBlockSize:Ws,maxBlockSize:Ws,inlineSize:Ws,minInlineSize:Ws,maxInlineSize:Ws,width:Ws,minWidth:Ws,maxWidth:Ws,height:Ws,minHeight:Ws,maxHeight:Ws,flexBasis:Ws,gridTemplateColumns:Ws,gridTemplateRows:Ws,borderWidth:`borderWidths`,borderTopWidth:`borderWidths`,borderRightWidth:`borderWidths`,borderBottomWidth:`borderWidths`,borderLeftWidth:`borderWidths`,borderStyle:`borderStyles`,borderTopStyle:`borderStyles`,borderRightStyle:`borderStyles`,borderBottomStyle:`borderStyles`,borderLeftStyle:`borderStyles`,borderRadius:`radii`,borderTopLeftRadius:`radii`,borderTopRightRadius:`radii`,borderBottomRightRadius:`radii`,borderBottomLeftRadius:`radii`,boxShadow:`shadows`,textShadow:`shadows`,transition:`transitions`,zIndex:`zIndices`},Ks=(e,t)=>typeof t==`function`?{"()":Function.prototype.toString.call(t)}:t,qs=()=>{let e=Object.create(null);return(t,n,...r)=>{let i=(e=>JSON.stringify(e,Ks))(t);return i in e?e[i]:e[i]=n(t,...r)}},Js=Symbol.for(`sxs.internal`),Ys=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),Xs=e=>{for(let t in e)return!0;return!1},{hasOwnProperty:Zs}=Object.prototype,Qs=e=>e.includes(`-`)?e:e.replace(/[A-Z]/g,(e=>`-`+e.toLowerCase())),$s=/\s+(?![^()]*\))/,ec=e=>t=>e(...typeof t==`string`?String(t).split($s):[t]),tc={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes(`"`)||e.includes(`'`)||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:ec(((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e}))),marginInline:ec(((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e}))),maxSize:ec(((e,t)=>({maxBlockSize:e,maxInlineSize:t||e}))),minSize:ec(((e,t)=>({minBlockSize:e,minInlineSize:t||e}))),paddingBlock:ec(((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e}))),paddingInline:ec(((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e})))},nc=/([\d.]+)([^]*)/,rc=(e,t)=>e.length?e.reduce(((e,n)=>(e.push(...t.map((e=>e.includes(`&`)?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?`:is(${n})`:n):n+` `+e))),e)),[]):t,ic=(e,t)=>e in ac&&typeof t==`string`?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((t,n,r,i)=>n+(r===`stretch`?`-moz-available${i};${Qs(e)}:${n}-webkit-fill-available`:`-moz-fit-content${i};${Qs(e)}:${n}fit-content`)+i)):String(t),ac={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},oc=e=>e?e+`-`:``,sc=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((e,r,i,a,o)=>a==`$`==!!i?e:(r||a==`--`?`calc(`:``)+`var(--`+(a===`$`?oc(t)+(o.includes(`$`)?``:oc(n))+o.replace(/\$/g,`-`):o)+`)`+(r||a==`--`?`*`+(r||``)+(i||`1`)+`)`:``))),cc=/\s*,\s*(?![^()]*\))/,lc=Object.prototype.toString,uc=(e,t,n,r,i)=>{let a,o,s,c=(e,t,n)=>{let l,u,d=e=>{for(l in e){let m=l.charCodeAt(0)===64;for(u of m&&Array.isArray(e[l])?e[l]:[e[l]]){let e=/[A-Z]/.test(p=l)?p:p.replace(/-[^]/g,(e=>e[1].toUpperCase())),h=typeof u==`object`&&u&&u.toString===lc&&(!r.utils[e]||!t.length);if(e in r.utils&&!h){let t=r.utils[e];if(t!==o){o=t,d(t(u)),o=null;continue}}else if(e in tc){let t=tc[e];if(t!==s){s=t,d(t(u)),s=null;continue}}if(m&&(f=l.slice(1)in r.media?`@media `+r.media[l.slice(1)]:l,l=f.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((e,t,n,r,i,a)=>{let o=nc.test(t),s=.0625*(o?-1:1),[c,l]=o?[r,t]:[t,r];return`(`+(n[0]===`=`?``:n[0]===`>`===o?`max-`:`min-`)+c+`:`+(n[0]!==`=`&&n.length===1?l.replace(nc,((e,t,r)=>Number(t)+s*(n===`>`?1:-1)+r)):l)+(i?`) and (`+(i[0]===`>`?`min-`:`max-`)+c+`:`+(i.length===1?a.replace(nc,((e,t,n)=>Number(t)+s*(i===`>`?-1:1)+n)):a):``)+`)`}))),h){let e=m?n.concat(l):[...n],r=m?[...t]:rc(t,l.split(cc));a!==void 0&&i(dc(...a)),a=void 0,c(u,r,e)}else a===void 0&&(a=[[],t,n]),l=m||l.charCodeAt(0)!==36?l:`--${oc(r.prefix)}${l.slice(1).replace(/\$/g,`-`)}`,u=h?u:typeof u==`number`?u&&e in fc?String(u)+`px`:String(u):sc(ic(e,u??``),r.prefix,r.themeMap[e]),a[0].push(`${m?`${l} `:`${Qs(l)}:`}${u}`)}}var f,p};d(e),a!==void 0&&i(dc(...a)),a=void 0};c(e,t,n)},dc=(e,t,n)=>`${n.map((e=>`${e}{`)).join(``)}${t.length?`${t.join(`,`)}{`:``}${e.join(`;`)}${t.length?`}`:``}${Array(n.length?n.length+1:0).join(`}`)}`,fc={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},pc=e=>String.fromCharCode(e+(e>25?39:97)),mc=e=>(e=>{let t,n=``;for(t=Math.abs(e);t>52;t=t/52|0)n=pc(t%52)+n;return pc(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),hc=[`themed`,`global`,`styled`,`onevar`,`resonevar`,`allvar`,`inline`],gc=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch{return!1}},_c=e=>{let t,n=()=>{let{cssRules:e}=t.sheet;return[].map.call(e,((n,r)=>{let{cssText:i}=n,a=``;if(i.startsWith(`--sxs`))return``;if(e[r-1]&&(a=e[r-1].cssText).startsWith(`--sxs`)){if(!n.cssRules.length)return``;for(let e in t.rules)if(t.rules[e].group===n)return`--sxs{--sxs:${[...t.rules[e].cache].join(` `)}}${i}`;return n.cssRules.length?`${a}${i}`:``}return i})).join(``)},r=()=>{if(t){let{rules:e,sheet:n}=t;if(!n.deleteRule){for(;Object(Object(n.cssRules)[0]).type===3;)n.cssRules.splice(0,1);n.cssRules=[]}for(let t in e)delete e[t]}let i=Object(e).styleSheets||[];for(let e of i)if(gc(e)){for(let i=0,a=e.cssRules;a[i];++i){let o=Object(a[i]);if(o.type!==1)continue;let s=Object(a[i+1]);if(s.type!==4)continue;++i;let{cssText:c}=o;if(!c.startsWith(`--sxs`))continue;let l=c.slice(14,-3).trim().split(/\s+/),u=hc[l[0]];u&&(t||={sheet:e,reset:r,rules:{},toString:n},t.rules[u]={group:s,index:i,cache:new Set(l)})}if(t)break}if(!t){let i=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,i(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return e===`@media{}`?`@media{${[].map.call(this.cssRules,(e=>e.cssText)).join(``)}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement(`style`)).sheet:i(``,`text/css`),rules:{},reset:r,toString:n}}let{sheet:a,rules:o}=t;for(let e=hc.length-1;e>=0;--e){let t=hc[e];if(!o[t]){let n=hc[e+1],r=o[n]?o[n].index:a.cssRules.length;a.insertRule(`@media{}`,r),a.insertRule(`--sxs{--sxs:${e}}`,r),o[t]={group:a.cssRules[r+1],index:r,cache:new Set([e])}}vc(o[t])}};return r(),t},vc=e=>{let t=e.group,n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch{}}},yc=Symbol(),bc=qs(),xc=(e,t)=>bc(e,(()=>(...n)=>{let r={type:null,composers:new Set};for(let t of n)if(t!=null)if(t[Js]){r.type??=t[Js].type;for(let e of t[Js].composers)r.composers.add(e)}else t.constructor!==Object||t.$$typeof?r.type??=t:r.composers.add(Sc(t,e));return r.type??=`span`,r.composers.size||r.composers.add([`PJLV`,{},[],[],{},[]]),Cc(e,r,t)})),Sc=({variants:e,compoundVariants:t,defaultVariants:n,...r},i)=>{let a=`${oc(i.prefix)}c-${mc(r)}`,o=[],s=[],c=Object.create(null),l=[];for(let e in n)c[e]=String(n[e]);if(typeof e==`object`&&e)for(let t in e){u=c,d=t,Zs.call(u,d)||(c[t]=`undefined`);let n=e[t];for(let e in n){let r={[t]:String(e)};String(e)===`undefined`&&l.push(t);let i=n[e],a=[r,i,!Xs(i)];o.push(a)}}var u,d;if(typeof t==`object`&&t)for(let e of t){let{css:t,...n}=e;for(let e in t=typeof t==`object`&&t||{},n)n[e]=String(n[e]);let r=[n,t,!Xs(t)];s.push(r)}return[a,r,o,s,c,l]},Cc=(e,t,n)=>{let[r,i,a,o]=wc(t.composers),s=typeof t.type==`function`||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[yc].length;n++){let[r,i]=t[yc][n];e.rules[r].apply(i)}return t[yc]=[],null}return t[yc]=[],t.rules={},hc.forEach((e=>t.rules[e]={apply:n=>t[yc].push([e,n])})),t})(n):null,c=(s||n).rules,l=`.${r}${i.length>1?`:where(.${i.slice(1).join(`.`)})`:``}`,u=u=>{u=typeof u==`object`&&u||Ec;let{css:d,...f}=u,p={};for(let e in a)if(delete f[e],e in u){let t=u[e];typeof t==`object`&&t?p[e]={"@initial":a[e],...t}:(t=String(t),p[e]=t!==`undefined`||o.has(e)?t:a[e])}else p[e]=a[e];let m=new Set([...i]);for(let[r,i,a,o]of t.composers){n.rules.styled.cache.has(r)||(n.rules.styled.cache.add(r),uc(i,[`.${r}`],[],e,(e=>{c.styled.apply(e)})));let t=Tc(a,p,e.media),s=Tc(o,p,e.media,!0);for(let i of t)if(i!==void 0)for(let[t,a,o]of i){let i=`${r}-${mc(a)}-${t}`;m.add(i);let s=(o?n.rules.resonevar:n.rules.onevar).cache,l=o?c.resonevar:c.onevar;s.has(i)||(s.add(i),uc(a,[`.${i}`],[],e,(e=>{l.apply(e)})))}for(let t of s)if(t!==void 0)for(let[i,a]of t){let t=`${r}-${mc(a)}-${i}`;m.add(t),n.rules.allvar.cache.has(t)||(n.rules.allvar.cache.add(t),uc(a,[`.${t}`],[],e,(e=>{c.allvar.apply(e)})))}}if(typeof d==`object`&&d){let t=`${r}-i${mc(d)}-css`;m.add(t),n.rules.inline.cache.has(t)||(n.rules.inline.cache.add(t),uc(d,[`.${t}`],[],e,(e=>{c.inline.apply(e)})))}for(let e of String(u.className||``).trim().split(/\s+/))e&&m.add(e);let h=f.className=[...m].join(` `);return{type:t.type,className:h,selector:l,props:f,toString:()=>h,deferredInjector:s}};return Ys(u,{className:r,selector:l,[Js]:t,toString:()=>(n.rules.styled.cache.has(r)||u(),r)})},wc=e=>{let t=``,n=[],r={},i=[];for(let[a,,,,o,s]of e)for(let e in t===``&&(t=a),n.push(a),i.push(...s),o){let t=o[e];(r[e]===void 0||t!==`undefined`||s.includes(t))&&(r[e]=t)}return[t,n,r,new Set(i)]},Tc=(e,t,n,r)=>{let i=[];e:for(let[a,o,s]of e){if(s)continue;let e,c=0,l=!1;for(e in a){let r=a[e],i=t[e];if(i!==r){if(typeof i!=`object`||!i)continue e;{let e,t,a=0;for(let o in i){if(r===String(i[o])){if(o!==`@initial`){let e=o.slice(1);(t||=[]).push(e in n?n[e]:o.replace(/^@media ?/,``)),l=!0}c+=a,e=!0}++a}if(t&&t.length&&(o={[`@media `+t.join(`, `)]:o}),!e)continue e}}}(i[c]=i[c]||[]).push([r?`cv`:`${e}-${a[e]}`,o,l])}return i},Ec={},Dc=qs(),Oc=(e,t)=>Dc(e,(()=>(...n)=>{let r=()=>{for(let r of n){r=typeof r==`object`&&r||{};let n=mc(r);if(!t.rules.global.cache.has(n)){if(t.rules.global.cache.add(n),`@import`in r){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let n of[].concat(r[`@import`]))n=n.includes(`"`)||n.includes(`'`)?n:`"${n}"`,t.sheet.insertRule(`@import ${n};`,e++);delete r[`@import`]}uc(r,[],[],e,(e=>{t.rules.global.apply(e)}))}}return``};return Ys(r,{toString:r})})),kc=qs(),Ac=(e,t)=>kc(e,(()=>n=>{let r=`${oc(e.prefix)}k-${mc(n)}`,i=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);let i=[];uc(n,[],[],e,(e=>i.push(e)));let a=`@keyframes ${r}{${i.join(``)}}`;t.rules.global.apply(a)}return r};return Ys(i,{get name(){return i()},toString:i})})),jc=class{constructor(e,t,n,r){this.token=e==null?``:String(e),this.value=t==null?``:String(t),this.scale=n==null?``:String(n),this.prefix=r==null?``:String(r)}get computedValue(){return`var(`+this.variable+`)`}get variable(){return`--`+oc(this.prefix)+oc(this.scale)+this.token}toString(){return this.computedValue}},Mc=qs(),Nc=(e,t)=>Mc(e,(()=>(n,r)=>{r=typeof n==`object`&&n||Object(r);let i=`.${n=(n=typeof n==`string`?n:``)||`${oc(e.prefix)}t-${mc(r)}`}`,a={},o=[];for(let t in r)for(let n in a[t]={},r[t]){let i=`--${oc(e.prefix)}${t}-${n}`,s=sc(String(r[t][n]),e.prefix,t);a[t][n]=new jc(n,s,t,e.prefix),o.push(`${i}:${s}`)}let s=()=>{if(o.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);let i=`${r===e.theme?`:root,`:``}.${n}{${o.join(`;`)}}`;t.rules.themed.apply(i)}return n};return{...a,get className(){return s()},selector:i,toString:s}})),Pc=qs(),Fc=qs(),Ic=e=>{let t=(e=>{let t=!1,n=Pc(e,(e=>{t=!0;let n=`prefix`in(e=typeof e==`object`&&e||{})?String(e.prefix):``,r=typeof e.media==`object`&&e.media||{},i=typeof e.root==`object`?e.root||null:globalThis.document||null,a=typeof e.theme==`object`&&e.theme||{},o={prefix:n,media:r,theme:a,themeMap:typeof e.themeMap==`object`&&e.themeMap||{...Gs},utils:typeof e.utils==`object`&&e.utils||{}},s=_c(i),c={css:xc(o,s),globalCss:Oc(o,s),keyframes:Ac(o,s),createTheme:Nc(o,s),reset(){s.reset(),c.theme.toString()},theme:{},sheet:s,config:o,prefix:n,getCssText:s.toString,toString:s.toString};return String(c.theme=c.createTheme(a)),c}));return t||n.reset(),n})(e);return t.styled=(({config:e,sheet:t})=>Fc(e,(()=>{let n=xc(e,t);return(...e)=>{let t=n(...e),r=t[Js].type,i=K.forwardRef(((e,n)=>{let i=e&&e.as||r,{props:a,deferredInjector:o}=t(e);return delete a.as,a.ref=n,o?K.createElement(K.Fragment,null,K.createElement(i,a),K.createElement(o,null)):K.createElement(i,a)}));return i.className=t.className,i.displayName=`Styled.${r.displayName||r.name||r}`,i.selector=t.selector,i.toString=()=>t.selector,i[Js]=t[Js],i}})))(t),t};typeof window<`u`&&window.document&&window.document.createElement;function Lc(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function Rc(e,t=[]){let n=[];function r(t,r){let i=K.createContext(r),a=n.length;n=[...n,r];let o=t=>{let{scope:n,children:r,...o}=t,s=n?.[e]?.[a]||i,c=K.useMemo(()=>o,Object.values(o));return(0,G.jsx)(s.Provider,{value:c,children:r})};o.displayName=t+`Provider`;function s(n,o){let s=o?.[e]?.[a]||i,c=K.useContext(s);if(c)return c;if(r!==void 0)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}return[o,s]}let i=()=>{let t=n.map(e=>K.createContext(e));return function(n){let r=n?.[e]||t;return K.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return i.scopeName=e,[r,zc(i,...t)]}function zc(...e){let t=e[0];if(e.length===1)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let i=n(e)[`__scope${r}`];return{...t,...i}},{});return K.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function Bc(e){let t=K.useRef(e);return K.useEffect(()=>{t.current=e}),K.useMemo(()=>(...e)=>t.current?.(...e),[])}function Vc(e,t=globalThis?.document){let n=Bc(e);K.useEffect(()=>{let e=e=>{e.key===`Escape`&&n(e)};return t.addEventListener(`keydown`,e,{capture:!0}),()=>t.removeEventListener(`keydown`,e,{capture:!0})},[n,t])}var Hc=`DismissableLayer`,Uc=`dismissableLayer.update`,Wc=`dismissableLayer.pointerDownOutside`,Gc=`dismissableLayer.focusOutside`,Kc,qc=K.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jc=K.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=e,l=K.useContext(qc),[u,d]=K.useState(null),f=u?.ownerDocument??globalThis?.document,[,p]=K.useState({}),m=ns(t,e=>d(e)),h=Array.from(l.layers),[g]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),_=h.indexOf(g),v=u?h.indexOf(u):-1,y=l.layersWithOutsidePointerEventsDisabled.size>0,b=v>=_,x=Zc(e=>{let t=e.target,n=[...l.branches].some(e=>e.contains(t));!b||n||(i?.(e),o?.(e),e.defaultPrevented||s?.())},f),S=Qc(e=>{let t=e.target;[...l.branches].some(e=>e.contains(t))||(a?.(e),o?.(e),e.defaultPrevented||s?.())},f);return Vc(e=>{v===l.layers.size-1&&(r?.(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},f),K.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Kc=f.body.style.pointerEvents,f.body.style.pointerEvents=`none`),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),$c(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Kc)}},[u,f,n,l]),K.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),$c())},[u,l]),K.useEffect(()=>{let e=()=>p({});return document.addEventListener(Uc,e),()=>document.removeEventListener(Uc,e)},[]),(0,G.jsx)(fs.div,{...c,ref:m,style:{pointerEvents:y?b?`auto`:`none`:void 0,...e.style},onFocusCapture:Lc(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Lc(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Lc(e.onPointerDownCapture,x.onPointerDownCapture)})});Jc.displayName=Hc;var Yc=`DismissableLayerBranch`,Xc=K.forwardRef((e,t)=>{let n=K.useContext(qc),r=K.useRef(null),i=ns(t,r);return K.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,G.jsx)(fs.div,{...e,ref:i})});Xc.displayName=Yc;function Zc(e,t=globalThis?.document){let n=Bc(e),r=K.useRef(!1),i=K.useRef(()=>{});return K.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){el(Wc,n,a,{discrete:!0})},a={originalEvent:e};e.pointerType===`touch`?(t.removeEventListener(`click`,i.current),i.current=r,t.addEventListener(`click`,i.current,{once:!0})):r()}else t.removeEventListener(`click`,i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener(`pointerdown`,e)},0);return()=>{window.clearTimeout(a),t.removeEventListener(`pointerdown`,e),t.removeEventListener(`click`,i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Qc(e,t=globalThis?.document){let n=Bc(e),r=K.useRef(!1);return K.useEffect(()=>{let e=e=>{e.target&&!r.current&&el(Gc,n,{originalEvent:e},{discrete:!1})};return t.addEventListener(`focusin`,e),()=>t.removeEventListener(`focusin`,e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $c(){let e=new CustomEvent(Uc);document.dispatchEvent(e)}function el(e,t,n,{discrete:r}){let i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ps(i,a):i.dispatchEvent(a)}var tl=K.useId||(()=>void 0),nl=0;function rl(e){let[t,n]=K.useState(tl());return ms(()=>{e||n(e=>e??String(nl++))},[e]),e||(t?`radix-${t}`:``)}var il=[`top`,`right`,`bottom`,`left`],al=Math.min,ol=Math.max,sl=Math.round,cl=Math.floor,ll=e=>({x:e,y:e}),ul={left:`right`,right:`left`,bottom:`top`,top:`bottom`},dl={start:`end`,end:`start`};function fl(e,t,n){return ol(e,al(t,n))}function pl(e,t){return typeof e==`function`?e(t):e}function ml(e){return e.split(`-`)[0]}function hl(e){return e.split(`-`)[1]}function gl(e){return e===`x`?`y`:`x`}function _l(e){return e===`y`?`height`:`width`}var vl=new Set([`top`,`bottom`]);function yl(e){return vl.has(ml(e))?`y`:`x`}function bl(e){return gl(yl(e))}function xl(e,t,n){n===void 0&&(n=!1);let r=hl(e),i=bl(e),a=_l(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=Al(o)),[o,Al(o)]}function Sl(e){let t=Al(e);return[Cl(e),t,Cl(t)]}function Cl(e){return e.replace(/start|end/g,e=>dl[e])}var wl=[`left`,`right`],Tl=[`right`,`left`],El=[`top`,`bottom`],Dl=[`bottom`,`top`];function Ol(e,t,n){switch(e){case`top`:case`bottom`:return n?t?Tl:wl:t?wl:Tl;case`left`:case`right`:return t?El:Dl;default:return[]}}function kl(e,t,n,r){let i=hl(e),a=Ol(ml(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(Cl)))),a}function Al(e){return e.replace(/left|right|bottom|top/g,e=>ul[e])}function jl(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ml(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:jl(e)}function Nl(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Pl(e,t,n){let{reference:r,floating:i}=e,a=yl(t),o=bl(t),s=_l(o),c=ml(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(hl(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}var Fl=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Pl(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=Pl(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function Il(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=pl(t,e),p=Ml(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=Nl(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=Nl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var Ll=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=pl(e,t)||{};if(l==null)return{};let d=Ml(u),f={x:n,y:r},p=bl(i),m=_l(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,E=al(d[_],T),D=al(d[v],T),O=E,k=C-h[m]-D,A=C/2-h[m]/2+w,j=fl(O,A,k),M=!c.arrow&&hl(i)!=null&&A!==j&&a.reference[m]/2-(A<O?E:D)-h[m]/2<0,ee=M?A<O?A-O:A-k:0;return{[p]:f[p]+ee,data:{[p]:j,centerOffset:A-j-ee,...M&&{alignmentOffset:ee}},reset:M}}}),Rl=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=pl(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=ml(r),_=yl(o),v=ml(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[Al(o)]:Sl(o)),x=p!==`none`;!d&&x&&b.push(...kl(o,m,p,y));let S=[o,...b],C=await Il(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=xl(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==yl(t))||T.every(e=>yl(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=yl(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}};function zl(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bl(e){return il.some(t=>e[t]>=0)}var Vl=function(e){return e===void 0&&(e={}),{name:`hide`,options:e,async fn(t){let{rects:n}=t,{strategy:r=`referenceHidden`,...i}=pl(e,t);switch(r){case`referenceHidden`:{let e=await Il(t,{...i,elementContext:`reference`}),r=zl(e,n.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:Bl(r)}}}case`escaped`:{let e=await Il(t,{...i,altBoundary:!0}),r=zl(e,n.floating);return{data:{escapedOffsets:r,escaped:Bl(r)}}}default:return{}}}}},Hl=new Set([`left`,`top`]);async function Ul(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ml(n),s=hl(n),c=yl(n)===`y`,l=Hl.has(o)?-1:1,u=a&&c?-1:1,d=pl(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var Wl=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await Ul(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}},Gl=function(e){return e===void 0&&(e={}),{name:`shift`,options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=pl(e,t),l={x:n,y:r},u=await Il(t,c),d=yl(ml(i)),f=gl(d),p=l[f],m=l[d];if(a){let e=f===`y`?`top`:`left`,t=f===`y`?`bottom`:`right`,n=p+u[e],r=p-u[t];p=fl(n,p,r)}if(o){let e=d===`y`?`top`:`left`,t=d===`y`?`bottom`:`right`,n=m+u[e],r=m-u[t];m=fl(n,m,r)}let h=s.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:a,[d]:o}}}}}},Kl=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=pl(e,t),u={x:n,y:r},d=yl(i),f=gl(d),p=u[f],m=u[d],h=pl(s,t),g=typeof h==`number`?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){let e=f===`y`?`height`:`width`,t=a.reference[f]-a.floating[e]+g.mainAxis,n=a.reference[f]+a.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){let e=f===`y`?`width`:`height`,t=Hl.has(ml(i)),n=a.reference[d]-a.floating[e]+(t&&o.offset?.[d]||0)+(t?0:g.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:o.offset?.[d]||0)-(t?g.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[d]:m}}}},ql=function(e){return e===void 0&&(e={}),{name:`size`,options:e,async fn(t){var n,r;let{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...l}=pl(e,t),u=await Il(t,l),d=ml(i),f=hl(i),p=yl(i)===`y`,{width:m,height:h}=a.floating,g,_;d===`top`||d===`bottom`?(g=d,_=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?`start`:`end`)?`left`:`right`):(_=d,g=f===`end`?`top`:`bottom`);let v=h-u.top-u.bottom,y=m-u.left-u.right,b=al(h-u[g],v),x=al(m-u[_],y),S=!t.middlewareData.shift,C=b,w=x;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(w=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),S&&!f){let e=ol(u.left,0),t=ol(u.right,0),n=ol(u.top,0),r=ol(u.bottom,0);p?w=m-2*(e!==0||t!==0?e+t:ol(u.left,u.right)):C=h-2*(n!==0||r!==0?n+r:ol(u.top,u.bottom))}await c({...t,availableWidth:w,availableHeight:C});let T=await o.getDimensions(s.floating);return m!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function Jl(){return typeof window<`u`}function Yl(e){return Ql(e)?(e.nodeName||``).toLowerCase():`#document`}function Xl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zl(e){return((Ql(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function Ql(e){return Jl()?e instanceof Node||e instanceof Xl(e).Node:!1}function $l(e){return Jl()?e instanceof Element||e instanceof Xl(e).Element:!1}function eu(e){return Jl()?e instanceof HTMLElement||e instanceof Xl(e).HTMLElement:!1}function tu(e){return!Jl()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof Xl(e).ShadowRoot}var nu=new Set([`inline`,`contents`]);function ru(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=gu(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!nu.has(i)}var iu=new Set([`table`,`td`,`th`]);function au(e){return iu.has(Yl(e))}var ou=[`:popover-open`,`:modal`];function su(e){return ou.some(t=>{try{return e.matches(t)}catch{return!1}})}var cu=[`transform`,`translate`,`scale`,`rotate`,`perspective`],lu=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],uu=[`paint`,`layout`,`strict`,`content`];function du(e){let t=pu(),n=$l(e)?gu(e):e;return cu.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||lu.some(e=>(n.willChange||``).includes(e))||uu.some(e=>(n.contain||``).includes(e))}function fu(e){let t=vu(e);for(;eu(t)&&!hu(t);){if(du(t))return t;if(su(t))return null;t=vu(t)}return null}function pu(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var mu=new Set([`html`,`body`,`#document`]);function hu(e){return mu.has(Yl(e))}function gu(e){return Xl(e).getComputedStyle(e)}function _u(e){return $l(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vu(e){if(Yl(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||tu(e)&&e.host||Zl(e);return tu(t)?t.host:t}function yu(e){let t=vu(e);return hu(t)?e.ownerDocument?e.ownerDocument.body:e.body:eu(t)&&ru(t)?t:yu(t)}function bu(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=yu(e),i=r===e.ownerDocument?.body,a=Xl(r);if(i){let e=xu(a);return t.concat(a,a.visualViewport||[],ru(r)?r:[],e&&n?bu(e):[])}return t.concat(r,bu(r,[],n))}function xu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Su(e){let t=gu(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=eu(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=sl(n)!==a||sl(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function Cu(e){return $l(e)?e:e.contextElement}function wu(e){let t=Cu(e);if(!eu(t))return ll(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Su(t),o=(a?sl(n.width):n.width)/r,s=(a?sl(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var Tu=ll(0);function Eu(e){let t=Xl(e);return!pu()||!t.visualViewport?Tu:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Du(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xl(e)?!1:t}function Ou(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=Cu(e),o=ll(1);t&&(r?$l(r)&&(o=wu(r)):o=wu(e));let s=Du(a,n,r)?Eu(a):ll(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=Xl(a),t=r&&$l(r)?Xl(r):r,n=e,i=xu(n);for(;i&&r&&t!==n;){let e=wu(i),t=i.getBoundingClientRect(),r=gu(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=Xl(i),i=xu(n)}}return Nl({width:u,height:d,x:c,y:l})}function ku(e,t){let n=_u(e).scrollLeft;return t?t.left+n:Ou(Zl(e)).left+n}function Au(e,t){let n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-ku(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function ju(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=Zl(r),s=t?su(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=ll(1),u=ll(0),d=eu(r);if((d||!d&&!a)&&((Yl(r)!==`body`||ru(o))&&(c=_u(r)),eu(r))){let e=Ou(r);l=wu(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?Au(o,c):ll(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function Mu(e){return Array.from(e.getClientRects())}function Nu(e){let t=Zl(e),n=_u(e),r=e.ownerDocument.body,i=ol(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ol(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+ku(e),s=-n.scrollTop;return gu(r).direction===`rtl`&&(o+=ol(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var Pu=25;function Fu(e,t){let n=Xl(e),r=Zl(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=pu();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=ku(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=Pu&&(a-=o)}else l<=Pu&&(a+=l);return{width:a,height:o,x:s,y:c}}var Iu=new Set([`absolute`,`fixed`]);function Lu(e,t){let n=Ou(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=eu(e)?wu(e):ll(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,c=i*a.x,l=r*a.y;return{width:o,height:s,x:c,y:l}}function Ru(e,t,n){let r;if(t===`viewport`)r=Fu(e,n);else if(t===`document`)r=Nu(Zl(e));else if($l(t))r=Lu(t,n);else{let n=Eu(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Nl(r)}function zu(e,t){let n=vu(e);return n===t||!$l(n)||hu(n)?!1:gu(n).position===`fixed`||zu(n,t)}function Bu(e,t){let n=t.get(e);if(n)return n;let r=bu(e,[],!1).filter(e=>$l(e)&&Yl(e)!==`body`),i=null,a=gu(e).position===`fixed`,o=a?vu(e):e;for(;$l(o)&&!hu(o);){let t=gu(o),n=du(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&Iu.has(i.position)||ru(o)&&!n&&zu(e,o))?r=r.filter(e=>e!==o):i=t,o=vu(o)}return t.set(e,r),r}function Vu(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?su(t)?[]:Bu(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=Ru(t,n,i);return e.top=ol(r.top,e.top),e.right=al(r.right,e.right),e.bottom=al(r.bottom,e.bottom),e.left=ol(r.left,e.left),e},Ru(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Hu(e){let{width:t,height:n}=Su(e);return{width:t,height:n}}function Uu(e,t,n){let r=eu(t),i=Zl(t),a=n===`fixed`,o=Ou(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=ll(0);function l(){c.x=ku(i)}if(r||!r&&!a)if((Yl(t)!==`body`||ru(i))&&(s=_u(t)),r){let e=Ou(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?Au(i,s):ll(0),d=o.left+s.scrollLeft-c.x-u.x,f=o.top+s.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Wu(e){return gu(e).position===`static`}function Gu(e,t){if(!eu(e)||gu(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return Zl(e)===n&&(n=n.ownerDocument.body),n}function Ku(e,t){let n=Xl(e);if(su(e))return n;if(!eu(e)){let t=vu(e);for(;t&&!hu(t);){if($l(t)&&!Wu(t))return t;t=vu(t)}return n}let r=Gu(e,t);for(;r&&au(r)&&Wu(r);)r=Gu(r,t);return r&&hu(r)&&Wu(r)&&!du(r)?n:r||fu(e)||n}var qu=async function(e){let t=this.getOffsetParent||Ku,n=this.getDimensions,r=await n(e.floating);return{reference:Uu(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ju(e){return gu(e).direction===`rtl`}var Yu={convertOffsetParentRelativeRectToViewportRelativeRect:ju,getDocumentElement:Zl,getClippingRect:Vu,getOffsetParent:Ku,getElementRects:qu,getClientRects:Mu,getDimensions:Hu,getScale:wu,isElement:$l,isRTL:Ju};function Xu(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zu(e,t){let n=null,r,i=Zl(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=cl(d),h=cl(i.clientWidth-(u+f)),g=cl(i.clientHeight-(d+p)),_=cl(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:ol(0,al(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!Xu(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function Qu(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=Cu(e),u=i||a?[...l?bu(l):[],...bu(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?Zu(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?Ou(e):null;c&&g();function g(){let t=Ou(e);h&&!Xu(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var $u=Wl,ed=Gl,td=Rl,nd=ql,rd=Vl,id=Ll,ad=Kl,od=(e,t,n)=>{let r=new Map,i={platform:Yu,...n},a={...i.platform,_c:r};return Fl(e,t,{...i,platform:a})},sd=i(r(),1),cd=typeof document<`u`?K.useLayoutEffect:function(){};function ld(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e==`function`&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e==`object`){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ld(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let n=i[r];if(!(n===`_owner`&&e.$$typeof)&&!ld(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function ud(e){return typeof window>`u`?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dd(e,t){let n=ud(e);return Math.round(t*n)/n}function fd(e){let t=K.useRef(e);return cd(()=>{t.current=e}),t}function pd(e){e===void 0&&(e={});let{placement:t=`bottom`,strategy:n=`absolute`,middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=e,[u,d]=K.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=K.useState(r);ld(f,r)||p(r);let[m,h]=K.useState(null),[g,_]=K.useState(null),v=K.useCallback(e=>{e!==S.current&&(S.current=e,h(e))},[]),y=K.useCallback(e=>{e!==C.current&&(C.current=e,_(e))},[]),b=a||m,x=o||g,S=K.useRef(null),C=K.useRef(null),w=K.useRef(u),T=c!=null,E=fd(c),D=fd(i),O=fd(l),k=K.useCallback(()=>{if(!S.current||!C.current)return;let e={placement:t,strategy:n,middleware:f};D.current&&(e.platform=D.current),od(S.current,C.current,e).then(e=>{let t={...e,isPositioned:O.current!==!1};A.current&&!ld(w.current,t)&&(w.current=t,sd.flushSync(()=>{d(t)}))})},[f,t,n,D,O]);cd(()=>{l===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[l]);let A=K.useRef(!1);cd(()=>(A.current=!0,()=>{A.current=!1}),[]),cd(()=>{if(b&&(S.current=b),x&&(C.current=x),b&&x){if(E.current)return E.current(b,x,k);k()}},[b,x,k,E,T]);let j=K.useMemo(()=>({reference:S,floating:C,setReference:v,setFloating:y}),[v,y]),M=K.useMemo(()=>({reference:b,floating:x}),[b,x]),ee=K.useMemo(()=>{let e={position:n,left:0,top:0};if(!M.floating)return e;let t=dd(M.floating,u.x),r=dd(M.floating,u.y);return s?{...e,transform:`translate(`+t+`px, `+r+`px)`,...ud(M.floating)>=1.5&&{willChange:`transform`}}:{position:n,left:t,top:r}},[n,s,M.floating,u.x,u.y]);return K.useMemo(()=>({...u,update:k,refs:j,elements:M,floatingStyles:ee}),[u,k,j,M,ee])}var md=e=>{function t(e){return{}.hasOwnProperty.call(e,`current`)}return{name:`arrow`,options:e,fn(n){let{element:r,padding:i}=typeof e==`function`?e(n):e;return r&&t(r)?r.current==null?{}:id({element:r.current,padding:i}).fn(n):r?id({element:r,padding:i}).fn(n):{}}}},hd=(e,t)=>({...$u(e),options:[e,t]}),gd=(e,t)=>({...ed(e),options:[e,t]}),_d=(e,t)=>({...ad(e),options:[e,t]}),vd=(e,t)=>({...td(e),options:[e,t]}),yd=(e,t)=>({...nd(e),options:[e,t]}),bd=(e,t)=>({...rd(e),options:[e,t]}),xd=(e,t)=>({...md(e),options:[e,t]}),Sd=`Arrow`,Cd=K.forwardRef((e,t)=>{let{children:n,width:r=10,height:i=5,...a}=e;return(0,G.jsx)(fs.svg,{...a,ref:t,width:r,height:i,viewBox:`0 0 30 10`,preserveAspectRatio:`none`,children:e.asChild?n:(0,G.jsx)(`polygon`,{points:`0,0 30,0 15,10`})})});Cd.displayName=Sd;var wd=Cd;function Td(e){let[t,n]=K.useState(void 0);return ms(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{if(!Array.isArray(t)||!t.length)return;let r=t[0],i,a;if(`borderBoxSize`in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return t.observe(e,{box:`border-box`}),()=>t.unobserve(e)}else n(void 0)},[e]),t}var Ed=`Popper`,[Dd,Od]=Rc(Ed),[kd,Ad]=Dd(Ed),jd=e=>{let{__scopePopper:t,children:n}=e,[r,i]=K.useState(null);return(0,G.jsx)(kd,{scope:t,anchor:r,onAnchorChange:i,children:n})};jd.displayName=Ed;var Md=`PopperAnchor`,Nd=K.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:r,...i}=e,a=Ad(Md,n),o=K.useRef(null),s=ns(t,o),c=K.useRef(null);return K.useEffect(()=>{let e=c.current;c.current=r?.current||o.current,e!==c.current&&a.onAnchorChange(c.current)}),r?null:(0,G.jsx)(fs.div,{...i,ref:s})});Nd.displayName=Md;var Pd=`PopperContent`,[Fd,Id]=Dd(Pd),Ld=K.forwardRef((e,t)=>{let{__scopePopper:n,side:r=`bottom`,sideOffset:i=0,align:a=`center`,alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d=`partial`,hideWhenDetached:f=!1,updatePositionStrategy:p=`optimized`,onPlaced:m,...h}=e,g=Ad(Pd,n),[_,v]=K.useState(null),y=ns(t,e=>v(e)),[b,x]=K.useState(null),S=Td(b),C=S?.width??0,w=S?.height??0,T=r+(a===`center`?``:`-`+a),E=typeof u==`number`?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(l)?l:[l],O=D.length>0,k={padding:E,boundary:D.filter(Vd),altBoundary:O},{refs:A,floatingStyles:j,placement:M,isPositioned:ee,middlewareData:te}=pd({strategy:`fixed`,placement:T,whileElementsMounted:(...e)=>Qu(...e,{animationFrame:p===`always`}),elements:{reference:g.anchor},middleware:[hd({mainAxis:i+w,alignmentAxis:o}),c&&gd({mainAxis:!0,crossAxis:!1,limiter:d===`partial`?_d():void 0,...k}),c&&vd({...k}),yd({...k,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{let{width:i,height:a}=t.reference,o=e.floating.style;o.setProperty(`--radix-popper-available-width`,`${n}px`),o.setProperty(`--radix-popper-available-height`,`${r}px`),o.setProperty(`--radix-popper-anchor-width`,`${i}px`),o.setProperty(`--radix-popper-anchor-height`,`${a}px`)}}),b&&xd({element:b,padding:s}),Hd({arrowWidth:C,arrowHeight:w}),f&&bd({strategy:`referenceHidden`,...k})]}),[ne,re]=Ud(M),ie=Bc(m);ms(()=>{ee&&ie?.()},[ee,ie]);let ae=te.arrow?.x,N=te.arrow?.y,oe=te.arrow?.centerOffset!==0,[P,se]=K.useState();return ms(()=>{_&&se(window.getComputedStyle(_).zIndex)},[_]),(0,G.jsx)(`div`,{ref:A.setFloating,"data-radix-popper-content-wrapper":``,style:{...j,transform:ee?j.transform:`translate(0, -200%)`,minWidth:`max-content`,zIndex:P,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(` `),...te.hide?.referenceHidden&&{visibility:`hidden`,pointerEvents:`none`}},dir:e.dir,children:(0,G.jsx)(Fd,{scope:n,placedSide:ne,onArrowChange:x,arrowX:ae,arrowY:N,shouldHideArrow:oe,children:(0,G.jsx)(fs.div,{"data-side":ne,"data-align":re,...h,ref:y,style:{...h.style,animation:ee?void 0:`none`}})})})});Ld.displayName=Pd;var Rd=`PopperArrow`,zd={top:`bottom`,right:`left`,bottom:`top`,left:`right`},Bd=K.forwardRef(function(e,t){let{__scopePopper:n,...r}=e,i=Id(Rd,n),a=zd[i.placedSide];return(0,G.jsx)(`span`,{ref:i.onArrowChange,style:{position:`absolute`,left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:``,right:`0 0`,bottom:`center 0`,left:`100% 0`}[i.placedSide],transform:{top:`translateY(100%)`,right:`translateY(50%) rotate(90deg) translateX(-50%)`,bottom:`rotate(180deg)`,left:`translateY(50%) rotate(-90deg) translateX(50%)`}[i.placedSide],visibility:i.shouldHideArrow?`hidden`:void 0},children:(0,G.jsx)(wd,{...r,ref:t,style:{...r.style,display:`block`}})})});Bd.displayName=Rd;function Vd(e){return e!==null}var Hd=e=>({name:`transformOrigin`,options:e,fn(t){let{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,s=a?0:e.arrowHeight,[c,l]=Ud(n),u={start:`0%`,center:`50%`,end:`100%`}[l],d=(i.arrow?.x??0)+o/2,f=(i.arrow?.y??0)+s/2,p=``,m=``;return c===`bottom`?(p=a?u:`${d}px`,m=`${-s}px`):c===`top`?(p=a?u:`${d}px`,m=`${r.floating.height+s}px`):c===`right`?(p=`${-s}px`,m=a?u:`${f}px`):c===`left`&&(p=`${r.floating.width+s}px`,m=a?u:`${f}px`),{data:{x:p,y:m}}}});function Ud(e){let[t,n=`center`]=e.split(`-`);return[t,n]}var Wd=jd,Gd=Nd,Kd=Ld,qd=Bd;function Jd(e,t){return K.useReducer((e,n)=>t[e][n]??e,e)}var Yd=e=>{let{present:t,children:n}=e,r=Xd(t),i=typeof n==`function`?n({present:r.isPresent}):K.Children.only(n),a=ns(r.ref,Qd(i));return typeof n==`function`||r.isPresent?K.cloneElement(i,{ref:a}):null};Yd.displayName=`Presence`;function Xd(e){let[t,n]=K.useState(),r=K.useRef(null),i=K.useRef(e),a=K.useRef(`none`),[o,s]=Jd(e?`mounted`:`unmounted`,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}});return K.useEffect(()=>{let e=Zd(r.current);a.current=o===`mounted`?e:`none`},[o]),ms(()=>{let t=r.current,n=i.current;if(n!==e){let r=a.current,o=Zd(t);e?s(`MOUNT`):o===`none`||t?.display===`none`?s(`UNMOUNT`):s(n&&r!==o?`ANIMATION_OUT`:`UNMOUNT`),i.current=e}},[e,s]),ms(()=>{if(t){let e,n=t.ownerDocument.defaultView??window,o=a=>{let o=Zd(r.current).includes(CSS.escape(a.animationName));if(a.target===t&&o&&(s(`ANIMATION_END`),!i.current)){let r=t.style.animationFillMode;t.style.animationFillMode=`forwards`,e=n.setTimeout(()=>{t.style.animationFillMode===`forwards`&&(t.style.animationFillMode=r)})}},c=e=>{e.target===t&&(a.current=Zd(r.current))};return t.addEventListener(`animationstart`,c),t.addEventListener(`animationcancel`,o),t.addEventListener(`animationend`,o),()=>{n.clearTimeout(e),t.removeEventListener(`animationstart`,c),t.removeEventListener(`animationcancel`,o),t.removeEventListener(`animationend`,o)}}else s(`ANIMATION_END`)},[t,s]),{isPresent:[`mounted`,`unmountSuspended`].includes(o),ref:K.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}function Zd(e){return e?.animationName||`none`}function Qd(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $d=K.useInsertionEffect||ms;function ef({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){let[i,a,o]=tf({defaultProp:t,onChange:n}),s=e!==void 0,c=s?e:i;{let t=K.useRef(e!==void 0);K.useEffect(()=>{let e=t.current;if(e!==s){let t=e?`controlled`:`uncontrolled`,n=s?`controlled`:`uncontrolled`;console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=s},[s,r])}let l=K.useCallback(t=>{if(s){let n=nf(t)?t(e):t;n!==e&&o.current?.(n)}else a(t)},[s,e,a,o]);return[c,l]}function tf({defaultProp:e,onChange:t}){let[n,r]=K.useState(e),i=K.useRef(n),a=K.useRef(t);return $d(()=>{a.current=t},[t]),K.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function nf(e){return typeof e==`function`}var rf=Object.freeze({position:`absolute`,border:0,width:1,height:1,padding:0,margin:-1,overflow:`hidden`,clip:`rect(0, 0, 0, 0)`,whiteSpace:`nowrap`,wordWrap:`normal`}),af=`VisuallyHidden`,sf=K.forwardRef((e,t)=>(0,G.jsx)(fs.span,{...e,ref:t,style:{...rf,...e.style}}));sf.displayName=af;var cf=sf,[lf,uf]=Rc(`Tooltip`,[Od]),df=Od(),ff=`TooltipProvider`,pf=700,mf=`tooltip.open`,[hf,gf]=lf(ff),_f=e=>{let{__scopeTooltip:t,delayDuration:n=pf,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=K.useRef(!0),s=K.useRef(!1),c=K.useRef(0);return K.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,G.jsx)(hf,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:K.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:K.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:K.useCallback(e=>{s.current=e},[]),disableHoverableContent:i,children:a})};_f.displayName=ff;var vf=`Tooltip`,[yf,bf]=lf(vf),xf=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,c=gf(vf,e.__scopeTooltip),l=df(t),[u,d]=K.useState(null),f=rl(),p=K.useRef(0),m=o??c.disableHoverableContent,h=s??c.delayDuration,g=K.useRef(!1),[_,v]=ef({prop:r,defaultProp:i??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(mf))):c.onClose(),a?.(e)},caller:vf}),y=K.useMemo(()=>_?g.current?`delayed-open`:`instant-open`:`closed`,[_]),b=K.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,v(!0)},[v]),x=K.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),S=K.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,v(!0),p.current=0},h)},[h,v]);return K.useEffect(()=>()=>{p.current&&=(window.clearTimeout(p.current),0)},[]),(0,G.jsx)(Wd,{...l,children:(0,G.jsx)(yf,{scope:t,contentId:f,open:_,stateAttribute:y,trigger:u,onTriggerChange:d,onTriggerEnter:K.useCallback(()=>{c.isOpenDelayedRef.current?S():b()},[c.isOpenDelayedRef,S,b]),onTriggerLeave:K.useCallback(()=>{m?x():(window.clearTimeout(p.current),p.current=0)},[x,m]),onOpen:b,onClose:x,disableHoverableContent:m,children:n})})};xf.displayName=vf;var Sf=`TooltipTrigger`,Cf=K.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=bf(Sf,n),a=gf(Sf,n),o=df(n),s=K.useRef(null),c=ns(t,s,i.onTriggerChange),l=K.useRef(!1),u=K.useRef(!1),d=K.useCallback(()=>l.current=!1,[]);return K.useEffect(()=>()=>document.removeEventListener(`pointerup`,d),[d]),(0,G.jsx)(Gd,{asChild:!0,...o,children:(0,G.jsx)(fs.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Lc(e.onPointerMove,e=>{e.pointerType!==`touch`&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Lc(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Lc(e.onPointerDown,()=>{i.open&&i.onClose(),l.current=!0,document.addEventListener(`pointerup`,d,{once:!0})}),onFocus:Lc(e.onFocus,()=>{l.current||i.onOpen()}),onBlur:Lc(e.onBlur,i.onClose),onClick:Lc(e.onClick,i.onClose)})})});Cf.displayName=Sf;var wf=`TooltipPortal`,[Tf,Ef]=lf(wf,{forceMount:void 0}),Df=e=>{let{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,a=bf(wf,t);return(0,G.jsx)(Tf,{scope:t,forceMount:n,children:(0,G.jsx)(Yd,{present:n||a.open,children:(0,G.jsx)(_s,{asChild:!0,container:i,children:r})})})};Df.displayName=wf;var Of=`TooltipContent`,kf=K.forwardRef((e,t)=>{let n=Ef(Of,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i=`top`,...a}=e,o=bf(Of,e.__scopeTooltip);return(0,G.jsx)(Yd,{present:r||o.open,children:o.disableHoverableContent?(0,G.jsx)(Pf,{side:i,...a,ref:t}):(0,G.jsx)(Af,{side:i,...a,ref:t})})}),Af=K.forwardRef((e,t)=>{let n=bf(Of,e.__scopeTooltip),r=gf(Of,e.__scopeTooltip),i=K.useRef(null),a=ns(t,i),[o,s]=K.useState(null),{trigger:c,onClose:l}=n,u=i.current,{onPointerInTransitChange:d}=r,f=K.useCallback(()=>{s(null),d(!1)},[d]),p=K.useCallback((e,t)=>{let n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=Lf(r,n.getBoundingClientRect()),a=Rf(r,i),o=zf(t.getBoundingClientRect()),c=Vf([...a,...o]);s(c),d(!0)},[d]);return K.useEffect(()=>()=>f(),[f]),K.useEffect(()=>{if(c&&u){let e=e=>p(e,u),t=e=>p(e,c);return c.addEventListener(`pointerleave`,e),u.addEventListener(`pointerleave`,t),()=>{c.removeEventListener(`pointerleave`,e),u.removeEventListener(`pointerleave`,t)}}},[c,u,p,f]),K.useEffect(()=>{if(o){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=c?.contains(t)||u?.contains(t),i=!Bf(n,o);r?f():i&&(f(),l())};return document.addEventListener(`pointermove`,e),()=>document.removeEventListener(`pointermove`,e)}},[c,u,o,l,f]),(0,G.jsx)(Pf,{...e,ref:a})}),[jf,Mf]=lf(vf,{isInside:!1}),Nf=cs(`TooltipContent`),Pf=K.forwardRef((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,c=bf(Of,n),l=df(n),{onClose:u}=c;return K.useEffect(()=>(document.addEventListener(mf,u),()=>document.removeEventListener(mf,u)),[u]),K.useEffect(()=>{if(c.trigger){let e=e=>{e.target?.contains(c.trigger)&&u()};return window.addEventListener(`scroll`,e,{capture:!0}),()=>window.removeEventListener(`scroll`,e,{capture:!0})}},[c.trigger,u]),(0,G.jsx)(Jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:(0,G.jsxs)(Kd,{"data-state":c.stateAttribute,...l,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":`var(--radix-popper-transform-origin)`,"--radix-tooltip-content-available-width":`var(--radix-popper-available-width)`,"--radix-tooltip-content-available-height":`var(--radix-popper-available-height)`,"--radix-tooltip-trigger-width":`var(--radix-popper-anchor-width)`,"--radix-tooltip-trigger-height":`var(--radix-popper-anchor-height)`},children:[(0,G.jsx)(Nf,{children:r}),(0,G.jsx)(jf,{scope:n,isInside:!0,children:(0,G.jsx)(cf,{id:c.contentId,role:`tooltip`,children:i||r})})]})})});kf.displayName=Of;var Ff=`TooltipArrow`,If=K.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=df(n);return Mf(Ff,n).isInside?null:(0,G.jsx)(qd,{...i,...r,ref:t})});If.displayName=Ff;function Lf(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return`left`;case i:return`right`;case n:return`top`;case r:return`bottom`;default:throw Error(`unreachable`)}}function Rf(e,t,n=5){let r=[];switch(t){case`top`:r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case`bottom`:r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case`left`:r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case`right`:r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function zf(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Bf(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],s=t[a],c=o.x,l=o.y,u=s.x,d=s.y;l>r!=d>r&&n<(u-c)*(r-l)/(d-l)+c&&(i=!i)}return i}function Vf(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),Hf(t)}function Hf(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Uf=_f,Wf=xf,Gf=Cf,Kf=kf,qf=If;function Jf(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function X(e,t){if(e==null)return{};var n,r,i=Jf(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Yf=function(e){return e[e.UNSUPPORTED_INPUT=0]=`UNSUPPORTED_INPUT`,e[e.NO_COMPONENT_FOR_TYPE=1]=`NO_COMPONENT_FOR_TYPE`,e[e.UNKNOWN_INPUT=2]=`UNKNOWN_INPUT`,e[e.DUPLICATE_KEYS=3]=`DUPLICATE_KEYS`,e[e.ALREADY_REGISTERED_TYPE=4]=`ALREADY_REGISTERED_TYPE`,e[e.CLIPBOARD_ERROR=5]=`CLIPBOARD_ERROR`,e[e.THEME_ERROR=6]=`THEME_ERROR`,e[e.PATH_DOESNT_EXIST=7]=`PATH_DOESNT_EXIST`,e[e.INPUT_TYPE_OVERRIDE=8]=`INPUT_TYPE_OVERRIDE`,e[e.EMPTY_KEY=9]=`EMPTY_KEY`,e}({}),Xf={[Yf.UNSUPPORTED_INPUT]:(e,t)=>[`An input with type \`${e}\` input was found at path \`${t}\` but it's not supported yet.`],[Yf.NO_COMPONENT_FOR_TYPE]:(e,t)=>[`Type \`${e}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[Yf.UNKNOWN_INPUT]:(e,t)=>[`input at path \`${e}\` is not recognized.`,t],[Yf.DUPLICATE_KEYS]:(e,t,n)=>[`Key \`${e}\` of path \`${t}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[Yf.ALREADY_REGISTERED_TYPE]:e=>[`Type ${e} has already been registered. You can't register a component with the same type.`],[Yf.CLIPBOARD_ERROR]:e=>[`Error copying the value`,e],[Yf.THEME_ERROR]:(e,t)=>[`Error accessing the theme \`${e}.${t}\` value.`],[Yf.PATH_DOESNT_EXIST]:e=>[`Error getting the value at path \`${e}\`. There is probably an error in your \`render\` function.`],[Yf.INPUT_TYPE_OVERRIDE]:(e,t,n)=>[`Input at path \`${e}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${n}\`.`],[Yf.EMPTY_KEY]:()=>[`Keys can not be empty, if you want to hide a label use whitespace.`]};function Zf(e,t,...n){let r=Xf[t],[i,...a]=r(...n);console[e](`LEVA: `+i,...a)}var Qf=Zf.bind(null,`warn`),$f=Zf.bind(null,`log`),ep=[`value`],tp=[`schema`],np=[`value`],rp=[],ip={};function ap(e){let{value:t}=e,n=X(e,ep);for(let e of rp){let r=e(t,n);if(r)return r}}function op(e,t){let{schema:n}=t,r=X(t,tp);if(e in ip){Qf(Yf.ALREADY_REGISTERED_TYPE,e);return}rp.push((t,r)=>n(t,r)&&e),ip[e]=r}function sp(e){return e}function cp(e,t,n,r){let{normalize:i}=ip[e];if(i)return i(t,n,r);if(typeof t!=`object`||!(`value`in t))return{value:t};let{value:a}=t,o=X(t,np);return{value:a,settings:o}}function lp(e,t,n,r,i,a){let{sanitize:o}=ip[e];return o?o(t,n,r,i,a):t}function up(e,t,n){let{format:r}=ip[e];return r?r(t,n):t}function dp(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function fp(e){var t=dp(e,`string`);return typeof t==`symbol`?t:t+``}function pp(e,t,n){return(t=fp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?mp(Object(n),!0).forEach(function(t){pp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var hp=(e,t,n)=>e>n?n:e<t?t:e,gp=e=>{if(e===``||typeof e==`number`)return e;try{let t=Ep(e);if(!isNaN(t))return t}catch{}return parseFloat(e)},_p=Math.log(10);function vp(e){let t=Math.abs(+String(e).replace(`.`,``));if(t===0)return .01;for(;t!==0&&t%10==0;)t/=10;let n=Math.floor(Math.log(t)/_p)+1,r=10**(Math.floor(Math.log10(Math.abs(e)))-n);return Math.max(r,.001)}var yp=(e,t,n)=>n===t?0:(hp(e,t,n)-t)/(n-t),bp=(e,t,n)=>e*(n-t)+t,xp=()=>`_`+Math.random().toString(36).substr(2,9),Sp=/\(([^\(\)]+)\)/,Cp=/(-?\d+(?:\.\d+)?)\s*\^\s*(-?\d+(?:\.\d+)?)/,wp=/(-?\d+(?:\.\d+)?)\s*([*/])\s*(-?\d+(?:\.\d+)?)/,Tp=/(-?\d+(?:\.\d+)?)\s*([+-])\s*(-?\d+(?:\.\d+)?)/;function Ep(e){return e=e.replace(/\s+/g,``),Sp.test(e)?Ep(e.replace(Sp,(e,t)=>Ep(t).toString())):Cp.test(e)?Ep(e.replace(Cp,(e,t,n)=>(Number(t)**+Number(n)).toString())):wp.test(e)?Ep(e.replace(wp,(e,t,n,r)=>n===`*`?(Number(t)*Number(r)).toString():Number(r)===0?(()=>{throw Error(`Division by zero`)})():(Number(t)/Number(r)).toString())):Tp.test(e)?Ep(e.replace(Tp,(e,t,n,r)=>n===`+`?(Number(t)+Number(r)).toString():(Number(t)-Number(r)).toString())):Number(e)}function Dp(e,t){return t.reduce((t,n)=>(e&&e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}function Op(e,t){let n=Z({},e);return t.forEach(t=>t in e&&delete n[t]),n}function kp(e,t){return e.reduce((e,n,r)=>Object.assign(e,{[t[r]]:n}),{})}function Ap(e){return Object.prototype.toString.call(e)===`[object Object]`}var jp=e=>Ap(e)&&Object.keys(e).length===0,Mp=function(e){return e.BUTTON=`BUTTON`,e.BUTTON_GROUP=`BUTTON_GROUP`,e.MONITOR=`MONITOR`,e.FOLDER=`FOLDER`,e}({}),Np=function(e){return e.SELECT=`SELECT`,e.IMAGE=`IMAGE`,e.NUMBER=`NUMBER`,e.COLOR=`COLOR`,e.STRING=`STRING`,e.BOOLEAN=`BOOLEAN`,e.INTERVAL=`INTERVAL`,e.VECTOR3D=`VECTOR3D`,e.VECTOR2D=`VECTOR2D`,e}({}),Pp=[`type`,`__customInput`],Fp=[`render`,`label`,`optional`,`order`,`disabled`,`hint`,`onChange`,`onEditStart`,`onEditEnd`,`transient`],Ip=[`type`];function Lp(e,t,n={},r){if(typeof e!=`object`||Array.isArray(e))return{type:r,input:e,options:Z({key:t,label:t,optional:!1,disabled:!1,order:0},n)};if(`__customInput`in e){let{type:n,__customInput:r}=e,i=X(e,Pp);return Lp(r,t,i,n)}let{render:i,label:a,optional:o,order:s=0,disabled:c,hint:l,onChange:u,onEditStart:d,onEditEnd:f,transient:p}=e,m=X(e,Fp),h=Z({render:i,key:t,label:a??t,hint:l,transient:p??!!u,onEditStart:d,onEditEnd:f,disabled:c,optional:o,order:s},n),{type:g}=m,_=X(m,Ip);if(g=r??g,g in Mp)return{type:g,input:_,options:h};let v;return v=r&&Ap(_)&&`value`in _?_.value:jp(_)?void 0:_,{type:g,input:v,options:Z(Z({},h),{},{onChange:u,optional:h.optional??!1,disabled:h.disabled??!1})}}function Rp(e,t,n,r){let i=Lp(e,t),{type:a,input:o,options:s}=i;if(a)return a in Mp?i:{type:a,input:cp(a,o,n,r),options:s};let c=ap(o);return c?{type:c,input:cp(c,o,n,r),options:s}:(c=ap({value:o}),c?{type:c,input:cp(c,{value:o},n,r),options:s}:!1)}function zp(e,t,n,r,i){let{value:a,type:o,settings:s}=e;e.value=Vp({type:o,value:a,settings:s},t,n,r),e.fromPanel=i}var Bp=function(e,t,n){this.type=`LEVA_ERROR`,this.message=`LEVA: `+e,this.previousValue=t,this.error=n};function Vp({type:e,value:t,settings:n},r,i,a){let o=e!==`SELECT`&&typeof r==`function`?r(t):r,s;try{s=lp(e,o,n,t,i,a)}catch(e){throw new Bp(`The value \`${r}\` did not result in a correct value.`,t,e)}return bs(s,t)?t:s}var Hp=(e,t,n=!1)=>{let r=0;return function(){let i=arguments,a=n&&!r,o=()=>e.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,t),a&&o()}},Up=e=>e.shiftKey?5:e.altKey?1/5:1,Wp=[`value`],Gp=[`min`,`max`],Kp=e=>{if(typeof e==`number`)return!0;if(typeof e==`string`){let t=parseFloat(e);return isNaN(t)?!1:e.substring((``+t).length).trim().length<4}return!1},qp=(e,{min:t=-1/0,max:n=1/0,suffix:r})=>{let i=parseFloat(e);if(e===``||isNaN(i))throw Error(`Invalid number`);let a=hp(i,t,n);return r?a+r:a},Jp=(e,{pad:t=0,suffix:n})=>{let r=parseFloat(e).toFixed(t);return n?r+n:r},Yp=e=>{let{value:t}=e,n=X(e,Wp),{min:r=-1/0,max:i=1/0}=n,a=X(n,Gp),o=parseFloat(t),s=typeof t==`string`?t.substring((``+o).length):void 0;o=hp(o,r,i);let c=n.step;c||(Number.isFinite(r)?c=Number.isFinite(i)?+(Math.abs(i-r)/100).toPrecision(1):+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(c=+(Math.abs(i-o)/100).toPrecision(1)));let l=c?vp(c)*10:vp(o);c||=l/10;let u=Math.round(hp(Math.log10(1/l),0,2));return{value:s?o+s:o,settings:Z({initialValue:o,step:c,pad:u,min:r,max:i,suffix:s},a)}},Xp=(e,{step:t,initialValue:n})=>{let r=Math.round((e-n)/t);return n+r*t},Zp=Object.freeze({__proto__:null,schema:Kp,sanitize:qp,format:Jp,normalize:Yp,sanitizeStep:Xp});function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qp.apply(null,arguments)}var $p=(0,K.createContext)({});function em(){return(0,K.useContext)($p)}var tm=(0,K.createContext)(null),nm=(0,K.createContext)(null),rm=(0,K.createContext)(null);function im(){return(0,K.useContext)(nm)}function am(){return(0,K.useContext)(rm)}var om=()=>({colors:{elevation1:`#292d39`,elevation2:`#181c20`,elevation3:`#373c4b`,accent1:`#0066dc`,accent2:`#007bff`,accent3:`#3c93ff`,highlight1:`#535760`,highlight2:`#8c92a4`,highlight3:`#fefefe`,vivid1:`#ffcc00`,folderWidgetColor:`$highlight2`,folderTextColor:`$highlight3`,toolTipBackground:`$highlight3`,toolTipText:`$elevation2`},radii:{xs:`2px`,sm:`3px`,lg:`10px`},space:{xs:`3px`,sm:`6px`,md:`10px`,rowGap:`7px`,colGap:`7px`},fonts:{mono:`ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace`,sans:`system-ui, sans-serif`},fontSizes:{root:`11px`,toolTip:`$root`},sizes:{rootWidth:`280px`,controlWidth:`160px`,numberInputMinWidth:`38px`,scrubberWidth:`8px`,scrubberHeight:`16px`,rowHeight:`24px`,folderTitleHeight:`20px`,checkboxSize:`16px`,joystickWidth:`100px`,joystickHeight:`100px`,colorPickerWidth:`$controlWidth`,colorPickerHeight:`100px`,imagePreviewWidth:`$controlWidth`,imagePreviewHeight:`100px`,monitorHeight:`60px`,titleBarHeight:`39px`},shadows:{level1:`0 0 9px 0 #00000088`,level2:`0 4px 14px #00000033`},borderWidths:{root:`0px`,input:`1px`,focus:`1px`,hover:`1px`,active:`1px`,folder:`1px`},fontWeights:{label:`normal`,folder:`normal`,button:`normal`}});function sm(e,t){let[n,r]=e.split(` `),i={};return n!==`none`&&(i.boxShadow=`${t.inset?`inset `:``}0 0 0 $borderWidths${[t.key]} $colors${n!==`default`&&n||t.borderColor}`),r&&(i.backgroundColor=r),i}var cm={$inputStyle:()=>e=>sm(e,{key:`$input`,borderColor:`$highlight1`,inset:!0}),$focusStyle:()=>e=>sm(e,{key:`$focus`,borderColor:`$accent2`}),$hoverStyle:()=>e=>sm(e,{key:`$hover`,borderColor:`$accent1`,inset:!0}),$activeStyle:()=>e=>sm(e,{key:`$active`,borderColor:`$accent1`,inset:!0})},lm=Ic({prefix:`leva`,theme:om(),utils:Z(Z({},cm),{},{$flex:()=>({display:`flex`,alignItems:`center`}),$flexCenter:()=>({display:`flex`,alignItems:`center`,justifyContent:`center`}),$reset:()=>({outline:`none`,fontSize:`inherit`,fontWeight:`inherit`,color:`inherit`,fontFamily:`inherit`,border:`none`,backgroundColor:`transparent`,appearance:`none`}),$draggable:()=>({touchAction:`none`,WebkitUserDrag:`none`,userSelect:`none`}),$focus:e=>({"&:focus":cm.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":cm.$focusStyle()(e)}),$hover:e=>({"&:hover":cm.$hoverStyle()(e)}),$active:e=>({"&:active":cm.$activeStyle()(e)})})}),Q=lm.styled;lm.css;var um=lm.createTheme,dm=lm.globalCss;lm.keyframes;var fm=dm({".leva__panel__dragged":{WebkitUserDrag:`none`,userSelect:`none`,input:{userSelect:`none`},"*":{cursor:`ew-resize !important`}}});function pm(e){let t=om();if(!e)return{theme:t,className:``};Object.keys(e).forEach(n=>{Object.assign(t[n],e[n])});let n=um(t);return{theme:t,className:n.className}}function mm(e,t){let{theme:n}=(0,K.useContext)(tm);if(!(e in n)||!(t in n[e]))return Qf(Yf.THEME_ERROR,e,t),``;let r=t;for(;;){let t=n[e][r];if(typeof t==`string`&&t.charAt(0)===`$`)r=t.substr(1);else return t}}var hm=Q(`input`,{$reset:``,padding:`0 $sm`,width:0,minWidth:0,flex:1,height:`100%`,variants:{levaType:{number:{textAlign:`right`}},as:{textarea:{padding:`$sm`}}}}),gm=Q(`div`,{$draggable:``,height:`100%`,$flexCenter:``,position:`relative`,padding:`0 $xs`,fontSize:`0.8em`,opacity:.8,cursor:`default`,touchAction:`none`,[`& + ${hm}`]:{paddingLeft:0}}),_m=Q(gm,{cursor:`ew-resize`,marginRight:`-$xs`,textTransform:`uppercase`,opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:`$accent2`,opacity:1}}}}),vm=Q(`div`,{$flex:``,position:`relative`,borderRadius:`$sm`,overflow:`hidden`,color:`inherit`,height:`$rowHeight`,backgroundColor:`$elevation3`,$inputStyle:`$elevation1`,$hover:``,$focusWithin:``,variants:{textArea:{true:{height:`auto`}}}}),ym=[`innerLabel`,`value`,`onUpdate`,`onChange`,`onKeyDown`,`type`,`id`,`inputType`,`rows`],bm=[`onUpdate`];function xm(e){let{innerLabel:t,value:n,onUpdate:r,onChange:i,onKeyDown:a,type:o,id:s,inputType:c=`text`,rows:l=0}=e,u=X(e,ym),{id:d,emitOnEditStart:f,emitOnEditEnd:p,disabled:m}=em(),h=s||d,g=(0,K.useRef)(null),_=l>0,v=_?`textarea`:`input`,y=(0,K.useCallback)(e=>t=>{let n=t.currentTarget.value;e(n)},[]);K.useEffect(()=>{let e=g.current,t=y(e=>{r(e),p()});return e?.addEventListener(`blur`,t),()=>e?.removeEventListener(`blur`,t)},[y,r,p]);let b=(0,K.useCallback)(e=>{e.key===`Enter`&&y(r)(e)},[y,r]),x=Object.assign({as:v},_?{rows:l}:{},u);return K.createElement(vm,{textArea:_},t&&typeof t==`string`?K.createElement(gm,null,t):t,K.createElement(hm,Qp({levaType:o,ref:g,id:h,type:c,autoComplete:`off`,spellCheck:`false`,value:n,onChange:y(i),onFocus:()=>f(),onKeyPress:b,onKeyDown:a,disabled:m},x)))}function Sm(e){let{onUpdate:t}=e,n=X(e,bm),r=(0,K.useCallback)(e=>t(gp(e)),[t]),i=(0,K.useCallback)(e=>{let n=e.key===`ArrowUp`?1:e.key===`ArrowDown`?-1:0;if(n){e.preventDefault();let r=e.altKey?.1:e.shiftKey?10:1;t(e=>parseFloat(e)+n*r)}},[t]);return K.createElement(xm,Qp({},n,{onUpdate:r,onKeyDown:i,type:`number`}))}var Cm=Q(`div`,{}),wm=Q(`div`,{position:`relative`,background:`$elevation2`,transition:`height 300ms ease`,variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:`$md`,"&::after":{content:`""`,position:`absolute`,left:0,top:0,width:`$borderWidths$folder`,height:`100%`,backgroundColor:`$folderWidgetColor`,opacity:.4,transform:`translateX(-50%)`}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:`auto`,maxHeight:`calc(100vh - 20px - $$titleBarHeight)`}},{isRoot:!0,flat:!1,css:{borderRadius:`$lg`}}]}),Tm=Q(`div`,{$flex:``,color:`$folderTextColor`,userSelect:`none`,cursor:`pointer`,height:`$folderTitleHeight`,fontWeight:`$folder`,"> svg":{marginLeft:-4,marginRight:4,cursor:`pointer`,fill:`$folderWidgetColor`,opacity:.6},"&:hover > svg":{fill:`$folderWidgetColor`},[`&:hover + ${wm}::after`]:{opacity:.6},[`${Cm}:hover > & + ${wm}::after`]:{opacity:.6},[`${Cm}:hover > & > svg`]:{opacity:1}}),Em=Q(`div`,{position:`relative`,display:`grid`,gridTemplateColumns:`100%`,rowGap:`$rowGap`,transition:`opacity 250ms ease`,variants:{toggled:{true:{opacity:1,transitionDelay:`250ms`},false:{opacity:0,transitionDelay:`0ms`,pointerEvents:`none`}},isRoot:{true:{"& > div":{paddingLeft:`$md`,paddingRight:`$md`},"& > div:first-of-type":{paddingTop:`$sm`},"& > div:last-of-type":{paddingBottom:`$sm`},[`> ${Cm}:not(:first-of-type)`]:{paddingTop:`$sm`,marginTop:`$md`,borderTop:`$borderWidths$folder solid $colors$elevation1`}}}}}),Dm=Q(`div`,{position:`relative`,zIndex:100,display:`grid`,rowGap:`$rowGap`,gridTemplateRows:`minmax($sizes$rowHeight, max-content)`,alignItems:`center`,color:`$highlight2`,[`${Em} > &`]:{"&:first-of-type":{marginTop:`$rowGap`},"&:last-of-type":{marginBottom:`$rowGap`}},variants:{disabled:{true:{pointerEvents:`none`},false:{"&:hover,&:focus-within":{color:`$highlight3`}}}}}),Om=Q(Dm,{gridTemplateColumns:`auto $sizes$controlWidth`,columnGap:`$colGap`}),km=Q(`div`,{$flex:``,height:`100%`,position:`relative`,overflow:`hidden`,"& > div":{marginLeft:`$colGap`,padding:`0 $xs`,opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:`none`,cursor:`pointer`,width:13,minWidth:13,height:13,backgroundColor:`$elevation2`},"&:hover > div > svg":{display:`block`},variants:{align:{top:{height:`100%`,alignItems:`flex-start`,paddingTop:`$sm`}}}}),Am=Q(`input`,{$reset:``,height:0,width:0,opacity:0,margin:0,"& + label":{position:`relative`,$flexCenter:``,height:`100%`,userSelect:`none`,cursor:`pointer`,paddingLeft:2,paddingRight:`$sm`,pointerEvents:`auto`},"& + label:after":{content:`""`,width:6,height:6,backgroundColor:`$elevation3`,borderRadius:`50%`,$activeStyle:``},"&:focus + label:after":{$focusStyle:``},"& + label:active:after":{backgroundColor:`$accent1`,$focusStyle:``},"&:checked + label:after":{backgroundColor:`$accent1`}}),jm=Q(`label`,{fontWeight:`$label`,overflow:`hidden`,textOverflow:`ellipsis`,whiteSpace:`nowrap`,"& > svg":{display:`block`}}),Mm=Q(`div`,{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:`none`,[`& ${jm}`]:{pointerEvents:`auto`}}}}}),Nm=Q(`div`,{position:`fixed`,top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:`none`}),Pm=Q(`div`,{background:`$toolTipBackground`,fontFamily:`$sans`,fontSize:`$toolTip`,padding:`$xs $sm`,color:`$toolTipText`,borderRadius:`$xs`,boxShadow:`$level2`,maxWidth:260}),Fm=Q(qf,{fill:`$toolTipBackground`});function Im({children:e,container:t=(e=>globalThis==null||(e=globalThis.document)==null?void 0:e.body)()}){let{className:n}=(0,K.useContext)(tm);return K.createElement(vs,{className:n,container:t},e)}var Lm=[`align`];function Rm(){let{id:e,disable:t,disabled:n}=em();return K.createElement(K.Fragment,null,K.createElement(Am,{id:e+`__disable`,type:`checkbox`,checked:!n,onChange:()=>t(!n)}),K.createElement(`label`,{htmlFor:e+`__disable`}))}function zm(e){let{id:t,optional:n,hint:r}=em(),i=e.htmlFor||t||void 0,a=!r&&typeof e.children==`string`?e.children:void 0;return K.createElement(K.Fragment,null,n&&K.createElement(Rm,null),r===void 0?K.createElement(jm,Qp({htmlFor:i,title:a},e)):K.createElement(Wf,null,K.createElement(Gf,{asChild:!0},K.createElement(jm,Qp({htmlFor:i},e))),K.createElement(Kf,{side:`top`,sideOffset:2},K.createElement(Pm,null,r,K.createElement(Fm,null)))))}function Bm(e){let{align:t}=e,n=X(e,Lm),{value:r,label:i,key:a,disabled:o}=em(),{hideCopyButton:s}=am(),c=!s&&a!==void 0,[l,u]=(0,K.useState)(!1);return K.createElement(km,{align:t,onPointerLeave:()=>u(!1)},K.createElement(zm,n),c&&!o&&K.createElement(`div`,{title:`Click to copy ${typeof i==`string`?i:a} value`},l?K.createElement(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 20 20`,fill:`currentColor`},K.createElement(`path`,{d:`M9 2a1 1 0 000 2h2a1 1 0 100-2H9z`}),K.createElement(`path`,{fillRule:`evenodd`,d:`M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z`,clipRule:`evenodd`})):K.createElement(`svg`,{onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:r??``})),u(!0)}catch{Qf(Yf.CLIPBOARD_ERROR,{[a]:r})}},xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 20 20`,fill:`currentColor`},K.createElement(`path`,{d:`M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z`}),K.createElement(`path`,{d:`M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z`}))))}var Vm=[`toggled`],Hm=Q(`svg`,{fill:`currentColor`,transition:`transform 350ms ease, fill 250ms ease`});function Um(e){let{toggled:t}=e,n=X(e,Vm);return K.createElement(Hm,Qp({width:`9`,height:`5`,viewBox:`0 0 9 5`,xmlns:`http://www.w3.org/2000/svg`,style:{transform:`rotate(${t?0:-90}deg)`}},n),K.createElement(`path`,{d:`M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z`}))}var Wm=[`input`];function Gm(e){let{input:t}=e,n=X(e,Wm);return t?K.createElement(Om,n):K.createElement(Dm,n)}function Km({value:e,type:t,settings:n,setValue:r}){let[i,a]=(0,K.useState)(up(t,e,n)),o=(0,K.useRef)(e),s=(0,K.useRef)(n);s.current=n;let c=(0,K.useCallback)(e=>a(up(t,e,s.current)),[t]),l=(0,K.useCallback)(e=>{try{r(e)}catch(e){let{type:t,previousValue:n}=e;if(t!==`LEVA_ERROR`)throw e;c(n)}},[c,r]);return(0,K.useEffect)(()=>{bs(e,o.current)||c(e),o.current=e},[e,c]),{displayValue:i,onChange:a,onUpdate:l}}function qm(e,t){let{emitOnEditStart:n,emitOnEditEnd:r}=em();return nr(t=>{t.first&&(document.body.classList.add(`leva__panel__dragged`),n?.());let i=e(t);return t.last&&(document.body.classList.remove(`leva__panel__dragged`),r?.()),i},t)}function Jm(e){let t=(0,K.useRef)(null),n=(0,K.useRef)(null),r=(0,K.useRef)(!1);return(0,K.useEffect)(()=>{let i=Hp(()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)},250);return window.addEventListener(`resize`,i),r.current||=(i(),!0),()=>window.removeEventListener(`resize`,i)},[e]),(0,K.useEffect)(()=>{n.current=t.current.getContext(`2d`)},[]),[t,n]}function Ym(){let e=(0,K.useRef)(null),t=(0,K.useRef)({x:0,y:0}),n=(0,K.useCallback)(n=>{Object.assign(t.current,n),e.current&&(e.current.style.transform=`translate3d(${t.current.x}px, ${t.current.y}px, 0)`)},[]);return[e,n]}var Xm=[`__refCount`],Zm=(e,t)=>{if(!e[t])return null;let n=e[t];return X(n,Xm)};function Qm(e){let t=im(),[n,r]=(0,K.useState)(Zm(t.getData(),e)),i=(0,K.useCallback)(n=>t.setValueAtPath(e,n,!0),[e,t]),a=(0,K.useCallback)(n=>t.setSettingsAtPath(e,n),[e,t]),o=(0,K.useCallback)(n=>t.disableInputAtPath(e,n),[e,t]),s=(0,K.useCallback)(()=>t.emitOnEditStart(e),[e,t]),c=(0,K.useCallback)(()=>t.emitOnEditEnd(e),[e,t]);return(0,K.useEffect)(()=>{r(Zm(t.getData(),e));let n=t.useStore.subscribe(t=>Zm(t.data,e),r,{equalityFn:xs});return()=>n()},[t,e]),[n,{set:i,setSettings:a,disable:o,storeId:t.storeId,emitOnEditStart:s,emitOnEditEnd:c}]}var $m=Q(`div`,{variants:{hasRange:{true:{position:`relative`,display:`grid`,gridTemplateColumns:`auto $sizes$numberInputMinWidth`,columnGap:`$colGap`,alignItems:`center`}}}}),eh=Q(`div`,{position:`relative`,width:`100%`,height:2,borderRadius:`$xs`,backgroundColor:`$elevation1`}),th=Q(`div`,{position:`absolute`,width:`$scrubberWidth`,height:`$scrubberHeight`,borderRadius:`$xs`,boxShadow:`0 0 0 2px $colors$elevation2`,backgroundColor:`$accent2`,cursor:`pointer`,$active:`none $accent1`,$hover:`none $accent3`,variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:`translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))`},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:`translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))`}}}}),nh=Q(`div`,{position:`relative`,$flex:``,height:`100%`,cursor:`pointer`,touchAction:`none`}),rh=Q(`div`,{position:`absolute`,height:`100%`,backgroundColor:`$accent2`});function ih({value:e,min:t,max:n,onDrag:r,step:i,initialValue:a}){let o=(0,K.useRef)(null),s=(0,K.useRef)(null),c=(0,K.useRef)(0),l=mm(`sizes`,`scrubberWidth`),u=qm(({event:u,first:d,xy:[f],movement:[p],memo:m})=>{if(d){let{width:r,left:i}=o.current.getBoundingClientRect();c.current=r-parseFloat(l),m=u?.target===s.current?e:bp((f-i)/r,t,n)}let h=m+bp(p/c.current,0,n-t);return r(Xp(h,{step:i,initialValue:a})),m}),d=yp(e,t,n);return K.createElement(nh,Qp({ref:o},u()),K.createElement(eh,null,K.createElement(rh,{style:{left:0,right:`${(1-d)*100}%`}})),K.createElement(th,{ref:s,style:{left:`calc(${d} * (100% - ${l}))`}}))}var ah=K.memo(({label:e,onUpdate:t,step:n,innerLabelTrim:r})=>{let[i,a]=(0,K.useState)(!1),o=qm(({active:e,delta:[r],event:i,memo:o=0,first:s,last:c,target:l})=>(s&&l.requestPointerLock(),c&&document.exitPointerLock(),a(e),o+=r/2,Math.abs(o)>=1&&(t(e=>parseFloat(e)+Math.floor(o)*n*Up(i)),o=0),o));return K.createElement(_m,Qp({dragging:i,title:e.length>1?e:``},o()),e.slice(0,r))});function oh({label:e,id:t,displayValue:n,onUpdate:r,onChange:i,settings:a,innerLabelTrim:o=1}){let s=o>0&&K.createElement(ah,{label:e,step:a.step,onUpdate:r,innerLabelTrim:o});return K.createElement(Sm,{id:t,value:String(n),onUpdate:r,onChange:i,innerLabel:s})}function sh(){let e=em(),{label:t,value:n,onUpdate:r,settings:i,id:a}=e,{min:o,max:s}=i,c=s!==1/0&&o!==-1/0;return K.createElement(Gm,{input:!0},K.createElement(Bm,null,t),K.createElement($m,{hasRange:c},c&&K.createElement(ih,Qp({value:parseFloat(n),onDrag:r},i)),K.createElement(oh,Qp({},e,{id:a,label:`value`,innerLabelTrim:c?0:1}))))}var{sanitizeStep:ch}=Zp,lh=X(Zp,[`sanitizeStep`]),uh=sp(Z({component:sh},lh)),dh=Object.freeze({__proto__:null,schema:(e,t)=>Us().schema({options:Us().passesAnyOf(Us().object(),Us().array())}).test(t),sanitize:(e,{values:t})=>{if(t.indexOf(e)<0)throw Error(`Selected value doesn't match Select options`);return e},format:(e,{values:t})=>t.indexOf(e),normalize:e=>{let{value:t,options:n}=e,r,i;return Array.isArray(n)?(i=n,r=n.map(e=>String(e))):(i=Object.values(n),r=Object.keys(n)),`value`in e?i.includes(t)||(r.unshift(String(t)),i.unshift(t)):t=i[0],Object.values(n).includes(t)||(n[String(t)]=t),{value:t,settings:{keys:r,values:i}}}}),fh=Q(`div`,{$flexCenter:``,position:`relative`,"> svg":{pointerEvents:`none`,position:`absolute`,right:`$md`}}),ph=Q(`select`,{position:`absolute`,top:0,left:0,width:`100%`,height:`100%`,opacity:0}),mh=Q(`div`,{display:`flex`,alignItems:`center`,width:`100%`,height:`$rowHeight`,backgroundColor:`$elevation3`,borderRadius:`$sm`,padding:`0 $sm`,cursor:`pointer`,[`${ph}:focus + &`]:{$focusStyle:``},[`${ph}:hover + &`]:{$hoverStyle:``}});function hh({displayValue:e,value:t,onUpdate:n,id:r,settings:i,disabled:a}){let{keys:o,values:s}=i,c=(0,K.useRef)();return t===s[e]&&(c.current=o[e]),K.createElement(fh,null,K.createElement(ph,{id:r,value:e,onChange:e=>n(s[Number(e.currentTarget.value)]),disabled:a},o.map((e,t)=>K.createElement(`option`,{key:e,value:t},e))),K.createElement(mh,null,c.current),K.createElement(Um,{toggled:!0}))}function gh(){let{label:e,value:t,displayValue:n,onUpdate:r,id:i,disabled:a,settings:o}=em();return K.createElement(Gm,{input:!0},K.createElement(Bm,null,e),K.createElement(hh,{id:i,value:t,displayValue:n,onUpdate:r,settings:o,disabled:a}))}var _h=sp(Z({component:gh},dh)),vh=Object.freeze({__proto__:null,schema:e=>Us().string().test(e),sanitize:e=>{if(typeof e!=`string`)throw Error(`Invalid string`);return e},normalize:({value:e,editable:t=!0,rows:n=!1})=>({value:e,settings:{editable:t,rows:typeof n==`number`?n:n?5:0}})}),yh=[`displayValue`,`onUpdate`,`onChange`,`editable`],bh=Q(`div`,{whiteSpace:`pre-wrap`});function xh(e){let{displayValue:t,onUpdate:n,onChange:r,editable:i=!0}=e,a=X(e,yh);return i?K.createElement(xm,Qp({value:t,onUpdate:n,onChange:r},a)):K.createElement(bh,null,t)}function Sh(){let{label:e,settings:t,displayValue:n,onUpdate:r,onChange:i}=em();return K.createElement(Gm,{input:!0},K.createElement(Bm,null,e),K.createElement(xh,Qp({displayValue:n,onUpdate:r,onChange:i},t)))}var Ch=sp(Z({component:Sh},vh)),wh=Object.freeze({__proto__:null,schema:e=>Us().boolean().test(e),sanitize:e=>{if(typeof e!=`boolean`)throw Error(`Invalid boolean`);return e}}),Th=Q(`div`,{position:`relative`,$flex:``,height:`$rowHeight`,input:{$reset:``,height:0,width:0,opacity:0,margin:0},label:{position:`relative`,$flexCenter:``,userSelect:`none`,cursor:`pointer`,height:`$checkboxSize`,width:`$checkboxSize`,backgroundColor:`$elevation3`,borderRadius:`$sm`,$hover:``},"input:focus + label":{$focusStyle:``},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:`$accent3`},"input + label:active":{backgroundColor:`$accent1`},"input:checked + label:active":{backgroundColor:`$accent1`},"label > svg":{display:`none`,width:`90%`,height:`90%`,stroke:`$highlight3`},"input:checked + label":{backgroundColor:`$accent2`},"input:checked + label > svg":{display:`block`}});function Eh({value:e,onUpdate:t,id:n,disabled:r}){return K.createElement(Th,null,K.createElement(`input`,{id:n,type:`checkbox`,checked:e,onChange:e=>t(e.currentTarget.checked),disabled:r}),K.createElement(`label`,{htmlFor:n},K.createElement(`svg`,{xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`},K.createElement(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M5 13l4 4L19 7`}))))}function Dh(){let{label:e,value:t,onUpdate:n,disabled:r,id:i}=em();return K.createElement(Gm,{input:!0},K.createElement(Bm,null,e),K.createElement(Eh,{value:t,onUpdate:n,id:i,disabled:r}))}var Oh=sp(Z({component:Dh},wh)),kh=[`locked`];function Ah({value:e,id:t,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:a}){let o=(0,K.useRef)(e[n]);o.current=e[n];let s=(0,K.useCallback)(e=>i({[n]:Vp({type:`NUMBER`,value:o.current,settings:r},e)}),[i,r,n]),c=Km({type:`NUMBER`,value:e[n],settings:r,setValue:s});return K.createElement(oh,{id:t,label:n,value:e[n],displayValue:c.displayValue,onUpdate:c.onUpdate,onChange:c.onChange,settings:r,innerLabelTrim:a})}var jh=Q(`div`,{display:`grid`,columnGap:`$colGap`,gridAutoFlow:`column dense`,alignItems:`center`,variants:{withLock:{true:{gridTemplateColumns:`10px auto`,"> svg":{cursor:`pointer`}}}}});function Mh(e){let{locked:t}=e,n=X(e,kh);return K.createElement(`svg`,Qp({width:`10`,height:`10`,viewBox:`0 0 15 15`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`},n),t?K.createElement(`path`,{d:`M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z`,fill:`currentColor`,fillRule:`evenodd`,clipRule:`evenodd`}):K.createElement(`path`,{d:`M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z`,fill:`currentColor`,fillRule:`evenodd`,clipRule:`evenodd`}))}function Nh({value:e,onUpdate:t,settings:n,innerLabelTrim:r}){let{id:i,setSettings:a}=em(),{lock:o,locked:s}=n;return K.createElement(jh,{withLock:o},o&&K.createElement(Mh,{locked:s,onClick:()=>a({locked:!s})}),Object.keys(e).map((a,o)=>K.createElement(Ah,{id:o===0?i:`${i}.${a}`,key:a,valueKey:a,value:e,settings:n[a],onUpdate:t,innerLabelTrim:r})))}var Ph=(e,t)=>{let n={},r=0,i=1/0;for(let a in Object.entries(e).forEach(([e,a])=>{n[e]=Yp(Z({value:a},t[e])).settings,r=Math.max(r,n[e].step),i=Math.min(i,n[e].pad)}),n){let{step:e,min:o,max:s}=t[a]||{};!isFinite(e)&&(!isFinite(o)||!isFinite(s))&&(n[a].step=r,n[a].pad=i)}return n},Fh=[`lock`],Ih=[`value`];function Lh(e){let t=Us().array().length(e).every.number(),n=t=>{if(!t||typeof t!=`object`)return!1;let n=Object.values(t);return n.length===e&&n.every(e=>isFinite(e))};return e=>t.test(e)||n(e)}function Rh(e){return Array.isArray(e)?`array`:`object`}function zh(e,t,n){return Rh(e)===t?e:t===`array`?Object.values(e):kp(e,n)}var Bh=(e,t,n)=>{let r=zh(e,`object`,t.keys);for(let e in r)r[e]=qp(r[e],t[e]);let i=Object.keys(r),a={};if(i.length===t.keys.length)a=r;else{let e=zh(n,`object`,t.keys);if(i.length===1&&t.locked){let t=i[0],n=r[t],o=e[t],s=o===0?1:n/o;for(let r in e)r===t?a[t]=n:a[r]=e[r]*s}else a=Z(Z({},e),r)}return zh(a,t.format,t.keys)},Vh=(e,t)=>zh(e,`object`,t.keys),Hh=e=>!!e&&(`step`in e||`min`in e||`max`in e);function Uh(e,t,n=[]){let{lock:r=!1}=t,i=X(t,Fh),a=Array.isArray(e)?`array`:`object`,o=a===`object`?Object.keys(e):n,s=zh(e,`object`,o),c=Hh(i)?o.reduce((e,t)=>Object.assign(e,{[t]:i}),{}):i,l=Ph(s,c);return{value:a===`array`?e:s,settings:Z(Z({},l),{},{format:a,keys:o,lock:r,locked:!1})}}function Wh(e){return{schema:Lh(e.length),normalize:t=>{let{value:n}=t,r=X(t,Ih);return Uh(n,r,e)},format:(e,t)=>Vh(e,t),sanitize:(e,t,n)=>Bh(e,t,n)}}var Gh={grad:.9,turn:360,rad:360/(2*Math.PI)},Kh=function(e){return typeof e==`string`?e.length>0:typeof e==`number`},qh=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=10**t),Math.round(n*e)/n+0},Jh=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},Yh=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Xh=function(e){return{r:Jh(e.r,0,255),g:Jh(e.g,0,255),b:Jh(e.b,0,255),a:Jh(e.a)}},Zh=function(e){return{r:qh(e.r),g:qh(e.g),b:qh(e.b),a:qh(e.a,3)}},Qh=/^#([0-9a-f]{3,8})$/i,$h=function(e){var t=e.toString(16);return t.length<2?`0`+t:t},eg=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:60*(s<0?s+6:s),s:a?o/a*100:0,v:a/255*100,a:i}},tg=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),c=r*(1-(1-t+a)*n),l=a%6;return{r:255*[r,s,o,o,c,r][l],g:255*[c,r,r,s,o,o][l],b:255*[o,o,c,r,r,s][l],a:i}},ng=function(e){return{h:Yh(e.h),s:Jh(e.s,0,100),l:Jh(e.l,0,100),a:Jh(e.a)}},rg=function(e){return{h:qh(e.h),s:qh(e.s),l:qh(e.l),a:qh(e.a,3)}},ig=function(e){return tg((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},ag=function(e){return{h:(t=eg(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},og=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sg=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cg=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lg=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ug={string:[[function(e){var t=Qh.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?qh(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?qh(parseInt(e.substr(6,2),16)/255,2):1}:null:null},`hex`],[function(e){var t=cg.exec(e)||lg.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Xh({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},`rgb`],[function(e){var t=og.exec(e)||sg.exec(e);if(!t)return null;var n,r,i=ng({h:(n=t[1],r=t[2],r===void 0&&(r=`deg`),Number(n)*(Gh[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return ig(i)},`hsl`]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=i===void 0?1:i;return Kh(t)&&Kh(n)&&Kh(r)?Xh({r:Number(t),g:Number(n),b:Number(r),a:Number(a)}):null},`rgb`],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,a=i===void 0?1:i;if(!Kh(t)||!Kh(n)||!Kh(r))return null;var o=ng({h:Number(t),s:Number(n),l:Number(r),a:Number(a)});return ig(o)},`hsl`],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=i===void 0?1:i;if(!Kh(t)||!Kh(n)||!Kh(r))return null;var o=function(e){return{h:Yh(e.h),s:Jh(e.s,0,100),v:Jh(e.v,0,100),a:Jh(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(a)});return tg(o)},`hsv`]]},dg=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},fg=function(e){return typeof e==`string`?dg(e.trim(),ug.string):typeof e==`object`&&e?dg(e,ug.object):[null,void 0]},pg=function(e){return fg(e)[1]},mg=function(e,t){var n=ag(e);return{h:n.h,s:Jh(n.s+100*t,0,100),l:n.l,a:n.a}},hg=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},gg=function(e,t){var n=ag(e);return{h:n.h,s:n.s,l:Jh(n.l+100*t,0,100),a:n.a}},_g=function(){function e(e){this.parsed=fg(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return qh(hg(this.rgba),2)},e.prototype.isDark=function(){return hg(this.rgba)<.5},e.prototype.isLight=function(){return hg(this.rgba)>=.5},e.prototype.toHex=function(){return e=Zh(this.rgba),t=e.r,n=e.g,r=e.b,a=(i=e.a)<1?$h(qh(255*i)):``,`#`+$h(t)+$h(n)+$h(r)+a;var e,t,n,r,i,a},e.prototype.toRgb=function(){return Zh(this.rgba)},e.prototype.toRgbString=function(){return e=Zh(this.rgba),t=e.r,n=e.g,r=e.b,(i=e.a)<1?`rgba(`+t+`, `+n+`, `+r+`, `+i+`)`:`rgb(`+t+`, `+n+`, `+r+`)`;var e,t,n,r,i},e.prototype.toHsl=function(){return rg(ag(this.rgba))},e.prototype.toHslString=function(){return e=rg(ag(this.rgba)),t=e.h,n=e.s,r=e.l,(i=e.a)<1?`hsla(`+t+`, `+n+`%, `+r+`%, `+i+`)`:`hsl(`+t+`, `+n+`%, `+r+`%)`;var e,t,n,r,i},e.prototype.toHsv=function(){return e=eg(this.rgba),{h:qh(e.h),s:qh(e.s),v:qh(e.v),a:qh(e.a,3)};var e},e.prototype.invert=function(){return vg({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return e===void 0&&(e=.1),vg(mg(this.rgba,e))},e.prototype.desaturate=function(e){return e===void 0&&(e=.1),vg(mg(this.rgba,-e))},e.prototype.grayscale=function(){return vg(mg(this.rgba,-1))},e.prototype.lighten=function(e){return e===void 0&&(e=.1),vg(gg(this.rgba,e))},e.prototype.darken=function(e){return e===void 0&&(e=.1),vg(gg(this.rgba,-e))},e.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return typeof e==`number`?vg({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):qh(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=ag(this.rgba);return typeof e==`number`?vg({h:e,s:t.s,l:t.l,a:t.a}):qh(t.h)},e.prototype.isEqual=function(e){return this.toHex()===vg(e).toHex()},e}(),vg=function(e){return e instanceof _g?e:new _g(e)},yg=[],bg=function(e){e.forEach(function(e){yg.indexOf(e)<0&&(e(_g,ug),yg.push(e))})};function xg(e,t){var n={white:`#ffffff`,bisque:`#ffe4c4`,blue:`#0000ff`,cadetblue:`#5f9ea0`,chartreuse:`#7fff00`,chocolate:`#d2691e`,coral:`#ff7f50`,antiquewhite:`#faebd7`,aqua:`#00ffff`,azure:`#f0ffff`,whitesmoke:`#f5f5f5`,papayawhip:`#ffefd5`,plum:`#dda0dd`,blanchedalmond:`#ffebcd`,black:`#000000`,gold:`#ffd700`,goldenrod:`#daa520`,gainsboro:`#dcdcdc`,cornsilk:`#fff8dc`,cornflowerblue:`#6495ed`,burlywood:`#deb887`,aquamarine:`#7fffd4`,beige:`#f5f5dc`,crimson:`#dc143c`,cyan:`#00ffff`,darkblue:`#00008b`,darkcyan:`#008b8b`,darkgoldenrod:`#b8860b`,darkkhaki:`#bdb76b`,darkgray:`#a9a9a9`,darkgreen:`#006400`,darkgrey:`#a9a9a9`,peachpuff:`#ffdab9`,darkmagenta:`#8b008b`,darkred:`#8b0000`,darkorchid:`#9932cc`,darkorange:`#ff8c00`,darkslateblue:`#483d8b`,gray:`#808080`,darkslategray:`#2f4f4f`,darkslategrey:`#2f4f4f`,deeppink:`#ff1493`,deepskyblue:`#00bfff`,wheat:`#f5deb3`,firebrick:`#b22222`,floralwhite:`#fffaf0`,ghostwhite:`#f8f8ff`,darkviolet:`#9400d3`,magenta:`#ff00ff`,green:`#008000`,dodgerblue:`#1e90ff`,grey:`#808080`,honeydew:`#f0fff0`,hotpink:`#ff69b4`,blueviolet:`#8a2be2`,forestgreen:`#228b22`,lawngreen:`#7cfc00`,indianred:`#cd5c5c`,indigo:`#4b0082`,fuchsia:`#ff00ff`,brown:`#a52a2a`,maroon:`#800000`,mediumblue:`#0000cd`,lightcoral:`#f08080`,darkturquoise:`#00ced1`,lightcyan:`#e0ffff`,ivory:`#fffff0`,lightyellow:`#ffffe0`,lightsalmon:`#ffa07a`,lightseagreen:`#20b2aa`,linen:`#faf0e6`,mediumaquamarine:`#66cdaa`,lemonchiffon:`#fffacd`,lime:`#00ff00`,khaki:`#f0e68c`,mediumseagreen:`#3cb371`,limegreen:`#32cd32`,mediumspringgreen:`#00fa9a`,lightskyblue:`#87cefa`,lightblue:`#add8e6`,midnightblue:`#191970`,lightpink:`#ffb6c1`,mistyrose:`#ffe4e1`,moccasin:`#ffe4b5`,mintcream:`#f5fffa`,lightslategray:`#778899`,lightslategrey:`#778899`,navajowhite:`#ffdead`,navy:`#000080`,mediumvioletred:`#c71585`,powderblue:`#b0e0e6`,palegoldenrod:`#eee8aa`,oldlace:`#fdf5e6`,paleturquoise:`#afeeee`,mediumturquoise:`#48d1cc`,mediumorchid:`#ba55d3`,rebeccapurple:`#663399`,lightsteelblue:`#b0c4de`,mediumslateblue:`#7b68ee`,thistle:`#d8bfd8`,tan:`#d2b48c`,orchid:`#da70d6`,mediumpurple:`#9370db`,purple:`#800080`,pink:`#ffc0cb`,skyblue:`#87ceeb`,springgreen:`#00ff7f`,palegreen:`#98fb98`,red:`#ff0000`,yellow:`#ffff00`,slateblue:`#6a5acd`,lavenderblush:`#fff0f5`,peru:`#cd853f`,palevioletred:`#db7093`,violet:`#ee82ee`,teal:`#008080`,slategray:`#708090`,slategrey:`#708090`,aliceblue:`#f0f8ff`,darkseagreen:`#8fbc8f`,darkolivegreen:`#556b2f`,greenyellow:`#adff2f`,seagreen:`#2e8b57`,seashell:`#fff5ee`,tomato:`#ff6347`,silver:`#c0c0c0`,sienna:`#a0522d`,lavender:`#e6e6fa`,lightgreen:`#90ee90`,orange:`#ffa500`,orangered:`#ff4500`,steelblue:`#4682b4`,royalblue:`#4169e1`,turquoise:`#40e0d0`,yellowgreen:`#9acd32`,salmon:`#fa8072`,saddlebrown:`#8b4513`,sandybrown:`#f4a460`,rosybrown:`#bc8f8f`,darksalmon:`#e9967a`,lightgoldenrodyellow:`#fafad2`,snow:`#fffafa`,lightgrey:`#d3d3d3`,lightgray:`#d3d3d3`,dimgray:`#696969`,dimgrey:`#696969`,olivedrab:`#6b8e23`,olive:`#808000`},r={};for(var i in n)r[n[i]]=i;var a={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return`transparent`;var i,o,s=r[this.toHex()];if(s)return s;if(t?.closest){var c=this.toRgb(),l=1/0,u=`black`;if(!a.length)for(var d in n)a[d]=new e(n[d]).toRgb();for(var f in n){var p=(i=c,o=a[f],(i.r-o.r)**2+(i.g-o.g)**2+(i.b-o.b)**2);p<l&&(l=p,u=f)}return u}},t.string.push([function(t){var r=t.toLowerCase(),i=r===`transparent`?`#0000`:n[r];return i?new e(i).toRgb():null},`name`])}function Sg(){return(Sg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cg(e,t){if(e==null)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}function wg(e){var t=(0,K.useRef)(e),n=(0,K.useRef)(function(e){t.current&&t.current(e)});return t.current=e,n.current}var Tg=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Eg=function(e){return`touches`in e},Dg=function(e){return e&&e.ownerDocument.defaultView||self},Og=function(e,t,n){var r=e.getBoundingClientRect(),i=Eg(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:Tg((i.pageX-(r.left+Dg(e).pageXOffset))/r.width),top:Tg((i.pageY-(r.top+Dg(e).pageYOffset))/r.height)}},kg=function(e){!Eg(e)&&e.preventDefault()},Ag=K.memo(function(e){var t=e.onMove,n=e.onKey,r=Cg(e,[`onMove`,`onKey`]),i=(0,K.useRef)(null),a=wg(t),o=wg(n),s=(0,K.useRef)(null),c=(0,K.useRef)(!1),l=(0,K.useMemo)(function(){var e=function(e){kg(e),(Eg(e)?e.touches.length>0:e.buttons>0)&&i.current?a(Og(i.current,e,s.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=c.current,a=Dg(i.current),o=n?a.addEventListener:a.removeEventListener;o(r?`touchmove`:`mousemove`,e),o(r?`touchend`:`mouseup`,t)}return[function(e){var t=e.nativeEvent,r=i.current;if(r&&(kg(t),!function(e,t){return t&&!Eg(e)}(t,c.current)&&r)){if(Eg(t)){c.current=!0;var o=t.changedTouches||[];o.length&&(s.current=o[0].identifier)}r.focus(),a(Og(r,t,s.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),o({left:t===39?.05:t===37?-.05:0,top:t===40?.05:t===38?-.05:0}))},n]},[o,a]),u=l[0],d=l[1],f=l[2];return(0,K.useEffect)(function(){return f},[f]),K.createElement(`div`,Sg({},r,{onTouchStart:u,onMouseDown:u,className:`react-colorful__interactive`,ref:i,onKeyDown:d,tabIndex:0,role:`slider`}))}),jg=function(e){return e.filter(Boolean).join(` `)},Mg=function(e){var t=e.color,n=e.left,r=e.top,i=r===void 0?.5:r,a=jg([`react-colorful__pointer`,e.className]);return K.createElement(`div`,{className:a,style:{top:100*i+`%`,left:100*n+`%`}},K.createElement(`div`,{className:`react-colorful__pointer-fill`,style:{backgroundColor:t}}))},Ng=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=10**t),Math.round(n*e)/n};360/(2*Math.PI);var Pg=function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:Ng(e.h),s:Ng(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:Ng(i/2),a:Ng(r,2)}},Fg=function(e){var t=Pg(e);return`hsl(`+t.h+`, `+t.s+`%, `+t.l+`%)`},Ig=function(e){var t=Pg(e);return`hsla(`+t.h+`, `+t.s+`%, `+t.l+`%, `+t.a+`)`},Lg=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),c=r*(1-(1-t+a)*n),l=a%6;return{r:Ng(255*[r,s,o,o,c,r][l]),g:Ng(255*[c,r,r,s,o,o][l]),b:Ng(255*[o,o,c,r,r,s][l]),a:Ng(i,2)}},Rg=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:Ng(60*(s<0?s+6:s)),s:Ng(a?o/a*100:0),v:Ng(a/255*100),a:i}},zg=K.memo(function(e){var t=e.hue,n=e.onChange,r=jg([`react-colorful__hue`,e.className]);return K.createElement(`div`,{className:r},K.createElement(Ag,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:Tg(t+360*e.left,0,360)})},"aria-label":`Hue`,"aria-valuenow":Ng(t),"aria-valuemax":`360`,"aria-valuemin":`0`},K.createElement(Mg,{className:`react-colorful__hue-pointer`,left:t/360,color:Fg({h:t,s:100,v:100,a:1})})))}),Bg=K.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Fg({h:t.h,s:100,v:100,a:1})};return K.createElement(`div`,{className:`react-colorful__saturation`,style:r},K.createElement(Ag,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:Tg(t.s+100*e.left,0,100),v:Tg(t.v-100*e.top,0,100)})},"aria-label":`Color`,"aria-valuetext":`Saturation `+Ng(t.s)+`%, Brightness `+Ng(t.v)+`%`},K.createElement(Mg,{className:`react-colorful__saturation-pointer`,top:1-t.v/100,left:t.s/100,color:Fg(t)})))}),Vg=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function Hg(e,t,n){var r=wg(n),i=(0,K.useState)(function(){return e.toHsva(t)}),a=i[0],o=i[1],s=(0,K.useRef)({color:t,hsva:a});(0,K.useEffect)(function(){if(!e.equal(t,s.current.color)){var n=e.toHsva(t);s.current={hsva:n,color:t},o(n)}},[t,e]),(0,K.useEffect)(function(){var t;Vg(a,s.current.hsva)||e.equal(t=e.fromHsva(a),s.current.color)||(s.current={hsva:a,color:t},r(t))},[a,e,r]);var c=(0,K.useCallback)(function(e){o(function(t){return Object.assign({},t,e)})},[]);return[a,c]}var Ug,Wg=typeof window<`u`?K.useLayoutEffect:K.useEffect,Gg=function(){return Ug||(typeof __webpack_nonce__<`u`?__webpack_nonce__:void 0)},Kg=new Map,qg=function(e){Wg(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Kg.has(t)){var n=t.createElement(`style`);n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Kg.set(t,n);var r=Gg();r&&n.setAttribute(`nonce`,r),t.head.appendChild(n)}},[])},Jg=function(e){var t=e.className,n=e.colorModel,r=e.color,i=r===void 0?n.defaultColor:r,a=e.onChange,o=Cg(e,[`className`,`colorModel`,`color`,`onChange`]),s=(0,K.useRef)(null);qg(s);var c=Hg(n,i,a),l=c[0],u=c[1],d=jg([`react-colorful`,t]);return K.createElement(`div`,Sg({},o,{ref:s,className:d}),K.createElement(Bg,{hsva:l,onChange:u}),K.createElement(zg,{hue:l.h,onChange:u,className:`react-colorful__last-control`}))},Yg=function(e){var t=e.className,n=e.hsva,r=e.onChange,i={backgroundImage:`linear-gradient(90deg, `+Ig(Object.assign({},n,{a:0}))+`, `+Ig(Object.assign({},n,{a:1}))+`)`},a=jg([`react-colorful__alpha`,t]),o=Ng(100*n.a);return K.createElement(`div`,{className:a},K.createElement(`div`,{className:`react-colorful__alpha-gradient`,style:i}),K.createElement(Ag,{onMove:function(e){r({a:e.left})},onKey:function(e){r({a:Tg(n.a+e.left)})},"aria-label":`Alpha`,"aria-valuetext":o+`%`,"aria-valuenow":o,"aria-valuemin":`0`,"aria-valuemax":`100`},K.createElement(Mg,{className:`react-colorful__alpha-pointer`,left:n.a,color:Ig(n)})))},Xg=function(e){var t=e.className,n=e.colorModel,r=e.color,i=r===void 0?n.defaultColor:r,a=e.onChange,o=Cg(e,[`className`,`colorModel`,`color`,`onChange`]),s=(0,K.useRef)(null);qg(s);var c=Hg(n,i,a),l=c[0],u=c[1],d=jg([`react-colorful`,t]);return K.createElement(`div`,Sg({},o,{ref:s,className:d}),K.createElement(Bg,{hsva:l,onChange:u}),K.createElement(zg,{hue:l.h,onChange:u}),K.createElement(Yg,{hsva:l,onChange:u,className:`react-colorful__last-control`}))},Zg={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Rg,fromHsva:Lg,equal:Vg},Qg=function(e){return K.createElement(Xg,Sg({},e,{colorModel:Zg}))},$g={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return Rg({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(t=Lg(e)).r,g:t.g,b:t.b};var t},equal:Vg},e_=function(e){return K.createElement(Jg,Sg({},e,{colorModel:$g}))},t_=e(((e,t)=>{t.exports=`SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED`})),n_=e(((e,t)=>{var n=t_();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name=`Invariant Violation`,s}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}})),r_=e(((e,t)=>{t.exports=n_()()}));function i_(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function a_(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator==`function`?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function o_(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function s_(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o_(arguments[t]));return e}var c_=new Map([[`aac`,`audio/aac`],[`abw`,`application/x-abiword`],[`arc`,`application/x-freearc`],[`avif`,`image/avif`],[`avi`,`video/x-msvideo`],[`azw`,`application/vnd.amazon.ebook`],[`bin`,`application/octet-stream`],[`bmp`,`image/bmp`],[`bz`,`application/x-bzip`],[`bz2`,`application/x-bzip2`],[`cda`,`application/x-cdf`],[`csh`,`application/x-csh`],[`css`,`text/css`],[`csv`,`text/csv`],[`doc`,`application/msword`],[`docx`,`application/vnd.openxmlformats-officedocument.wordprocessingml.document`],[`eot`,`application/vnd.ms-fontobject`],[`epub`,`application/epub+zip`],[`gz`,`application/gzip`],[`gif`,`image/gif`],[`heic`,`image/heic`],[`heif`,`image/heif`],[`htm`,`text/html`],[`html`,`text/html`],[`ico`,`image/vnd.microsoft.icon`],[`ics`,`text/calendar`],[`jar`,`application/java-archive`],[`jpeg`,`image/jpeg`],[`jpg`,`image/jpeg`],[`js`,`text/javascript`],[`json`,`application/json`],[`jsonld`,`application/ld+json`],[`mid`,`audio/midi`],[`midi`,`audio/midi`],[`mjs`,`text/javascript`],[`mp3`,`audio/mpeg`],[`mp4`,`video/mp4`],[`mpeg`,`video/mpeg`],[`mpkg`,`application/vnd.apple.installer+xml`],[`odp`,`application/vnd.oasis.opendocument.presentation`],[`ods`,`application/vnd.oasis.opendocument.spreadsheet`],[`odt`,`application/vnd.oasis.opendocument.text`],[`oga`,`audio/ogg`],[`ogv`,`video/ogg`],[`ogx`,`application/ogg`],[`opus`,`audio/opus`],[`otf`,`font/otf`],[`png`,`image/png`],[`pdf`,`application/pdf`],[`php`,`application/x-httpd-php`],[`ppt`,`application/vnd.ms-powerpoint`],[`pptx`,`application/vnd.openxmlformats-officedocument.presentationml.presentation`],[`rar`,`application/vnd.rar`],[`rtf`,`application/rtf`],[`sh`,`application/x-sh`],[`svg`,`image/svg+xml`],[`swf`,`application/x-shockwave-flash`],[`tar`,`application/x-tar`],[`tif`,`image/tiff`],[`tiff`,`image/tiff`],[`ts`,`video/mp2t`],[`ttf`,`font/ttf`],[`txt`,`text/plain`],[`vsd`,`application/vnd.visio`],[`wav`,`audio/wav`],[`weba`,`audio/webm`],[`webm`,`video/webm`],[`webp`,`image/webp`],[`woff`,`font/woff`],[`woff2`,`font/woff2`],[`xhtml`,`application/xhtml+xml`],[`xls`,`application/vnd.ms-excel`],[`xlsx`,`application/vnd.openxmlformats-officedocument.spreadsheetml.sheet`],[`xml`,`application/xml`],[`xul`,`application/vnd.mozilla.xul+xml`],[`zip`,`application/zip`],[`7z`,`application/x-7z-compressed`],[`mkv`,`video/x-matroska`],[`mov`,`video/quicktime`],[`msg`,`application/vnd.ms-outlook`]]);function l_(e,t){var n=u_(e);if(typeof n.path!=`string`){var r=e.webkitRelativePath;Object.defineProperty(n,`path`,{value:typeof t==`string`?t:typeof r==`string`&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function u_(e){var t=e.name;if(t&&t.lastIndexOf(`.`)!==-1&&!e.type){var n=t.split(`.`).pop().toLowerCase(),r=c_.get(n);r&&Object.defineProperty(e,`type`,{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}var d_=[`.DS_Store`,`Thumbs.db`];function f_(e){return i_(this,void 0,void 0,function(){return a_(this,function(t){return h_(e)&&p_(e)?[2,v_(e.dataTransfer,e.type)]:m_(e)?[2,g_(e)]:Array.isArray(e)&&e.every(function(e){return`getFile`in e&&typeof e.getFile==`function`})?[2,__(e)]:[2,[]]})})}function p_(e){return h_(e.dataTransfer)}function m_(e){return h_(e)&&h_(e.target)}function h_(e){return typeof e==`object`&&!!e}function g_(e){return b_(e.target.files).map(function(e){return l_(e)})}function __(e){return i_(this,void 0,void 0,function(){var t;return a_(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(e){return e.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(e){return l_(e)})]}})})}function v_(e,t){return i_(this,void 0,void 0,function(){var n,r;return a_(this,function(i){switch(i.label){case 0:return e===null?[2,[]]:e.items?(n=b_(e.items).filter(function(e){return e.kind===`file`}),t===`drop`?[4,Promise.all(n.map(x_))]:[2,n]):[3,2];case 1:return r=i.sent(),[2,y_(S_(r))];case 2:return[2,y_(b_(e.files).map(function(e){return l_(e)}))]}})})}function y_(e){return e.filter(function(e){return d_.indexOf(e.name)===-1})}function b_(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function x_(e){if(typeof e.webkitGetAsEntry!=`function`)return C_(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?T_(t):C_(e)}function S_(e){return e.reduce(function(e,t){return s_(e,Array.isArray(t)?S_(t):[t])},[])}function C_(e){var t=e.getAsFile();if(!t)return Promise.reject(e+` is not a File`);var n=l_(t);return Promise.resolve(n)}function w_(e){return i_(this,void 0,void 0,function(){return a_(this,function(t){return[2,e.isDirectory?T_(e):E_(e)]})})}function T_(e){var t=e.createReader();return new Promise(function(e,n){var r=[];function i(){var a=this;t.readEntries(function(t){return i_(a,void 0,void 0,function(){var a,o,s;return a_(this,function(c){switch(c.label){case 0:if(t.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=c.sent(),e(a),[3,4];case 3:return o=c.sent(),n(o),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(w_)),r.push(s),i(),c.label=6;case 6:return[2]}})})},function(e){n(e)})}i()})}function E_(e){return i_(this,void 0,void 0,function(){return a_(this,function(t){return[2,new Promise(function(t,n){e.file(function(n){var r=l_(n,e.fullPath);t(r)},function(e){n(e)})})]})})}var D_=e((e=>{e.__esModule=!0,e.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(`,`);if(n.length===0)return!0;var r=e.name||``,i=(e.type||``).toLowerCase(),a=i.replace(/\/.*$/,``);return n.some(function(e){var t=e.trim().toLowerCase();return t.charAt(0)===`.`?r.toLowerCase().endsWith(t):t.endsWith(`/*`)?a===t.replace(/\/.*$/,``):i===t})}return!0}})),$=i(r_()),O_=i(D_());function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?k_(Object(n),!0).forEach(function(t){j_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M_(e,t){return L_(e)||I_(e,t)||P_(e,t)||N_()}function N_(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_(e,t){if(e){if(typeof e==`string`)return F_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(e,t)}}function F_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I_(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(e){a=!0,s=e}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function L_(e){if(Array.isArray(e))return e}var R_=`file-invalid-type`,z_=`file-too-large`,B_=`file-too-small`,V_=`too-many-files`,H_=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?`one of ${e.join(`, `)}`:e;return{code:R_,message:`File type must be ${t}`}},U_=function(e){return{code:z_,message:`File is larger than ${e} ${e===1?`byte`:`bytes`}`}},W_=function(e){return{code:B_,message:`File is smaller than ${e} ${e===1?`byte`:`bytes`}`}},G_={code:V_,message:`Too many files`};function K_(e,t){var n=e.type===`application/x-moz-file`||(0,O_.default)(e,t);return[n,n?null:H_(t)]}function q_(e,t,n){if(J_(e.size)){if(J_(t)&&J_(n)){if(e.size>n)return[!1,U_(n)];if(e.size<t)return[!1,W_(t)]}else if(J_(t)&&e.size<t)return[!1,W_(t)];else if(J_(n)&&e.size>n)return[!1,U_(n)]}return[!0,null]}function J_(e){return e!=null}function Y_(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles;return!a&&t.length>1||a&&o>=1&&t.length>o?!1:t.every(function(e){var t=K_(e,n),a=M_(t,1)[0],o=q_(e,r,i),s=M_(o,1)[0];return a&&s})}function X_(e){return typeof e.isPropagationStopped==`function`?e.isPropagationStopped():e.cancelBubble===void 0?!1:e.cancelBubble}function Z_(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return e===`Files`||e===`application/x-moz-file`}):!!e.target&&!!e.target.files}function Q_(e){e.preventDefault()}function $_(e){return e.indexOf(`MSIE`)!==-1||e.indexOf(`Trident/`)!==-1}function ev(e){return e.indexOf(`Edge/`)!==-1}function tv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $_(e)||ev(e)}function nv(){var e=[...arguments];return function(t){var n=[...arguments].slice(1);return e.some(function(e){return!X_(t)&&e&&e.apply(void 0,[t].concat(n)),X_(t)})}}function rv(){return`showOpenFilePicker`in window}function iv(e){return e=typeof e==`string`?e.split(`,`):e,[{description:`everything`,accept:Array.isArray(e)?e.filter(function(e){return e===`audio/*`||e===`video/*`||e===`image/*`||e===`text/*`||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return A_(A_({},e),{},j_({},t,[]))},{}):{}}]}function av(e){return e instanceof DOMException&&(e.name===`AbortError`||e.code===e.ABORT_ERR)}function ov(e){return e instanceof DOMException&&(e.name===`SecurityError`||e.code===e.SECURITY_ERR)}var sv=[`children`],cv=[`open`],lv=[`refKey`,`role`,`onKeyDown`,`onFocus`,`onBlur`,`onClick`,`onDragEnter`,`onDragOver`,`onDragLeave`,`onDrop`],uv=[`refKey`,`onChange`,`onClick`];function dv(e){return mv(e)||pv(e)||_v(e)||fv()}function fv(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pv(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function mv(e){if(Array.isArray(e))return vv(e)}function hv(e,t){return bv(e)||yv(e,t)||_v(e,t)||gv()}function gv(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _v(e,t){if(e){if(typeof e==`string`)return vv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vv(e,t)}}function vv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yv(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(e){a=!0,s=e}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function bv(e){if(Array.isArray(e))return e}function xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?xv(Object(n),!0).forEach(function(t){Cv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wv(e,t){if(e==null)return{};var n=Tv(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tv(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Ev=(0,K.forwardRef)(function(e,t){var n=e.children,r=wv(e,sv),i=kv(r),a=i.open,o=wv(i,cv);return(0,K.useImperativeHandle)(t,function(){return{open:a}},[a]),K.createElement(K.Fragment,null,n(Sv(Sv({},o),{},{open:a})))});Ev.displayName=`Dropzone`;var Dv={disabled:!1,getFilesFromEvent:f_,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Ev.defaultProps=Dv,Ev.propTypes={children:$.default.func,accept:$.default.oneOfType([$.default.string,$.default.arrayOf($.default.string)]),multiple:$.default.bool,preventDropOnDocument:$.default.bool,noClick:$.default.bool,noKeyboard:$.default.bool,noDrag:$.default.bool,noDragEventsBubbling:$.default.bool,minSize:$.default.number,maxSize:$.default.number,maxFiles:$.default.number,disabled:$.default.bool,getFilesFromEvent:$.default.func,onFileDialogCancel:$.default.func,onFileDialogOpen:$.default.func,useFsAccessApi:$.default.bool,onDragEnter:$.default.func,onDragLeave:$.default.func,onDragOver:$.default.func,onDrop:$.default.func,onDropAccepted:$.default.func,onDropRejected:$.default.func,validator:$.default.func};var Ov={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function kv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Sv(Sv({},Dv),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,s=t.multiple,c=t.maxFiles,l=t.onDragEnter,u=t.onDragLeave,d=t.onDragOver,f=t.onDrop,p=t.onDropAccepted,m=t.onDropRejected,h=t.onFileDialogCancel,g=t.onFileDialogOpen,_=t.useFsAccessApi,v=t.preventDropOnDocument,y=t.noClick,b=t.noKeyboard,x=t.noDrag,S=t.noDragEventsBubbling,C=t.validator,w=(0,K.useMemo)(function(){return typeof g==`function`?g:jv},[g]),T=(0,K.useMemo)(function(){return typeof h==`function`?h:jv},[h]),E=(0,K.useRef)(null),D=(0,K.useRef)(null),O=(0,K.useReducer)(Av,Ov),k=hv(O,2),A=k[0],j=k[1],M=A.isFocused,ee=A.isFileDialogActive,te=A.draggedFiles,ne=(0,K.useRef)(typeof window<`u`&&window.isSecureContext&&_&&rv()),re=function(){!ne.current&&ee&&setTimeout(function(){D.current&&(D.current.files.length||(j({type:`closeDialog`}),T()))},300)};(0,K.useEffect)(function(){return window.addEventListener(`focus`,re,!1),function(){window.removeEventListener(`focus`,re,!1)}},[D,ee,T,ne]);var ie=(0,K.useRef)([]),ae=function(e){E.current&&E.current.contains(e.target)||(e.preventDefault(),ie.current=[])};(0,K.useEffect)(function(){return v&&(document.addEventListener(`dragover`,Q_,!1),document.addEventListener(`drop`,ae,!1)),function(){v&&(document.removeEventListener(`dragover`,Q_),document.removeEventListener(`drop`,ae))}},[E,v]);var N=(0,K.useCallback)(function(e){e.preventDefault(),e.persist(),V(e),ie.current=[].concat(dv(ie.current),[e.target]),Z_(e)&&Promise.resolve(i(e)).then(function(t){X_(e)&&!S||(j({draggedFiles:t,isDragActive:!0,type:`setDraggedFiles`}),l&&l(e))})},[i,l,S]),oe=(0,K.useCallback)(function(e){e.preventDefault(),e.persist(),V(e);var t=Z_(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect=`copy`}catch{}return t&&d&&d(e),!1},[d,S]),P=(0,K.useCallback)(function(e){e.preventDefault(),e.persist(),V(e);var t=ie.current.filter(function(e){return E.current&&E.current.contains(e)}),n=t.indexOf(e.target);n!==-1&&t.splice(n,1),ie.current=t,!(t.length>0)&&(j({isDragActive:!1,type:`setDraggedFiles`,draggedFiles:[]}),Z_(e)&&u&&u(e))},[E,u,S]),se=(0,K.useCallback)(function(e,t){var r=[],i=[];e.forEach(function(e){var t=K_(e,n),s=hv(t,2),c=s[0],l=s[1],u=q_(e,o,a),d=hv(u,2),f=d[0],p=d[1],m=C?C(e):null;if(c&&f&&!m)r.push(e);else{var h=[l,p];m&&(h=h.concat(m)),i.push({file:e,errors:h.filter(function(e){return e})})}}),(!s&&r.length>1||s&&c>=1&&r.length>c)&&(r.forEach(function(e){i.push({file:e,errors:[G_]})}),r.splice(0)),j({acceptedFiles:r,fileRejections:i,type:`setFiles`}),f&&f(r,i,t),i.length>0&&m&&m(i,t),r.length>0&&p&&p(r,t)},[j,s,n,o,a,c,f,p,m,C]),F=(0,K.useCallback)(function(e){e.preventDefault(),e.persist(),V(e),ie.current=[],Z_(e)&&Promise.resolve(i(e)).then(function(t){X_(e)&&!S||se(t,e)}),j({type:`reset`})},[i,se,S]),ce=(0,K.useCallback)(function(){if(ne.current){j({type:`openDialog`}),w();var e={multiple:s,types:iv(n)};window.showOpenFilePicker(e).then(function(e){return i(e)}).then(function(e){se(e,null),j({type:`closeDialog`})}).catch(function(e){av(e)?(T(e),j({type:`closeDialog`})):ov(e)&&(ne.current=!1,D.current&&(D.current.value=null,D.current.click()))});return}D.current&&(j({type:`openDialog`}),w(),D.current.value=null,D.current.click())},[j,w,T,_,se,n,s]),I=(0,K.useCallback)(function(e){!E.current||!E.current.isEqualNode(e.target)||(e.key===` `||e.key===`Enter`||e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),ce())},[E,ce]),L=(0,K.useCallback)(function(){j({type:`focus`})},[]),R=(0,K.useCallback)(function(){j({type:`blur`})},[]),z=(0,K.useCallback)(function(){y||(tv()?setTimeout(ce,0):ce())},[y,ce]),B=function(e){return r?null:e},le=function(e){return b?null:B(e)},ue=function(e){return x?null:B(e)},V=function(e){S&&e.stopPropagation()},H=(0,K.useMemo)(function(){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.refKey,n=t===void 0?`ref`:t,i=e.role,a=e.onKeyDown,o=e.onFocus,s=e.onBlur,c=e.onClick,l=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,f=e.onDrop,p=wv(e,lv);return Sv(Sv(Cv({onKeyDown:le(nv(a,I)),onFocus:le(nv(o,L)),onBlur:le(nv(s,R)),onClick:B(nv(c,z)),onDragEnter:ue(nv(l,N)),onDragOver:ue(nv(u,oe)),onDragLeave:ue(nv(d,P)),onDrop:ue(nv(f,F)),role:typeof i==`string`&&i!==``?i:`button`},n,E),!r&&!b?{tabIndex:0}:{}),p)}},[E,I,L,R,z,N,oe,P,F,b,x,r]),de=(0,K.useCallback)(function(e){e.stopPropagation()},[]),fe=(0,K.useMemo)(function(){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.refKey,r=t===void 0?`ref`:t,i=e.onChange,a=e.onClick,o=wv(e,uv),c=Cv({accept:n,multiple:s,type:`file`,style:{display:`none`},onChange:B(nv(i,F)),onClick:B(nv(a,de)),tabIndex:-1},r,D);return Sv(Sv({},c),o)}},[D,n,s,F,r]),pe=te.length,me=pe>0&&Y_({files:te,accept:n,minSize:o,maxSize:a,multiple:s,maxFiles:c}),he=pe>0&&!me;return Sv(Sv({},A),{},{isDragAccept:me,isDragReject:he,isFocused:M&&!r,getRootProps:H,getInputProps:fe,rootRef:E,inputRef:D,open:B(ce)})}function Av(e,t){switch(t.type){case`focus`:return Sv(Sv({},e),{},{isFocused:!0});case`blur`:return Sv(Sv({},e),{},{isFocused:!1});case`openDialog`:return Sv(Sv({},Ov),{},{isFileDialogActive:!0});case`closeDialog`:return Sv(Sv({},e),{},{isFileDialogActive:!1});case`setDraggedFiles`:var n=t.isDragActive,r=t.draggedFiles;return Sv(Sv({},e),{},{draggedFiles:r,isDragActive:n});case`setFiles`:return Sv(Sv({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case`reset`:return Sv({},Ov);default:return e}}function jv(){}function Mv(e){let t,n=new Set,r=(e,r)=>{let i=typeof e==`function`?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a=(e,r=i,a=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function s(){let n=r(t);if(!a(o,n)){let t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)},o={setState:r,getState:i,subscribe:(e,t,r)=>t||r?a(e,t,r):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}var Nv=typeof window>`u`||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?K.useEffect:K.useLayoutEffect;function Pv(e){let t=typeof e==`function`?Mv(e):e,n=(e=t.getState,n=Object.is)=>{let[,r]=(0,K.useReducer)(e=>e+1,0),i=t.getState(),a=(0,K.useRef)(i),o=(0,K.useRef)(e),s=(0,K.useRef)(n),c=(0,K.useRef)(!1),l=(0,K.useRef)();l.current===void 0&&(l.current=e(i));let u,d=!1;(a.current!==i||o.current!==e||s.current!==n||c.current)&&(u=e(i),d=!n(l.current,u)),Nv(()=>{d&&(l.current=u),a.current=i,o.current=e,s.current=n,c.current=!1});let f=(0,K.useRef)(i);Nv(()=>{let e=()=>{try{let e=t.getState(),n=o.current(e);s.current(l.current,n)||(a.current=e,l.current=n,r())}catch{c.current=!0,r()}},n=t.subscribe(e);return t.getState()!==f.current&&e(),n},[]);let p=d?u:l.current;return(0,K.useDebugValue)(p),p};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn(`[useStore, api] = create() is deprecated and will be removed in v4`);let e=[n,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},n}var Fv=e=>(t,n,r)=>{let i=r.subscribe;return r.subscribe=(e,t,n)=>{let a=e;if(t){let i=n?.equalityFn||Object.is,o=e(r.getState());a=n=>{let r=e(n);if(!i(o,r)){let e=o;t(o=r,e)}},n?.fireImmediately&&t(o,o)}return i(a)},e(t,n,r)},Iv=e(((e,t)=>{t.exports=function(e){return typeof e==`object`&&!!e&&Array.isArray(e)===!1}})),Lv=e(((e,t)=>{var n=Iv();function r(e){return n(e)===!0&&Object.prototype.toString.call(e)===`[object Object]`}t.exports=function(e){var t,n;return!(r(e)===!1||(t=e.constructor,typeof t!=`function`)||(n=t.prototype,r(n)===!1)||n.hasOwnProperty(`isPrototypeOf`)===!1)}})),Rv=e(((e,t)=>{var n=Lv();t.exports=function(e){return n(e)||typeof e==`function`||Array.isArray(e)}})),zv=e(((e,t)=>{t.exports=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e)===!1)break}})),Bv=e(((e,t)=>{var n=Rv(),r=zv();function i(e,t){for(var n=arguments.length,i=0;++i<n;){var s=arguments[i];o(s)&&r(s,a,e)}return e}function a(e,t){if(s(t)){var n=this[t];o(e)&&o(n)?i(n,e):this[t]=e}}function o(e){return n(e)&&!Array.isArray(e)}function s(e){return e!==`__proto__`&&e!==`constructor`&&e!==`prototype`}t.exports=i})),Vv=e(((e,t)=>{
/*!
* get-value <https://github.com/jonschlinkert/get-value>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/
t.exports=function(e,t,i,a,o){if(!n(e)||!t)return e;if(t=r(t),i&&(t+=`.`+r(i)),a&&(t+=`.`+r(a)),o&&(t+=`.`+r(o)),t in e)return e[t];for(var s=t.split(`.`),c=s.length,l=-1;e&&++l<c;){for(var u=s[l];u[u.length-1]===`\\`;)u=u.slice(0,-1)+`.`+s[++l];e=e[u]}return e};function n(e){return e!==null&&(typeof e==`object`||typeof e==`function`)}function r(e){return e?Array.isArray(e)?e.join(`.`):e:``}})),Hv=e(((e,t)=>{t.exports=function(e,t){if(e==null)throw TypeError(`expected first argument to be an object.`);if(t===void 0||typeof Symbol>`u`||typeof Object.getOwnPropertySymbols!=`function`)return e;for(var n=Object.prototype.propertyIsEnumerable,r=Object(e),i=arguments.length,a=0;++a<i;)for(var o=Object(arguments[a]),s=Object.getOwnPropertySymbols(o),c=0;c<s.length;c++){var l=s[c];n.call(o,l)&&(r[l]=o[l])}return r}})),Uv=e(((e,t)=>{var n=Rv(),r=Hv();t.exports=Object.assign||function(e){if(e==null)throw TypeError(`Cannot convert undefined or null to object`);s(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];a(n)&&(n=o(n)),s(n)&&(i(e,n),r(e,n))}return e};function i(e,t){for(var n in t)c(t,n)&&(e[n]=t[n])}function a(e){return e&&typeof e==`string`}function o(e){var t={};for(var n in e)t[n]=e[n];return t}function s(e){return e&&typeof e==`object`||n(e)}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}})),Wv=e(((e,t)=>{var n=Uv();t.exports=function(e,t,o){if(typeof e!=`string`)throw TypeError(`expected a string`);typeof t==`function`&&(o=t,t=null),typeof t==`string`&&(t={sep:t});var s=n({sep:`.`},t),c=s.quotes||[`"`,`'`,"`"],l;s.brackets===!0?l={"<":`>`,"(":`)`,"[":`]`,"{":`}`}:s.brackets&&(l=s.brackets);var u=[],d=[],f=[``],p=s.sep,m=e.length,h=-1,g;function _(){if(l&&d.length)return l[d[d.length-1]]}for(;++h<m;){var v=e[h],y=e[h+1],b={val:v,idx:h,arr:f,str:e};if(u.push(b),v===`\\`){b.val=a(s,e,h)===!0?v+y:y,b.escaped=!0,typeof o==`function`&&o(b),f[f.length-1]+=b.val,h++;continue}if(l&&l[v]){d.push(v);var x=_(),S=h+1;if(e.indexOf(x,S+1)!==-1)for(;d.length&&S<m;){var C=e[++S];if(C===`\\`){C++;continue}if(c.indexOf(C)!==-1){S=r(e,C,S+1);continue}if(x=_(),d.length&&e.indexOf(x,S+1)===-1)break;if(l[C]){d.push(C);continue}x===C&&d.pop()}if(g=S,g===-1){f[f.length-1]+=v;continue}v=e.slice(h,g+1),b.val=v,b.idx=h=g}if(c.indexOf(v)!==-1){if(g=r(e,v,h+1),g===-1){f[f.length-1]+=v;continue}v=i(v,s)===!0?e.slice(h,g+1):e.slice(h+1,g),b.val=v,b.idx=h=g}if(typeof o==`function`&&(o(b,u),v=b.val,h=b.idx),b.val===p&&b.split!==!1){f.push(``);continue}f[f.length-1]+=b.val}return f};function r(e,t,n,i){var a=e.indexOf(t,n);return e.charAt(a-1)===`\\`?r(e,t,a+1):a}function i(e,t){return t.keepDoubleQuotes===!0&&e===`"`||t.keepSingleQuotes===!0&&e===`'`?!0:t.keepQuotes}function a(e,t,n){return typeof e.keepEscaping==`function`?e.keepEscaping(t,n):e.keepEscaping===!0||t[n+1]===`\\`}})),Gv=e(((e,t)=>{t.exports=function(e){return e!=null&&(typeof e==`object`||typeof e==`function`)}})),Kv=e(((e,t)=>{var n=Gv();t.exports=function(e){n(e)||(e={});for(var t=arguments.length,i=1;i<t;i++){var a=arguments[i];n(a)&&r(e,a)}return e};function r(e,t){for(var n in t)i(t,n)&&(e[n]=t[n])}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}})),qv=e(((e,t)=>{var n=Wv(),r=Kv(),i=Lv(),a=Gv();t.exports=function(e,t,s){if(!a(e)||(Array.isArray(t)&&(t=[].concat.apply([],t).join(`.`)),typeof t!=`string`))return e;for(var c=n(t,{sep:`.`,brackets:!0}).filter(o),l=c.length,u=-1,d=e;++u<l;){var f=c[u];if(u!==l-1){a(d[f])||(d[f]={}),d=d[f];continue}i(d[f])&&i(s)?d[f]=r({},d[f],s):d[f]=s}return e};function o(e){return e!==`__proto__`&&e!==`constructor`&&e!==`prototype`}})),Jv=i(e(((e,t)=>{var n=Rv(),r=Bv(),i=Vv(),a=qv();t.exports=function(e,t,o){if(!n(e))throw TypeError(`expected an object`);if(typeof t!=`string`||o==null)return r.apply(null,arguments);if(typeof o==`string`)return a(e,t,o),e;var s=i(e,t);return n(o)&&n(s)&&(o=r({},s,o)),a(e,t,o),e}}))()),Yv=(...e)=>e.filter(Boolean).join(`.`);function Xv(e){let t=e.split(`.`);return[t.pop(),t.join(`.`)||void 0]}function Zv(e,t){return Object.entries(Dp(e,t)).reduce((e,[,{value:t,disabled:n,key:r}])=>(e[r]=n?void 0:t,e),{})}function Qv(e,t){let n=(0,K.useRef)();return(t?bs:xs)(e,n.current)||(n.current=e),n.current}function $v(e,t){return(0,K.useMemo)(e,Qv(t,!0)??[])}function ey(e){let t=(0,K.useRef)(null),n=(0,K.useRef)(null),r=(0,K.useRef)(!0);return(0,K.useLayoutEffect)(()=>{e||(t.current.style.height=`0px`,t.current.style.overflow=`hidden`)},[]),(0,K.useEffect)(()=>{if(r.current){r.current=!1;return}let i,a=t.current,o=()=>{e&&(a.style.removeProperty(`height`),a.style.removeProperty(`overflow`),n.current.scrollIntoView({behavior:`smooth`,block:`nearest`}))};a.addEventListener(`transitionend`,o,{once:!0});let{height:s}=n.current.getBoundingClientRect();return a.style.height=s+`px`,e||(a.style.overflow=`hidden`,i=window.setTimeout(()=>a.style.height=`0px`,50)),()=>{a.removeEventListener(`transitionend`,o),clearTimeout(i)}},[e]),{wrapperRef:t,contentRef:n}}var ty=e=>{let[t,n]=(0,K.useState)(e.getVisiblePaths());return(0,K.useEffect)(()=>{n(e.getVisiblePaths());let t=e.useStore.subscribe(e.getVisiblePaths,n,{equalityFn:xs});return()=>t()},[e]),t};function ny(e,t,n){return e.useStore(e=>{let r=Z(Z({},n),e.data);return Zv(r,t)},xs)}function ry(e=3){let t=(0,K.useRef)(null),n=(0,K.useRef)(null),[r,i]=(0,K.useState)(!1),a=(0,K.useCallback)(()=>i(!0),[]),o=(0,K.useCallback)(()=>i(!1),[]);return(0,K.useLayoutEffect)(()=>{if(r){let{bottom:r,top:i,left:a}=t.current.getBoundingClientRect(),{height:o}=n.current.getBoundingClientRect(),s=r+o>window.innerHeight-40?`up`:`down`;n.current.style.position=`fixed`,n.current.style.zIndex=`10000`,n.current.style.left=a+`px`,s===`down`?n.current.style.top=r+e+`px`:n.current.style.bottom=window.innerHeight-i+e+`px`}},[e,r]),{popinRef:t,wrapperRef:n,shown:r,show:a,hide:o}}bg([xg]);var iy={rgb:`toRgb`,hsl:`toHsl`,hsv:`toHsv`,hex:`toHex`};Us.extend({color:()=>e=>vg(e).isValid()});var ay=e=>Us().color().test(e);function oy(e,{format:t,hasAlpha:n,isString:r}){let i=iy[t]+(r&&t!==`hex`?`String`:``),a=e[i]();return typeof a==`object`&&!n?Op(a,[`a`]):a}var sy=(e,t)=>{let n=vg(e);if(!n.isValid())throw Error(`Invalid color`);return oy(n,t)},cy=Object.freeze({__proto__:null,schema:ay,sanitize:sy,format:(e,t)=>oy(vg(e),Z(Z({},t),{},{isString:!0,format:`hex`})),normalize:({value:e})=>{let t=pg(e),n=t===`name`?`hex`:t,r=typeof e==`object`?`a`in e:t===`hex`&&e.length===8||/^(rgba)|(hsla)|(hsva)/.test(e),i={format:n,hasAlpha:r,isString:typeof e==`string`};return{value:sy(e,i),settings:i}}}),ly=Q(`div`,{position:`relative`,boxSizing:`border-box`,borderRadius:`$sm`,overflow:`hidden`,cursor:`pointer`,height:`$rowHeight`,width:`$rowHeight`,backgroundColor:`#fff`,backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:``,$hover:``,zIndex:1,variants:{active:{true:{$inputStyle:`$accent1`}}},"&::before":{content:`""`,position:`absolute`,top:0,bottom:0,right:0,left:0,backgroundColor:`currentColor`,zIndex:1}}),uy=Q(`div`,{position:`relative`,display:`grid`,gridTemplateColumns:`$sizes$rowHeight auto`,columnGap:`$colGap`,alignItems:`center`}),dy=Q(`div`,{width:`$colorPickerWidth`,height:`$colorPickerHeight`,".react-colorful":{width:`100%`,height:`100%`,boxShadow:`$level2`,cursor:`crosshair`},".react-colorful__saturation":{borderRadius:`$sm $sm 0 0`},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:`0 0 $sm $sm`},".react-colorful__pointer":{height:12,width:12}});function fy(e,t){return t===`rgb`?e:vg(e).toRgb()}function py({value:e,displayValue:t,settings:n,onUpdate:r}){let{emitOnEditStart:i,emitOnEditEnd:a}=em(),{format:o,hasAlpha:s}=n,{popinRef:c,wrapperRef:l,shown:u,show:d,hide:f}=ry(),p=(0,K.useRef)(0),[m,h]=(0,K.useState)(()=>fy(e,o)),g=s?Qg:e_,_=()=>{h(fy(e,o)),d(),i()},v=()=>{f(),a(),window.clearTimeout(p.current)},y=()=>{p.current=window.setTimeout(v,500)};return(0,K.useEffect)(()=>()=>window.clearTimeout(p.current),[]),K.createElement(K.Fragment,null,K.createElement(ly,{ref:c,active:u,onClick:()=>_(),style:{color:t}}),u&&K.createElement(Im,null,K.createElement(Nm,{onPointerUp:v}),K.createElement(dy,{ref:l,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:e=>e.buttons===0&&y()},K.createElement(g,{color:m,onChange:r}))))}function my(){let{value:e,displayValue:t,label:n,onChange:r,onUpdate:i,settings:a}=em();return K.createElement(Gm,{input:!0},K.createElement(Bm,null,n),K.createElement(uy,null,K.createElement(py,{value:e,displayValue:t,onChange:r,onUpdate:i,settings:a}),K.createElement(xm,{value:t,onChange:r,onUpdate:i})))}var hy=sp(Z({component:my},cy));function gy(){let{label:e,displayValue:t,onUpdate:n,settings:r}=em();return K.createElement(Gm,{input:!0},K.createElement(Bm,null,e),K.createElement(Nh,{value:t,settings:r,onUpdate:n}))}var _y=sp(Z({component:gy},Wh([`x`,`y`,`z`]))),vy=Q(`div`,{$flexCenter:``,position:`relative`,backgroundColor:`$elevation3`,borderRadius:`$sm`,cursor:`pointer`,height:`$rowHeight`,width:`$rowHeight`,touchAction:`none`,$draggable:``,$hover:``,"&:active":{cursor:`none`},"&::after":{content:`""`,backgroundColor:`$accent2`,height:4,width:4,borderRadius:2}}),yy=Q(`div`,{$flexCenter:``,width:`$joystickWidth`,height:`$joystickHeight`,borderRadius:`$sm`,boxShadow:`$level2`,position:`fixed`,zIndex:1e4,overflow:`hidden`,$draggable:``,transform:`translate(-50%, -50%)`,variants:{isOutOfBounds:{true:{backgroundColor:`$elevation1`},false:{backgroundColor:`$elevation3`}}},"> div":{position:`absolute`,$flexCenter:``,borderStyle:`solid`,borderWidth:1,borderColor:`$highlight1`,backgroundColor:`$elevation3`,width:`80%`,height:`80%`,"&::after,&::before":{content:`""`,position:`absolute`,zindex:10,backgroundColor:`$highlight1`},"&::before":{width:`100%`,height:1},"&::after":{height:`100%`,width:1}},"> span":{position:`relative`,zindex:100,width:10,height:10,backgroundColor:`$accent2`,borderRadius:`50%`}});function by({value:e,settings:t,onUpdate:n}){let r=(0,K.useRef)(),i=(0,K.useRef)(0),a=(0,K.useRef)(0),o=(0,K.useRef)(1),[s,c]=(0,K.useState)(!1),[l,u]=(0,K.useState)(!1),[d,f]=Ym(),p=(0,K.useRef)(null),m=(0,K.useRef)(null);(0,K.useLayoutEffect)(()=>{if(s){let{top:e,left:t,width:n,height:r}=p.current.getBoundingClientRect();m.current.style.left=t+n/2+`px`,m.current.style.top=e+r/2+`px`}},[s]);let{keys:[h,g],joystick:_}=t,v=_===`invertY`?1:-1,{[h]:{step:y},[g]:{step:b}}=t,x=mm(`sizes`,`joystickWidth`),S=mm(`sizes`,`joystickHeight`),C=parseFloat(x)*.8/2,w=parseFloat(S)*.8/2,T=(0,K.useCallback)(()=>{r.current||=(u(!0),i.current&&f({x:i.current*C}),a.current&&f({y:a.current*-w}),window.setInterval(()=>{n(e=>{let t=y*i.current*o.current,n=v*b*a.current*o.current;return Array.isArray(e)?{[h]:e[0]+t,[g]:e[1]+n}:{[h]:e[h]+t,[g]:e[g]+n}})},16))},[C,w,n,f,y,b,h,g,v]),E=(0,K.useCallback)(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);(0,K.useEffect)(()=>{function e(e){o.current=Up(e)}return window.addEventListener(`keydown`,e),window.addEventListener(`keyup`,e),()=>{window.clearTimeout(r.current),window.removeEventListener(`keydown`,e),window.removeEventListener(`keyup`,e)}},[]);let D=qm(({first:t,active:r,delta:[s,l],movement:[u,d]})=>{t&&c(!0);let p=hp(u,-C,C),m=hp(d,-w,w);i.current=Math.abs(u)>Math.abs(p)?Math.sign(u-p):0,a.current=Math.abs(d)>Math.abs(m)?Math.sign(m-d):0;let _=e[h],x=e[g];r?(i.current||(_+=s*y*o.current,f({x:p})),a.current||(x-=v*l*b*o.current,f({y:m})),i.current||a.current?T():E(),n({[h]:_,[g]:x})):(c(!1),i.current=0,a.current=0,f({x:0,y:0}),E())});return K.createElement(vy,Qp({ref:p},D()),s&&K.createElement(Im,null,K.createElement(yy,{ref:m,isOutOfBounds:l},K.createElement(`div`,null),K.createElement(`span`,{ref:d}))))}var xy=Q(`div`,{display:`grid`,columnGap:`$colGap`,variants:{withJoystick:{true:{gridTemplateColumns:`$sizes$rowHeight auto`},false:{gridTemplateColumns:`auto`}}}});function Sy(){let{label:e,displayValue:t,onUpdate:n,settings:r}=em();return K.createElement(Gm,{input:!0},K.createElement(Bm,null,e),K.createElement(xy,{withJoystick:!!r.joystick},r.joystick&&K.createElement(by,{value:t,settings:r,onUpdate:n}),K.createElement(Nh,{value:t,settings:r,onUpdate:n})))}var Cy=[`joystick`],wy=Wh([`x`,`y`]),Ty=sp(Z(Z({component:Sy},wy),{},{normalize:e=>{let{joystick:t=!0}=e,n=X(e,Cy),{value:r,settings:i}=wy.normalize(n);return{value:r,settings:Z(Z({},i),{},{joystick:t})}}})),Ey=Object.freeze({__proto__:null,sanitize:e=>{if(e!==void 0){if(e instanceof File)try{return URL.createObjectURL(e)}catch{return}if(typeof e==`string`&&e.indexOf(`blob:`)===0)return e;throw Error(`Invalid image format [undefined | blob |\xA0File].`)}},schema:(e,t)=>typeof t==`object`&&`image`in t,normalize:({image:e})=>({value:e})}),Dy=Q(`div`,{position:`relative`,display:`grid`,gridTemplateColumns:`$sizes$rowHeight auto 20px`,columnGap:`$colGap`,alignItems:`center`}),Oy=Q(`div`,{$flexCenter:``,overflow:`hidden`,height:`$rowHeight`,background:`$elevation3`,textAlign:`center`,color:`inherit`,borderRadius:`$sm`,outline:`none`,userSelect:`none`,cursor:`pointer`,$inputStyle:``,$hover:``,$focusWithin:``,$active:`$accent1 $elevation1`,variants:{isDragAccept:{true:{$inputStyle:`$accent1`,backgroundColor:`$elevation1`}}}}),ky=Q(`div`,{boxSizing:`border-box`,borderRadius:`$sm`,height:`$rowHeight`,width:`$rowHeight`,$inputStyle:``,backgroundSize:`cover`,backgroundPosition:`center`,variants:{hasImage:{true:{cursor:`pointer`,$hover:``,$active:``}}}}),Ay=Q(`div`,{$flexCenter:``,width:`$imagePreviewWidth`,height:`$imagePreviewHeight`,borderRadius:`$sm`,boxShadow:`$level2`,pointerEvents:`none`,$inputStyle:``,backgroundSize:`cover`,backgroundPosition:`center`}),jy=Q(`div`,{fontSize:`0.8em`,height:`100%`,padding:`$rowGap $md`}),My=Q(`div`,{$flexCenter:``,top:`0`,right:`0`,marginRight:`$sm`,height:`100%`,cursor:`pointer`,variants:{disabled:{true:{color:`$elevation3`,cursor:`default`}}},"&::after,&::before":{content:`""`,position:`absolute`,height:2,width:10,borderRadius:1,backgroundColor:`currentColor`},"&::after":{transform:`rotate(45deg)`},"&::before":{transform:`rotate(-45deg)`}});function Ny(){let{label:e,value:t,onUpdate:n,disabled:r}=em(),{popinRef:i,wrapperRef:a,shown:o,show:s,hide:c}=ry(),l=(0,K.useCallback)(e=>{e.length&&n(e[0])},[n]),u=(0,K.useCallback)(e=>{e.stopPropagation(),n(void 0)},[n]),{getRootProps:d,getInputProps:f,isDragAccept:p}=kv({maxFiles:1,accept:`image/*`,onDrop:l,disabled:r});return K.createElement(Gm,{input:!0},K.createElement(Bm,null,e),K.createElement(Dy,null,K.createElement(ky,{ref:i,hasImage:!!t,onPointerDown:()=>!!t&&s(),onPointerUp:c,style:{backgroundImage:t?`url(${t})`:`none`}}),o&&!!t&&K.createElement(Im,null,K.createElement(Nm,{onPointerUp:c,style:{cursor:`pointer`}}),K.createElement(Ay,{ref:a,style:{backgroundImage:`url(${t})`}})),K.createElement(Oy,d({isDragAccept:p}),K.createElement(`input`,f()),K.createElement(jy,null,p?`drop image`:`click or drop`)),K.createElement(My,{onClick:u,disabled:!t})))}var Py=sp(Z({component:Ny},Ey)),Fy=Us().number(),Iy=(e,t)=>Us().array().length(2).every.number().test(e)&&Us().schema({min:Fy,max:Fy}).test(t),Ly=e=>({min:e[0],max:e[1]}),Ry=(e,{bounds:[t,n]},r)=>{let i=Array.isArray(e)?Ly(e):e,a={min:r[0],max:r[1]},{min:o,max:s}=Z(Z({},a),i);return[hp(Number(o),t,Math.max(t,s)),hp(Number(s),Math.min(n,o),n)]},zy=Object.freeze({__proto__:null,schema:Iy,format:Ly,sanitize:Ry,normalize:({value:e,min:t,max:n})=>{let r={min:t,max:n},i=Ph(Ly(e),{min:r,max:r}),a=[t,n],o=Z(Z({},i),{},{bounds:a});return{value:Ry(Ly(e),o,e),settings:o}}}),By=[`value`,`bounds`,`onDrag`],Vy=[`bounds`],Hy=Q(`div`,{display:`grid`,columnGap:`$colGap`,gridTemplateColumns:`auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)`});function Uy(e){let{value:t,bounds:[n,r],onDrag:i}=e,a=X(e,By),o=(0,K.useRef)(null),s=(0,K.useRef)(null),c=(0,K.useRef)(null),l=(0,K.useRef)(0),u=mm(`sizes`,`scrubberWidth`),d=qm(({event:e,first:d,xy:[f],movement:[p],memo:m={}})=>{if(d){let{width:i,left:a}=o.current.getBoundingClientRect();l.current=i-parseFloat(u);let d=e?.target===s.current||e?.target===c.current;m.pos=bp((f-a)/i,n,r);let p=Math.abs(m.pos-t.min)-Math.abs(m.pos-t.max);m.key=p<0||p===0&&m.pos<=t.min?`min`:`max`,d&&(m.pos=t[m.key])}let h=m.pos+bp(p/l.current,0,r-n);return i({[m.key]:ch(h,a[m.key])}),m}),f=`calc(${yp(t.min,n,r)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-yp(t.max,n,r)} * (100% - ${u} - 8px) + 4px)`;return K.createElement(nh,Qp({ref:o},d()),K.createElement(eh,null,K.createElement(rh,{style:{left:f,right:p}})),K.createElement(th,{position:`left`,ref:s,style:{left:f}}),K.createElement(th,{position:`right`,ref:c,style:{right:p}}))}function Wy(){let{label:e,displayValue:t,onUpdate:n,settings:r}=em(),i=X(r,Vy);return K.createElement(K.Fragment,null,K.createElement(Gm,{input:!0},K.createElement(Bm,null,e),K.createElement(Hy,null,K.createElement(Uy,Qp({value:t},r,{onDrag:n})),K.createElement(Nh,{value:t,settings:i,onUpdate:n,innerLabelTrim:0}))))}var Gy=sp(Z({component:Wy},zy)),Ky=()=>{let e=new Map;return{on:(t,n)=>{let r=e.get(t);r===void 0&&(r=new Set,e.set(t,r)),r.add(n)},off:(t,n)=>{let r=e.get(t);r!==void 0&&(r.delete(n),r.size===0&&e.delete(t))},emit:(t,...n)=>{let r=e.get(t);if(r!==void 0)for(let e of r)e(...n)}}},qy=[`type`,`value`],Jy=[`onChange`,`transient`,`onEditStart`,`onEditEnd`],Yy=new function(){let e=Pv(Fv(()=>({data:{}}))),t=Ky();this.storeId=xp(),this.useStore=e;let n={},r=new Set;this.getVisiblePaths=()=>{let e=this.getData(),t=Object.keys(e),i=[];Object.entries(n).forEach(([e,n])=>{n.render&&t.some(t=>t.indexOf(e)===0)&&!n.render(this.get)&&i.push(e+`.`)});let a=[];return r.forEach(t=>{t in e&&e[t].__refCount>0&&i.every(e=>t.indexOf(e)===-1)&&(!e[t].render||e[t].render(this.get))&&a.push(t)}),a},this.setOrderedPaths=e=>{e.forEach(e=>r.add(e))},this.orderPaths=e=>(this.setOrderedPaths(e),e),this.disposePaths=t=>{e.setState(e=>{let n=e.data;return t.forEach(e=>{if(e in n){let t=n[e];t.__refCount--,t.__refCount===0&&t.type in Mp&&delete n[e]}}),{data:n}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=e=>n[e]||{},this.getData=()=>e.getState().data,this.addData=(t,n)=>{e.setState(e=>{let r=e.data;return Object.entries(t).forEach(([e,t])=>{let i=r[e];if(i){let{type:r,value:a}=t,o=X(t,qy);r===i.type?((i.__refCount===0||n)&&Object.assign(i,o),i.__refCount++):Qf(Yf.INPUT_TYPE_OVERRIDE,e,i.type,r)}else r[e]=Z(Z({},t),{},{__refCount:1})}),{data:r}})},this.setValueAtPath=(t,n,r)=>{e.setState(e=>{let i=e.data;return zp(i[t],n,t,this,r),{data:i}})},this.setSettingsAtPath=(t,n)=>{e.setState(e=>{let r=e.data;return r[t].settings=Z(Z({},r[t].settings),n),{data:r}})},this.disableInputAtPath=(t,n)=>{e.setState(e=>{let r=e.data;return r[t].disabled=n,{data:r}})},this.set=(t,n)=>{e.setState(e=>{let r=e.data;return Object.entries(t).forEach(([e,t])=>{try{zp(r[e],t,void 0,void 0,n)}catch{}}),{data:r}})},this.getInput=e=>{try{return this.getData()[e]}catch{Qf(Yf.PATH_DOESNT_EXIST,e)}},this.get=e=>this.getInput(e)?.value,this.emitOnEditStart=e=>{t.emit(`onEditStart:${e}`,this.get(e),e,Z(Z({},this.getInput(e)),{},{get:this.get}))},this.emitOnEditEnd=e=>{t.emit(`onEditEnd:${e}`,this.get(e),e,Z(Z({},this.getInput(e)),{},{get:this.get}))},this.subscribeToEditStart=(e,n)=>{let r=`onEditStart:${e}`;return t.on(r,n),()=>t.off(r,n)},this.subscribeToEditEnd=(e,n)=>{let r=`onEditEnd:${e}`;return t.on(r,n),()=>t.off(r,n)};let i=(e,t,r)=>{let a={};return Object.entries(e).forEach(([e,o])=>{if(e===``)return Qf(Yf.EMPTY_KEY);let s=Yv(t,e);if(o.type===Mp.FOLDER){let e=i(o.schema,s,r);Object.assign(a,e),s in n||(n[s]=o.settings)}else if(e in r)Qf(Yf.DUPLICATE_KEYS,e,s,r[e].path);else{let t=Rp(o,e,s,a);if(t){let{type:n,options:i,input:o}=t,{onChange:c,transient:l,onEditStart:u,onEditEnd:d}=i,f=X(i,Jy);a[s]=Z(Z(Z({type:n},f),o),{},{fromPanel:!0}),r[e]={path:s,onChange:c,transient:l,onEditStart:u,onEditEnd:d}}else Qf(Yf.UNKNOWN_INPUT,s,o)}}),a};this.getDataFromSchema=e=>{let t={};return[i(e,``,t),t]}},Xy={collapsed:!1};function Zy(e,t){return{type:Mp.FOLDER,schema:e,settings:Z(Z({},Xy),t)}}var Qy=e=>`__levaInput`in e,$y=(e,t)=>{let n={},r=t?t.toLowerCase():null;return e.forEach(e=>{let[t,i]=Xv(e);(!r||t.toLowerCase().indexOf(r)>-1)&&(0,Jv.default)(n,i,{[t]:{__levaInput:!0,path:e}})}),n},eb=[`type`,`label`,`path`,`valueKey`,`value`,`settings`,`setValue`,`disabled`];function tb(e){let{type:t,label:n,path:r,valueKey:i,value:a,settings:o,setValue:s,disabled:c}=e,l=X(e,eb),{displayValue:u,onChange:d,onUpdate:f}=Km({type:t,value:a,settings:o,setValue:s}),p=ip[t].component;return p?K.createElement($p.Provider,{value:Z({key:i,path:r,id:``+r,label:n,displayValue:u,value:a,onChange:d,onUpdate:f,settings:o,setValue:s,disabled:c},l)},K.createElement(Mm,{disabled:c},K.createElement(p,null))):(Qf(Yf.NO_COMPONENT_FOR_TYPE,t,r),null)}var nb=Q(`button`,{display:`block`,$reset:``,fontWeight:`$button`,height:`$rowHeight`,borderStyle:`none`,borderRadius:`$sm`,backgroundColor:`$elevation1`,color:`$highlight1`,"&:not(:disabled)":{color:`$highlight3`,backgroundColor:`$accent2`,cursor:`pointer`,$hover:`$accent3`,$active:`$accent3 $accent1`,$focus:``}});function rb({onClick:e,settings:t,label:n}){let r=im();return K.createElement(Gm,null,K.createElement(nb,{disabled:t.disabled,onClick:()=>e(r.get)},n))}var ib=Q(`div`,{$flex:``,justifyContent:`flex-end`,gap:`$colGap`}),ab=Q(`button`,{$reset:``,cursor:`pointer`,borderRadius:`$xs`,"&:hover":{backgroundColor:`$elevation3`}}),ob=({label:e,opts:t})=>{let n=typeof e==`string`&&e.trim()===``?null:e,r=t;return typeof t.opts==`object`&&(r.label!==void 0&&(n=t.label),r=t.opts),{label:n,opts:r}};function sb(e){let{label:t,opts:n}=ob(e),r=im();return K.createElement(Gm,{input:!!t},t&&K.createElement(Bm,null,t),K.createElement(ib,null,Object.entries(n).map(([e,t])=>K.createElement(ab,{key:e,onClick:()=>t(r.get)},e))))}var cb=Q(`canvas`,{height:`$monitorHeight`,width:`100%`,display:`block`,borderRadius:`$sm`}),lb=100;function ub(e,t){e.push(t),e.length>lb&&e.shift()}var db=(0,K.forwardRef)(function({initialValue:e},t){let n=mm(`colors`,`highlight3`),r=mm(`colors`,`elevation2`),i=mm(`colors`,`highlight1`),[a,o]=(0,K.useMemo)(()=>[vg(i).alpha(.4).toRgbString(),vg(i).alpha(.1).toRgbString()],[i]),s=(0,K.useRef)([e]),c=(0,K.useRef)(e),l=(0,K.useRef)(e),u=(0,K.useRef)(),d=(0,K.useCallback)((e,t)=>{if(!e)return;let{width:i,height:u}=e,d=new Path2D,f=i/lb,p=u*.05;for(let e=0;e<s.current.length;e++){let t=yp(s.current[e],c.current,l.current),n=f*e,r=u-t*(u-p*2)-p;d.lineTo(n,r)}t.clearRect(0,0,i,u);let m=new Path2D(d);m.lineTo(f*(s.current.length+1),u),m.lineTo(0,u),m.lineTo(0,0);let h=t.createLinearGradient(0,0,0,u);h.addColorStop(0,a),h.addColorStop(1,o),t.fillStyle=h,t.fill(m),t.strokeStyle=r,t.lineJoin=`round`,t.lineWidth=14,t.stroke(d),t.strokeStyle=n,t.lineWidth=2,t.stroke(d)},[n,r,a,o]),[f,p]=Jm(d);return(0,K.useImperativeHandle)(t,()=>({frame:e=>{(c.current===void 0||e<c.current)&&(c.current=e),(l.current===void 0||e>l.current)&&(l.current=e),ub(s.current,e),u.current=requestAnimationFrame(()=>d(f.current,p.current))}}),[f,p,d]),(0,K.useEffect)(()=>()=>cancelAnimationFrame(u.current),[]),K.createElement(cb,{ref:f})}),fb=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),pb=(0,K.forwardRef)(function({initialValue:e},t){let[n,r]=(0,K.useState)(fb(e));return(0,K.useImperativeHandle)(t,()=>({frame:e=>r(fb(e))}),[]),K.createElement(`div`,null,n)});function mb(e){return typeof e==`function`?e():e.current}function hb({label:e,objectOrFn:t,settings:n}){let r=(0,K.useRef)(),i=(0,K.useRef)(mb(t));return(0,K.useEffect)(()=>{let e=window.setInterval(()=>{var e;document.hidden||(e=r.current)==null||e.frame(mb(t))},n.interval);return()=>window.clearInterval(e)},[t,n.interval]),K.createElement(Gm,{input:!0},K.createElement(Bm,{align:`top`},e),n.graph?K.createElement(db,{ref:r,initialValue:i.current}):K.createElement(pb,{ref:r,initialValue:i.current}))}var gb=[`type`,`label`,`key`],_b={[Mp.BUTTON]:rb,[Mp.BUTTON_GROUP]:sb,[Mp.MONITOR]:hb},vb=K.memo(({path:e})=>{let[t,{set:n,setSettings:r,disable:i,storeId:a,emitOnEditStart:o,emitOnEditEnd:s}]=Qm(e);if(!t)return null;let{type:c,label:l,key:u}=t,d=X(t,gb);if(c in Mp){let t=_b[c];return K.createElement(t,Qp({label:l,path:e},d))}return c in ip?K.createElement(tb,Qp({key:a+e,type:c,label:l,storeId:a,path:e,valueKey:u,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:s},d)):($f(Yf.UNSUPPORTED_INPUT,c,e),null)});function yb({toggle:e,toggled:t,name:n}){return K.createElement(Tm,{onClick:()=>e()},K.createElement(Um,{toggled:t}),K.createElement(`div`,null,n))}var bb=({name:e,path:t,tree:n})=>{let r=im(),i=Yv(t,e),{collapsed:a,color:o}=r.getFolderSettings(i),[s,c]=(0,K.useState)(!a),l=(0,K.useRef)(null),u=mm(`colors`,`folderWidgetColor`),d=mm(`colors`,`folderTextColor`);return(0,K.useLayoutEffect)(()=>{l.current.style.setProperty(`--leva-colors-folderWidgetColor`,o||u),l.current.style.setProperty(`--leva-colors-folderTextColor`,o||d)},[o,u,d]),K.createElement(Cm,{ref:l},K.createElement(yb,{name:e,toggled:s,toggle:()=>c(e=>!e)}),K.createElement(xb,{parent:i,tree:n,toggled:s}))},xb=K.memo(({isRoot:e=!1,fill:t=!1,flat:n=!1,parent:r,tree:i,toggled:a})=>{let{wrapperRef:o,contentRef:s}=ey(a),c=im(),l=([e,t])=>(Qy(t)?c.getInput(t.path)?.order:c.getFolderSettings(Yv(r,e)).order)||0,u=Object.entries(i).sort((e,t)=>l(e)-l(t));return K.createElement(wm,{ref:o,isRoot:e,fill:t,flat:n},K.createElement(Em,{ref:s,isRoot:e,toggled:a},u.map(([e,t])=>Qy(t)?K.createElement(vb,{key:t.path,valueKey:t.valueKey,path:t.path}):K.createElement(bb,{key:e,name:e,path:r,tree:t}))))}),Sb=Q(`div`,{position:`relative`,fontFamily:`$mono`,fontSize:`$root`,color:`$rootText`,backgroundColor:`$elevation1`,variants:{fill:{false:{position:`fixed`,top:`10px`,right:`10px`,zIndex:1e3,width:`$rootWidth`},true:{position:`relative`,width:`100%`}},flat:{false:{borderRadius:`$lg`,boxShadow:`$level1`}},oneLineLabels:{true:{[`${Om}`]:{gridTemplateColumns:`auto`,gridAutoColumns:`minmax(max-content, 1fr)`,gridAutoRows:`minmax($sizes$rowHeight), auto)`,rowGap:0,columnGap:0,marginTop:`$rowGap`}}},hideTitleBar:{true:{$$titleBarHeight:`0px`},false:{$$titleBarHeight:`$sizes$titleBarHeight`}}},"&,*,*:after,*:before":{boxSizing:`border-box`},"*::selection":{backgroundColor:`$accent2`}}),Cb=40,wb=Q(`i`,{$flexCenter:``,width:Cb,userSelect:`none`,cursor:`pointer`,"> svg":{fill:`$highlight1`,transition:`transform 350ms ease, fill 250ms ease`},"&:hover > svg":{fill:`$highlight3`},variants:{active:{true:{"> svg":{fill:`$highlight2`}}}}}),Tb=Q(`div`,{display:`flex`,alignItems:`stretch`,justifyContent:`space-between`,height:`$titleBarHeight`,variants:{mode:{drag:{cursor:`grab`}}}}),Eb=Q(`div`,{$flex:``,position:`relative`,width:`100%`,overflow:`hidden`,transition:`height 250ms ease`,color:`$highlight3`,paddingLeft:`$md`,[`> ${wb}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Db=Q(`input`,{$reset:``,flex:1,position:`relative`,height:30,width:`100%`,backgroundColor:`transparent`,fontSize:`10px`,borderRadius:`$root`,"&:focus":{},"&::placeholder":{color:`$highlight2`}}),Ob=Q(`div`,{touchAction:`none`,$flexCenter:``,flex:1,"> svg":{fill:`$highlight1`},color:`$highlight1`,variants:{drag:{true:{$draggable:``,"> svg":{transition:`fill 250ms ease`},"&:hover":{color:`$highlight3`},"&:hover > svg":{fill:`$highlight3`}}},filterEnabled:{false:{paddingRight:Cb}}}}),kb=K.forwardRef(({setFilter:e,toggle:t},n)=>{let[r,i]=(0,K.useState)(``),a=(0,K.useMemo)(()=>Hp(e,250),[e]),o=()=>{e(``),i(``)};return(0,K.useEffect)(()=>{a(r)},[r,a]),K.createElement(K.Fragment,null,K.createElement(Db,{ref:n,value:r,placeholder:`[Open filter with CMD+SHIFT+L]`,onPointerDown:e=>e.stopPropagation(),onChange:e=>{let n=e.currentTarget.value;t(!0),i(n)}}),K.createElement(wb,{onClick:()=>o(),style:{visibility:r?`visible`:`hidden`}},K.createElement(`svg`,{xmlns:`http://www.w3.org/2000/svg`,height:`14`,width:`14`,viewBox:`0 0 20 20`,fill:`currentColor`},K.createElement(`path`,{fillRule:`evenodd`,d:`M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z`,clipRule:`evenodd`}))))});function Ab({setFilter:e,onDrag:t,onDragStart:n,onDragEnd:r,toggle:i,toggled:a,title:o,drag:s,filterEnabled:c,from:l}){let[u,d]=(0,K.useState)(!1),f=(0,K.useRef)(null);(0,K.useEffect)(()=>{var e,t;u?(e=f.current)==null||e.focus():(t=f.current)==null||t.blur()},[u]);let p=qm(({offset:[e,i],first:a,last:o})=>{t({x:e,y:i}),a&&n({x:e,y:i}),o&&r({x:e,y:i})},{filterTaps:!0,from:({offset:[e,t]})=>[l?.x||e,l?.y||t]});return(0,K.useEffect)(()=>{let e=e=>{e.key===`L`&&e.shiftKey&&e.metaKey&&d(e=>!e)};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[]),K.createElement(K.Fragment,null,K.createElement(Tb,{mode:s?`drag`:void 0},K.createElement(wb,{active:!a,onClick:()=>i()},K.createElement(Um,{toggled:a,width:12,height:8})),K.createElement(Ob,Qp({},s?p():{},{drag:s,filterEnabled:c}),o===void 0&&s?K.createElement(`svg`,{width:`20`,height:`10`,viewBox:`0 0 28 14`,xmlns:`http://www.w3.org/2000/svg`},K.createElement(`circle`,{cx:`2`,cy:`2`,r:`2`}),K.createElement(`circle`,{cx:`14`,cy:`2`,r:`2`}),K.createElement(`circle`,{cx:`26`,cy:`2`,r:`2`}),K.createElement(`circle`,{cx:`2`,cy:`12`,r:`2`}),K.createElement(`circle`,{cx:`14`,cy:`12`,r:`2`}),K.createElement(`circle`,{cx:`26`,cy:`12`,r:`2`})):o),c&&K.createElement(wb,{active:u,onClick:()=>d(e=>!e)},K.createElement(`svg`,{xmlns:`http://www.w3.org/2000/svg`,height:`20`,viewBox:`0 0 20 20`},K.createElement(`path`,{d:`M9 9a2 2 0 114 0 2 2 0 01-4 0z`}),K.createElement(`path`,{fillRule:`evenodd`,d:`M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z`,clipRule:`evenodd`})))),K.createElement(Eb,{toggled:u},K.createElement(kb,{ref:f,setFilter:e,toggle:i})))}var jb=[`store`,`hidden`,`theme`,`collapsed`];function Mb(e){let{store:t,hidden:n=!1,theme:r,collapsed:i=!1}=e,a=X(e,jb),o=$v(()=>pm(r),[r]),[s,c]=(0,K.useState)(!i),l=typeof i==`object`?!i.collapsed:s,u=(0,K.useMemo)(()=>typeof i==`object`?e=>{typeof e==`function`?i.onChange(!e(!i.collapsed)):i.onChange(!e)}:c,[i]);return!t||n?null:K.createElement(tm.Provider,{value:o},K.createElement(Nb,Qp({store:t},a,{toggled:l,setToggle:u,rootClass:o.className})))}var Nb=K.memo(({store:e,rootClass:t,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:a=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:s=!1,toggled:c,setToggle:l})=>{let u=ty(e),[d,f]=(0,K.useState)(``),p=(0,K.useMemo)(()=>$y(u,d),[u,d]),[m,h]=Ym(),g=i||u.length>0,_=typeof o==`object`&&o.title||void 0,v=typeof o==`object`?o.drag??!0:!0,y=typeof o==`object`?o.filter??!0:!0,b=typeof o==`object`&&o.position||void 0,x=typeof o==`object`&&o.onDrag||void 0,S=typeof o==`object`&&o.onDragStart||void 0,C=typeof o==`object`&&o.onDragEnd||void 0;return K.useEffect(()=>{h({x:b?.x,y:b?.y})},[b,h]),fm(),K.createElement(Uf,null,K.createElement(rm.Provider,{value:{hideCopyButton:s}},K.createElement(Sb,{ref:m,className:t,fill:n,flat:r,oneLineLabels:a,hideTitleBar:!o,style:{display:g?`block`:`none`}},o&&K.createElement(Ab,{onDrag:e=>{h(e),x?.(e)},onDragStart:e=>S?.(e),onDragEnd:e=>C?.(e),setFilter:f,toggle:e=>l(t=>e??!t),toggled:c,title:_,drag:v,filterEnabled:y,from:b}),g&&K.createElement(nm.Provider,{value:e},K.createElement(xb,{isRoot:!0,fill:n,flat:r,tree:p,toggled:c})))))}),Pb=[`isRoot`],Fb=!1,Ib=null;function Lb(e){let{isRoot:t=!1}=e,n=X(e,Pb);return(0,K.useEffect)(()=>(Fb=!0,!t&&Ib&&(Ib.remove(),Ib=null),()=>{t||(Fb=!1)}),[t]),K.createElement(Mb,Qp({store:Yy},n))}function Rb(e){(0,K.useEffect)(()=>{e&&!Fb&&(Ib||(Ib=document.getElementById(`leva__root`)||Object.assign(document.createElement(`div`),{id:`leva__root`}),document.body&&(document.body.appendChild(Ib),(0,rr.createRoot)(Ib).render(K.createElement(Lb,{isRoot:!0})))),Fb=!0)},[e])}function zb(e,t,n,r,i){let a,o,s,c,l;return typeof e==`string`?(o=e,a=t,Array.isArray(n)?l=n:n&&(`store`in n?(c=n,l=r):(s=n,Array.isArray(r)?l=r:(c=r,l=i)))):(a=e,Array.isArray(t)?l=t:(c=t,l=n)),{schema:a,folderName:o,folderSettings:s,hookSettings:c,deps:l||[]}}function Bb(e,t,n,r,i){let{folderName:a,schema:o,folderSettings:s,hookSettings:c,deps:l}=zb(e,t,n,r,i),u=typeof o==`function`,d=(0,K.useRef)(!1),f=(0,K.useRef)(!0),p=$v(()=>{d.current=!0;let e=typeof o==`function`?o():o;return a?{[a]:Zy(e,s)}:e},l),m=!(c!=null&&c.store);Rb(m);let[h]=(0,K.useState)(()=>c?.store||Yy),[g,_]=(0,K.useMemo)(()=>h.getDataFromSchema(p),[h,p]),[v,y,b,x,S]=(0,K.useMemo)(()=>{let e=[],t=[],n={},r={},i={};return Object.values(_).forEach(({path:a,onChange:o,onEditStart:s,onEditEnd:c,transient:l})=>{e.push(a),o?(n[a]=o,l||t.push(a)):t.push(a),s&&(r[a]=s),c&&(i[a]=c)}),[e,t,n,r,i]},[_]),C=(0,K.useMemo)(()=>h.orderPaths(v),[v,h]),w=ny(h,y,g),T=(0,K.useCallback)(e=>{let t=Object.entries(e).reduce((e,[t,n])=>Object.assign(e,{[_[t].path]:n}),{});h.set(t,!1)},[h,_]),E=(0,K.useCallback)(e=>h.get(_[e].path),[h,_]);return(0,K.useEffect)(()=>{let e=!f.current&&d.current;return h.addData(g,e),f.current=!1,d.current=!1,()=>h.disposePaths(C)},[h,C,g]),(0,K.useEffect)(()=>{let e=[];return Object.entries(b).forEach(([t,n])=>{n(h.get(t),t,Z({initial:!0,get:h.get},h.getInput(t)));let r=h.useStore.subscribe(e=>{let n=e.data[t];return[n.disabled?void 0:n.value,n]},([e,r])=>n(e,t,Z({initial:!1,get:h.get},r)),{equalityFn:xs});e.push(r)}),()=>e.forEach(e=>e())},[h,b]),(0,K.useEffect)(()=>{let e=[];return Object.entries(x).forEach(([t,n])=>e.push(h.subscribeToEditStart(t,n))),Object.entries(S).forEach(([t,n])=>e.push(h.subscribeToEditEnd(t,n))),()=>e.forEach(e=>e())},[x,S,h]),u?[w,T,E]:w}op(Np.SELECT,_h),op(Np.IMAGE,Py),op(Np.NUMBER,uh),op(Np.COLOR,hy),op(Np.STRING,Ch),op(Np.BOOLEAN,Oh),op(Np.INTERVAL,Gy),op(Np.VECTOR3D,_y),op(Np.VECTOR2D,Ty);const Vb=()=>{let e=Bb({intensity:{label:``,value:2,min:0,max:10}});return(0,G.jsx)(`ambientLight`,{intensity:e.intensity})},Hb=()=>{let e=Bb({intensity1:{label:``,value:1e3,min:0,max:2e3}});return(0,G.jsx)(`pointLight`,{intensity:e.intensity1,position:[-5,20,0],distance:50})},Ub=oe()(ir(e=>({newStyle:!1,pureMode:!1,toggleMapStyle:()=>e(e=>({newStyle:!e.newStyle})),togglePureMode:()=>e(e=>({pureMode:!e.pureMode}))})));var Wb=N.button`
  position: relative;
  padding: 12px 24px;
  font-size: 18px;
  font-weight: bold;
  color: white;
  background: transparent;
  border: none;
  cursor: pointer;
  border-radius: 50px;
  overflow: hidden;
  transition: transform 0.2s ease;

  &:hover {
    transform: scale(1.03);
  }

  &::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: ${({$color:e})=>`conic-gradient(from 0deg, ${e?.join(`, `)??`#aca891, #6e918c`})`};
    z-index: -2;
    filter: blur(10px);
    transform: rotate(0deg);
    transition: transform 1.5s ease-in-out;
  }

  &:hover::before {
    transform: rotate(180deg);
  }

  &::after {
    content: "";
    position: absolute;
    inset: 3px;
    background: black;
    border-radius: 47px;
    z-index: -1;
    filter: blur(5px);
  }

  &:active {
    transform: scale(0.99);
  }
`,Gb=N.div`
  color: transparent;
  background: ${({$color:e})=>`conic-gradient(from 0deg, ${e?.join(`, `)??`#aca891, #6e918c`})`};
  background-clip: text;
`;function Kb(e){let{children:t,$color:n,...r}=e??{};return(0,G.jsx)(Wb,{$color:n,...r,children:(0,G.jsx)(Gb,{$color:n,children:t})})}var qb=[`#ACA891`,`#6E918C`],Jb=Array.from({length:50},(e,t)=>[`2025-06-`+`${t}`.padStart(2,`0`),Math.round(Math.random()*1e3)]),Yb=Jb.map(e=>e[0]),Xb=Jb.map(e=>e[1]);function Zb(){return(0,G.jsx)(Ae,{use:[Ce,ao,$o,Fe,ze],option:{visualMap:[{show:!1,type:`continuous`,seriesIndex:0,min:0,max:400,color:qb},{show:!1,type:`continuous`,seriesIndex:1,dimension:0,min:0,color:qb,max:Yb.length-1}],title:[{left:`center`,text:``,textStyle:{color:`rgba(255, 255, 255, 0.6)`}},{top:`50%`,left:`center`,text:``,textStyle:{color:`rgba(255, 255, 255, 0.6)`}}],tooltip:{trigger:`axis`,axisPointer:{type:`shadow`},textStyle:{color:`#fff`},backgroundColor:`rgba(110,145,140,0.3)`,borderColor:qb[1],borderWidth:1,borderRadius:8},xAxis:[{axisLabel:{color:`rgba(255, 255, 255, 0.6)`},data:Yb},{axisLabel:{color:`rgba(255, 255, 255, 0.6)`},data:Yb,gridIndex:1}],yAxis:[{axisLabel:{color:`rgba(255, 255, 255, 0.6)`},splitLine:{lineStyle:{color:`rgba(255, 255, 255, 0.1)`}}},{axisLabel:{color:`rgba(255, 255, 255, 0.6)`},splitLine:{lineStyle:{color:`rgba(255, 255, 255, 0.1)`}},gridIndex:1}],grid:[{outerBoundsMode:`same`,top:`10%`,left:16,right:16,bottom:`60%`},{outerBoundsMode:`same`,top:`60%`,left:16,right:16,bottom:16}],series:[{type:`line`,showSymbol:!1,data:Xb},{type:`line`,showSymbol:!1,data:Xb,xAxisIndex:1,yAxisIndex:1}]}})}var Qb=[`#ACA891`,`#6E918C`],$b={inCount:``,outCount:``},ex=[[],[],[]];for(let e=0;e<30;e++)ex[0].push(`${e+1}`.padStart(2,`0`)),ex[1].push(Math.round(e*Math.random()*1e3)),ex[2].push(Math.round(e*Math.random()*1020));function tx(){let e=(0,K.useRef)(null),t=(0,K.useRef)(0);return pt(()=>{e.current&&(e.current?.dispatchAction({type:`dataZoom`,startValue:t.current,endValue:t.current+8}),t.current=(t.current+1)%(ex[0].length-8))},2e3),(0,G.jsx)(Ae,{ref:e,use:[Ce,Ze,Ne,yt],option:{tooltip:{trigger:`axis`,axisPointer:{type:`shadow`},textStyle:{color:`#fff`},backgroundColor:`rgba(110,145,140,0.3)`,borderColor:Qb[1],borderWidth:1,borderRadius:8},grid:{top:16,bottom:16,left:16,right:16,outerBoundsMode:`same`},legend:{right:16,top:0,data:Object.values($b).map((e,t)=>({name:e,value:2e3,icon:`none`,textStyle:{color:Qb[t]}}))},calculable:!0,xAxis:{type:`category`,axisLine:{lineStyle:{color:`rgba(255, 255, 255, 0.1)`}},axisLabel:{interval:0,color:`rgba(255, 255, 255, 0.6)`},splitLine:{show:!1},axisTick:{show:!1},data:ex[0]},yAxis:{type:`value`,axisLabel:{interval:0,color:`rgba(255, 255, 255, 0.6)`},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:`rgba(255, 255, 255, 0.1)`}}},dataZoom:{type:`slider`,show:!1,realtime:!0,startValue:0,endValue:8},series:[{name:``,type:`line`,symbol:`none`,smooth:!0,itemStyle:{color:Qb[0]},markPoint:{symbol:`rect`,symbolSize:[50,20],symbolOffset:[0,-10],data:[{type:`max`,name:``}]},data:ex[1]},{name:``,type:`line`,symbol:`none`,smooth:!0,itemStyle:{color:Qb[1]},markPoint:{symbol:`rect`,symbolSize:[50,20],symbolOffset:[0,-10],data:[{type:`max`,name:``}]},data:ex[2]}]}})}var nx=[2e3,3e3,4e3,5e3],rx=[`#91AC9A`,`#6E918C`],ix=[`Q1`,`Q2`,`Q3`,`Q4`];function ax(){let e=(0,K.useRef)(null),t=(0,K.useRef)(0);return pt(()=>{e.current&&(e.current?.dispatchAction({type:`showTip`,seriesIndex:0,dataIndex:t.current}),t.current=(t.current+1)%nx.length)},3e3,!0),(0,G.jsx)(Ae,{ref:e,use:[$e],option:{tooltip:{trigger:`axis`,backgroundColor:`rgba(110,145,140,0.3)`,borderColor:rx[1],borderWidth:1,borderRadius:8,textStyle:{color:`#fff`,fontSize:13,align:`left`},axisPointer:{type:`line`,lineStyle:{width:1,type:`dotted`,color:`#6E918C`}}},grid:{top:`20%`,bottom:`5%`,left:10,right:10,outerBoundsMode:`same`},xAxis:{type:`category`,axisLine:{lineStyle:{color:`rgba(255, 255, 255, 0.1)`}},axisLabel:{interval:0,color:`rgba(255, 255, 255, 0.6)`},axisTick:{show:!1},data:ix},yAxis:{type:`value`,splitLine:{show:!1},axisLine:{show:!1},axisLabel:{color:`rgba(255, 255, 255, 0.6)`},axisTick:{show:!1}},series:[{name:``,type:`bar`,barWidth:30,label:{show:!0,position:`top`,color:`#fff`},itemStyle:{color:{type:`linear`,x:0,y:0,x2:0,y2:1,colorStops:rx.map((e,t)=>({offset:t,color:e})),global:!1}},data:nx}]}})}function ox(){return(0,G.jsx)(it,{rowHeight:50,column:[{title:``,dataIndex:`value1`},{title:``,dataIndex:`value2`},{title:`()`,dataIndex:`value3`},{title:`()`,dataIndex:`value4`}],data:Array.from({length:100},(e,t)=>({value1:`${t+1}`,value2:`${t+1}`,value3:(Math.random()*100).toFixed(2),value4:(Math.random()*1e3).toFixed(2)}))})}var sx=`/sc-datav/assets/card_bg-BC_Tzv90.jpg`,cx=N.div`
  position: absolute;
  inset: 0;
  z-index: -1;
  background: radial-gradient(transparent 60%, black);
  transition: opacity 0.8s;
`,lx=N.div`
  flex: 1;
  min-height: 0;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  grid-template-rows: repeat(4, minmax(0, 1fr));
  gap: 20px;
  padding: 20px;
`,ux=N.div`
  position: relative;
  display: flex;
  flex-direction: column;
  color: #ffffff;
  pointer-events: auto;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(141, 141, 141, 0.2);
  border-radius: 4px;

  &::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: url(${sx});
    background-size: 100px;
    opacity: 0.2;
    border-radius: 0px;
    z-index: -1;
    z-index: -1;
  }
`,dx=N.div`
  font-family: "pmzd";
  width: 100%;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  font-size: 36px;
  letter-spacing: 0px;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  color: #ffffff;
  padding-left: 20px;
`,fx=N(ux)`
  flex-direction: row;
  align-items: center;
`,px=N.div`
  font-family: "pmzd";
  font-size: 28px;
  padding: 8px 16px;
`,mx=N.div`
  position: absolute;
  pointer-events: auto;
  bottom: 20px;
  left: 50%;
  display: flex;
  gap: 20px;
`,hx=N.a.attrs({children:(0,G.jsx)(`svg`,{width:`1em`,height:`1em`,viewBox:`0 0 22 22`,version:`1.1`,children:(0,G.jsx)(`g`,{stroke:`none`,strokeWidth:`1`,fill:`none`,fillRule:`evenodd`,children:(0,G.jsx)(`g`,{transform:`translate(-262.000000, -2480.000000)`,fill:`#ffffff`,children:(0,G.jsx)(`g`,{transform:`translate(252.000000, 2470.000000)`,children:(0,G.jsx)(`path`,{d:`M29.9006449,27.904446 C28.5016932,29.8668872 26.6944882,31.2248797 24.4790301,31.9784237 C24.2211218,32.0272886 24.0325745,31.9931534 23.9133882,31.876018 C23.7942019,31.7588827 23.7346171,31.6119968 23.7346338,31.4353603 L23.7346338,28.3376019 C23.7346338,27.3880159 23.4865017,26.6930482 22.9902375,26.2526987 C23.5347812,26.1938141 24.024319,26.1058042 24.458851,25.9886688 C24.893383,25.8715335 25.3422785,25.680801 25.8055376,25.4164714 C26.2687966,25.1521418 26.6556591,24.8267354 26.9661251,24.4402521 C27.276591,24.0537688 27.5296112,23.5398222 27.7251857,22.8984123 C27.9207602,22.2570024 28.0185475,21.5203805 28.0185475,20.6885464 C28.0185475,19.504056 27.6414612,18.4959023 26.8872886,17.6640854 C27.240536,16.7733669 27.2023419,15.7752328 26.7727063,14.6696833 C26.5050218,14.5813565 26.1181593,14.6352226 25.6121189,14.8312818 C25.1060784,15.0273409 24.6669591,15.2428141 24.2947609,15.4777015 L23.7502256,15.8300324 C22.8622108,15.5757225 21.9454689,15.4485675 21,15.4485675 C20.0545311,15.4485675 19.1377892,15.5757225 18.2497744,15.8300324 C18.0969813,15.7223001 17.8940788,15.5901353 17.641067,15.433538 C17.3880551,15.2769408 16.9892689,15.0884007 16.4447085,14.8679176 C15.9001481,14.6474346 15.4894467,14.5813479 15.2126043,14.6696576 C14.7921266,15.7758408 14.7588206,16.7739749 15.1126863,17.6640597 C14.3585137,18.4958938 13.9814275,19.5040475 13.9814275,20.6885208 C13.9814275,21.5203548 14.0792147,22.2544676 14.2747892,22.8908591 C14.4703637,23.5272505 14.720944,24.0411971 15.0265302,24.4326988 C15.3321164,24.8242005 15.7165391,25.1521076 16.1797981,25.41642 C16.6430571,25.6807325 17.0919527,25.871465 17.5264847,25.9886174 C17.9610167,26.1057699 18.4505545,26.1937799 18.9950982,26.2526473 C18.6131238,26.60467 18.3790461,27.1085884 18.292865,27.7644025 C18.0924107,27.8621152 17.8775846,27.935404 17.6483866,27.984269 C17.4191886,28.0331339 17.1469167,28.0575663 16.831571,28.0575663 C16.5162253,28.0575663 16.203612,27.9523346 15.8937309,27.7418712 C15.5838499,27.5314078 15.3189144,27.225424 15.0989244,26.8239198 C14.9174043,26.5107253 14.6857747,26.2564154 14.4040358,26.0609899 C14.1222969,25.8655645 13.8860801,25.7481209 13.6953854,25.708659 L13.4084408,25.6644956 C13.2079866,25.6644956 13.069557,25.6864188 12.9931521,25.7302654 C12.9167472,25.7741119 12.8929083,25.8304873 12.9216353,25.8993914 C12.9503623,25.9682956 12.9934529,26.0368829 13.050907,26.1051533 C13.1083611,26.1734238 13.1703941,26.2319915 13.2370061,26.2808564 L13.336924,26.3541538 C13.5471712,26.4518665 13.7549701,26.6378974 13.9603209,26.9122466 C14.1656716,27.1865958 14.3160164,27.4362043 14.4113555,27.661072 L14.554364,27.9983735 C14.67843,28.3704354 14.8886689,28.6714094 15.1850804,28.9012955 C15.481492,29.1311815 15.8014334,29.2780674 16.1449045,29.3419532 C16.4883756,29.405839 16.8202406,29.4399742 17.1404995,29.4443589 C17.4607584,29.4487435 17.7256939,29.4315218 17.935306,29.3926936 L18.2644137,29.3335008 C18.2644137,29.7055627 18.2668619,30.1412107 18.2717584,30.6404447 C18.2766548,31.1396787 18.279103,31.4040083 18.279103,31.4334334 C18.279103,31.6094533 18.21707,31.7563392 18.093004,31.8740912 C17.9689379,31.9918431 17.7779507,32.0259784 17.5200424,31.9764969 C15.3045843,31.22297 13.4973793,29.8649774 12.0984276,27.9025191 C10.6994759,25.9400608 10,23.7305118 10,21.2738721 C10,19.2281225 10.4916769,17.3417791 11.4750308,15.6148418 C12.4583846,13.8879045 13.7928551,12.5202092 15.4784422,11.5117558 C17.1640293,10.5033024 19.0045486,9.99938397 21,10.0000006 C22.9954514,10.0006172 24.8359707,10.5045356 26.5215578,11.5117558 C28.2071449,12.518976 29.5416154,13.8866713 30.5249692,15.6148418 C31.5083231,17.3430123 32,19.2293557 32,21.2738721 C31.9990725,23.7324558 31.2995966,25.9420048 29.9006449,27.904446 Z`})})})})})})`
  width: 44px;
  height: 44px;
  font-size: 44px;
  padding-right: 16px;
`;function gx(){let e=(0,K.useRef)(null),t=f(`toBottom`,.6,1),n=f(`toRight`,.8,1.5),r=f(`toRight`,.8,1.5),i=f(`toLeft`,.8,1.5),a=f(`toLeft`,.8,1.5),o=f(`toTop`,.8,1.5,`translateX(-50%)`),s=Ub(e=>e.togglePureMode),c=Ub(e=>e.toggleMapStyle);return(0,K.useEffect)(()=>{let s=!0;o.restart(s);let c=Ub.subscribe(e=>e.pureMode,o=>{o?(t.reverse(),n.reverse(),r.reverse(),i.reverse(),a.reverse(),e.current.style.setProperty(`opacity`,`0`)):(t.restart(s),n.restart(s),r.restart(s),i.restart(s),a.restart(s),e.current.style.setProperty(`opacity`,`1`))},{fireImmediately:!0});return s=!1,()=>{s=!0,c()}},[]),(0,G.jsxs)(g,{children:[(0,G.jsx)(cx,{ref:e}),(0,G.jsxs)(fx,{ref:t.ref,children:[(0,G.jsx)(dx,{children:``}),(0,G.jsx)(hx,{href:`https://github.com/knight-L/datav`,target:`_blank`})]}),(0,G.jsxs)(lx,{children:[(0,G.jsxs)(ux,{ref:n.ref,style:{gridArea:`1 / 1 / 3 / 2`},children:[(0,G.jsx)(px,{children:``}),(0,G.jsx)(Zb,{})]}),(0,G.jsxs)(ux,{ref:r.ref,style:{gridArea:`3 / 1 / 5 / 2`},children:[(0,G.jsx)(px,{children:``}),(0,G.jsx)(tx,{})]}),(0,G.jsxs)(ux,{ref:i.ref,style:{gridArea:`1 / 4 / 3 / 5`},children:[(0,G.jsx)(px,{style:{textAlign:`right`},children:``}),(0,G.jsx)(ax,{})]}),(0,G.jsxs)(ux,{ref:a.ref,style:{gridArea:`3 / 4 / 5 / 5`},children:[(0,G.jsx)(px,{style:{textAlign:`right`},children:``}),(0,G.jsx)(ox,{})]}),(0,G.jsxs)(mx,{ref:o.ref,children:[(0,G.jsx)(Kb,{onClick:c,children:``}),(0,G.jsx)(Kb,{onClick:s,children:``})]})]})]})}function _x(e){let{ref:t,args:n,bbox:r,children:i,...a}=e,o=(0,K.useRef)(null);return(0,K.useImperativeHandle)(t,()=>o.current),(0,K.useLayoutEffect)(()=>{let{geometry:e}=o.current,t=e.attributes.position,n=r.max.x-r.min.x,i=r.max.y-r.min.y,a=[],s=0,c=0,l=0,u=0;for(let e=0;e<t.count;e++)s=t.getX(e),c=t.getY(e),l=(s-r.min.x)/n,u=(c-r.min.y)/i,a.push(l,u);e.setAttribute(`uv`,new Se(a,2))}),(0,G.jsxs)(`mesh`,{ref:o,...a,children:[(0,G.jsx)(`shapeGeometry`,{attach:`geometry`,args:n}),i]})}var vx=_x,yx=`/sc-datav/assets/sc_displacement_map-DafhxGNF.png`,bx=nt;function xx({projection:e}){let t=Ub(e=>e.newStyle),[n,r,i]=qe([He,ft,yx],e=>e.forEach(e=>{e.wrapS=e.wrapT=Dt})),{regions:a,bbox:o}=(0,K.useMemo)(()=>{let t=[],n=new fe,r=t=>{let[r,i]=e(t),a=new Je(r,-i);return n.expandByPoint(a),a};return bx.features.forEach(n=>{let[i,a]=e(n.properties.centroid??n.properties.center),o=n.geometry.coordinates.reduce((e,t)=>[...e,...t.map(e=>e.map(r))],[]);t.push({name:n.properties.name,center:new P(i,-a),points:o})}),{regions:t,bbox:n}},[e]);return t?(0,G.jsx)(`group`,{renderOrder:0,position:[0,0,.51],children:a.map((e,t)=>(0,G.jsxs)(K.Fragment,{children:[(0,G.jsx)(vx,{bbox:o,args:[e.points.map(e=>new wt(e))],children:(0,G.jsx)(`meshStandardMaterial`,{map:n,normalMap:r,displacementMap:i,metalness:.2,roughness:.5,side:2})}),(0,G.jsx)(`group`,{position:[0,0,.6],children:(0,G.jsx)(Mr,{position:e.center,children:(0,G.jsx)(wa,{color:`#ffffff`,fontSize:.3,fontWeight:600,children:e.name})})})]},`new`+t))}):(0,G.jsx)(`group`,{renderOrder:0,position:[0,0,.51],children:a.map((e,t)=>(0,G.jsxs)(K.Fragment,{children:[(0,G.jsx)(vx,{bbox:o,args:[e.points.map(e=>new wt(e))],children:(0,G.jsx)(`meshStandardMaterial`,{map:n,normalMap:r,metalness:.2,roughness:.5,side:2})}),(0,G.jsx)(Nr,{position:[0,0,.01],points:e.points[0],linewidth:1,color:`#a7a7a7`}),(0,G.jsx)(`group`,{position:[0,0,.2],children:(0,G.jsx)(Mr,{position:e.center,children:(0,G.jsx)(wa,{color:`#ffffff`,fontSize:.3,fontWeight:600,children:e.name})})})]},t))})}function Sx(){let e=Bb({background:{label:``,value:`#0e171a`},background1:{label:``,value:`#90aba7`,transient:!1,onChange:e=>{t.current.uRiseColor.value=new ut(e)}}}),t=(0,K.useRef)({uRiseTime:{value:-.8},uRiseColor:{value:new ut(e.background1)}});return A(()=>{t.current.uRiseTime.value=t.current.uRiseTime.value>=.5?-.8:t.current.uRiseTime.value+.003}),(0,G.jsx)(`meshPhysicalMaterial`,{transparent:!0,opacity:.9,color:e.background,onBeforeCompile:e=>{e.uniforms={...e.uniforms,...t.current},e.vertexShader=e.vertexShader.replace(`#include <common>`,`
                #include <common>
                varying vec3 vTransformedNormal;
                varying float vHeight;
              `).replace(`#include <begin_vertex>`,`
                #include <begin_vertex>
                vTransformedNormal = normalize(normal);
                vHeight = transformed.z;
              `),e.fragmentShader=e.fragmentShader.replace(`#include <common>`,`
            #include <common>
            uniform vec3 uRiseColor;
            uniform float uRiseTime;
            varying float vHeight;
            varying vec3 vTransformedNormal;

            vec3 riseLine() {
                float smoothness = 0.5;
                float speed = uRiseTime;
                bool isTopBottom = (vTransformedNormal.z > 0.0 || vTransformedNormal.z < 0.0) && vTransformedNormal.x == 0.0 && vTransformedNormal.y == 0.0;
                float ratio = isTopBottom ? 0.0 : smoothstep(speed, speed + smoothness, vHeight) - smoothstep(speed + smoothness, speed + smoothness * 2.0, vHeight);
                return uRiseColor * ratio;
            }
            `).replace(`#include <dithering_fragment>`,`
                #include <dithering_fragment>
                gl_FragColor = gl_FragColor + vec4(riseLine(), 1.0);
              `)}})}function Cx({projection:e}){return(0,G.jsx)(`group`,{renderOrder:1,children:gt.features.map(t=>t.geometry.coordinates[0].map((n,r)=>(0,G.jsx)(Aa,{args:[new wt(n.map(t=>{let[n,r]=e(t);return new Je(n,-r)})),{depth:.5,bevelEnabled:!1}],children:(0,G.jsx)(Sx,{})},`${t.properties.name}--${r}`)))})}function wx({projection:e}){let t=(0,K.useRef)(0),n=(0,K.useRef)(50),r=(0,K.useRef)(new w),i=(0,K.useRef)(null),a=(0,K.useRef)([]),o=Bb({lineColor:{label:``,value:`#ffffff`},animation:{label:``,value:!0}});return(0,K.useEffect)(()=>{let o=[];gt.features.map(t=>{t.geometry.coordinates[0].map(t=>{o=t.map(t=>{let[n,r]=e(t);return new P(n,-r,.49)})})}),a.current=new ne(o).getSpacedPoints(800),t.current=Math.floor((a.current.length-35)*Math.random());let s=a.current.slice(t.current,t.current+n.current);i.current=new ne(s);let c=i.current.getSpacedPoints(200);r.current.setFromPoints(c);let l=Math.floor(c.length/2),u=c.map((e,t)=>t<l?t/l:1-(t-l)/l);r.current.attributes.percent=new Se(u,1)},[e]),A((e,s)=>{if(!i.current||!o.animation)return;let c=a.current,l=c.length;t.current=(t.current+60*s)%l;let u=Math.floor(t.current),d=u+n.current,f;if(d<=l)f=c.slice(u,d);else{let e=d-l;f=c.slice(u).concat(c.slice(0,e))}i.current.points=f;let p=i.current.getSpacedPoints(200);r.current.setFromPoints(p)}),(0,G.jsx)(`object3D`,{position:[0,0,.01],children:(0,G.jsx)(`points`,{geometry:r.current,children:(0,G.jsx)(`pointsMaterial`,{transparent:!0,color:o.lineColor,size:.2,onBeforeCompile:e=>{e.vertexShader=e.vertexShader.replace(`void main() {`,`attribute float percent;
void main() {`).replace(`gl_PointSize = size;`,`gl_PointSize = percent * size;`),e.fragmentShader=e.fragmentShader.replace(`#include <output_fragment>`,` 
                #include <output_fragment>
                float r = distance(gl_PointCoord, vec2(0.5));
                float alpha = pow(1.0 - r / 0.5, 6.0);
                gl_FragColor = vec4(gl_FragColor.rgb, gl_FragColor.a * alpha);
                `)}})})})}var Tx=nt;function Ex(){let e=ae(e=>e.camera),t=(0,K.useMemo)(()=>Ee().center(Tx.features[0].properties.centroid).translate([0,0]),[]);return(0,K.useLayoutEffect)(()=>{let t=L.fromTo(e.position,{x:-50,y:50,z:150},{x:0,y:80,z:100,duration:1.5,ease:`sine.inOut`});return()=>{t.kill()}},[e]),(0,G.jsx)(Ye,{top:!0,children:(0,G.jsxs)(`group`,{rotation:[-Math.PI/2,0,0],scale:.8,children:[(0,G.jsx)(xx,{projection:t}),(0,G.jsx)(Cx,{projection:t}),(0,G.jsx)(wx,{projection:t})]})})}var Dx=N.div`
  position: relative;
  width: 100vw;
  height: 100vh;
`,Ox=N.div`
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
`,kx=N.div`
  .leva-c-kWgxhW-bCBHqk-fill-false {
    right: 80px;
  }
`;function Ax(){let e=Bb({:Zy({infiniteGrid:{label:``,value:!0},cellColor:{label:``,value:`#6f6f6f`},sectionColor:{label:``,value:`#7fe5a8`}}),GBackground:{label:``,value:`#26282a`}});return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(kx,{children:(0,G.jsx)(Lb,{collapsed:!0})}),(0,G.jsxs)(Dx,{children:[(0,G.jsx)(Ox,{children:(0,G.jsxs)(ce,{camera:{fov:70},dpr:[1,2],children:[(0,G.jsx)(`color`,{attach:`background`,args:[e.GBackground]}),(0,G.jsx)(Oa,{infiniteGrid:e.infiniteGrid,scale:2,cellSize:.3,cellThickness:.6,sectionSize:1.5,sectionThickness:1.5,sectionColor:e.sectionColor,cellColor:e.cellColor,fadeDistance:30}),(0,G.jsx)(Vb,{}),(0,G.jsx)(Hb,{}),(0,G.jsx)(Na,{fade:!0,count:1e3,factor:8,saturation:0,speed:2}),(0,G.jsx)(Ex,{}),(0,G.jsx)(s,{enablePan:!0,enableZoom:!0,enableRotate:!0,zoomSpeed:.3,minDistance:10,maxDistance:20,maxPolarAngle:1.5})]})}),(0,G.jsx)(gx,{})]})]})}export{Ax as default};